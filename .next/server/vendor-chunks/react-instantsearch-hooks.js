"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/react-instantsearch-hooks";
exports.ids = ["vendor-chunks/react-instantsearch-hooks"];
exports.modules = {

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/index.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/index.js ***!
  \*******************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nvar AlgoliaSearchHelper = __webpack_require__(/*! ./src/algoliasearch.helper */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/algoliasearch.helper.js\");\nvar SearchParameters = __webpack_require__(/*! ./src/SearchParameters */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/SearchParameters/index.js\");\nvar SearchResults = __webpack_require__(/*! ./src/SearchResults */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/SearchResults/index.js\");\n/**\n * The algoliasearchHelper module is the function that will let its\n * contains everything needed to use the Algoliasearch\n * Helper. It is a also a function that instanciate the helper.\n * To use the helper, you also need the Algolia JS client v3.\n * @example\n * //using the UMD build\n * var client = algoliasearch('latency', '6be0576ff61c053d5f9a3225e2a90f76');\n * var helper = algoliasearchHelper(client, 'bestbuy', {\n *   facets: ['shipping'],\n *   disjunctiveFacets: ['category']\n * });\n * helper.on('result', function(event) {\n *   console.log(event.results);\n * });\n * helper\n *   .toggleFacetRefinement('category', 'Movies & TV Shows')\n *   .toggleFacetRefinement('shipping', 'Free shipping')\n *   .search();\n * @example\n * // The helper is an event emitter using the node API\n * helper.on('result', updateTheResults);\n * helper.once('result', updateTheResults);\n * helper.removeListener('result', updateTheResults);\n * helper.removeAllListeners('result');\n * @module algoliasearchHelper\n * @param  {AlgoliaSearch} client an AlgoliaSearch client\n * @param  {string} index the name of the index to query\n * @param  {SearchParameters|object} opts an object defining the initial config of the search. It doesn't have to be a {SearchParameters}, just an object containing the properties you need from it.\n * @return {AlgoliaSearchHelper} The helper instance\n */ function algoliasearchHelper(client, index, opts) {\n    return new AlgoliaSearchHelper(client, index, opts);\n}\n/**\n * The version currently used\n * @member module:algoliasearchHelper.version\n * @type {number}\n */ algoliasearchHelper.version = __webpack_require__(/*! ./src/version */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/version.js\");\n/**\n * Constructor for the Helper.\n * @member module:algoliasearchHelper.AlgoliaSearchHelper\n * @type {AlgoliaSearchHelper}\n */ algoliasearchHelper.AlgoliaSearchHelper = AlgoliaSearchHelper;\n/**\n * Constructor for the object containing all the parameters of the search.\n * @member module:algoliasearchHelper.SearchParameters\n * @type {SearchParameters}\n */ algoliasearchHelper.SearchParameters = SearchParameters;\n/**\n * Constructor for the object containing the results of the search.\n * @member module:algoliasearchHelper.SearchResults\n * @type {SearchResults}\n */ algoliasearchHelper.SearchResults = SearchResults;\nmodule.exports = algoliasearchHelper;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9ub2RlX21vZHVsZXMvYWxnb2xpYXNlYXJjaC1oZWxwZXIvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFFQSxJQUFJQSxzQkFBc0JDLG1CQUFPQSxDQUFDO0FBQ2xDLElBQUlDLG1CQUFtQkQsbUJBQU9BLENBQUM7QUFDL0IsSUFBSUUsZ0JBQWdCRixtQkFBT0EsQ0FBQztBQUU1Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBOEJDLEdBQ0QsU0FBU0csb0JBQW9CQyxNQUFNLEVBQUVDLEtBQUssRUFBRUMsSUFBSTtJQUM5QyxPQUFPLElBQUlQLG9CQUFvQkssUUFBUUMsT0FBT0M7QUFDaEQ7QUFFQTs7OztDQUlDLEdBQ0RILG9CQUFvQkksT0FBTyxHQUFHUCxtQkFBT0EsQ0FBQztBQUV0Qzs7OztDQUlDLEdBQ0RHLG9CQUFvQkosbUJBQW1CLEdBQUdBO0FBRTFDOzs7O0NBSUMsR0FDREksb0JBQW9CRixnQkFBZ0IsR0FBR0E7QUFFdkM7Ozs7Q0FJQyxHQUNERSxvQkFBb0JELGFBQWEsR0FBR0E7QUFFcENNLE9BQU9DLE9BQU8sR0FBR04iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZWR1c2EtbmV4dC8uL25vZGVfbW9kdWxlcy9yZWFjdC1pbnN0YW50c2VhcmNoLWhvb2tzL25vZGVfbW9kdWxlcy9hbGdvbGlhc2VhcmNoLWhlbHBlci9pbmRleC5qcz9lOTBhIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIEFsZ29saWFTZWFyY2hIZWxwZXIgPSByZXF1aXJlKCcuL3NyYy9hbGdvbGlhc2VhcmNoLmhlbHBlcicpO1xudmFyIFNlYXJjaFBhcmFtZXRlcnMgPSByZXF1aXJlKCcuL3NyYy9TZWFyY2hQYXJhbWV0ZXJzJyk7XG52YXIgU2VhcmNoUmVzdWx0cyA9IHJlcXVpcmUoJy4vc3JjL1NlYXJjaFJlc3VsdHMnKTtcblxuLyoqXG4gKiBUaGUgYWxnb2xpYXNlYXJjaEhlbHBlciBtb2R1bGUgaXMgdGhlIGZ1bmN0aW9uIHRoYXQgd2lsbCBsZXQgaXRzXG4gKiBjb250YWlucyBldmVyeXRoaW5nIG5lZWRlZCB0byB1c2UgdGhlIEFsZ29saWFzZWFyY2hcbiAqIEhlbHBlci4gSXQgaXMgYSBhbHNvIGEgZnVuY3Rpb24gdGhhdCBpbnN0YW5jaWF0ZSB0aGUgaGVscGVyLlxuICogVG8gdXNlIHRoZSBoZWxwZXIsIHlvdSBhbHNvIG5lZWQgdGhlIEFsZ29saWEgSlMgY2xpZW50IHYzLlxuICogQGV4YW1wbGVcbiAqIC8vdXNpbmcgdGhlIFVNRCBidWlsZFxuICogdmFyIGNsaWVudCA9IGFsZ29saWFzZWFyY2goJ2xhdGVuY3knLCAnNmJlMDU3NmZmNjFjMDUzZDVmOWEzMjI1ZTJhOTBmNzYnKTtcbiAqIHZhciBoZWxwZXIgPSBhbGdvbGlhc2VhcmNoSGVscGVyKGNsaWVudCwgJ2Jlc3RidXknLCB7XG4gKiAgIGZhY2V0czogWydzaGlwcGluZyddLFxuICogICBkaXNqdW5jdGl2ZUZhY2V0czogWydjYXRlZ29yeSddXG4gKiB9KTtcbiAqIGhlbHBlci5vbigncmVzdWx0JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAqICAgY29uc29sZS5sb2coZXZlbnQucmVzdWx0cyk7XG4gKiB9KTtcbiAqIGhlbHBlclxuICogICAudG9nZ2xlRmFjZXRSZWZpbmVtZW50KCdjYXRlZ29yeScsICdNb3ZpZXMgJiBUViBTaG93cycpXG4gKiAgIC50b2dnbGVGYWNldFJlZmluZW1lbnQoJ3NoaXBwaW5nJywgJ0ZyZWUgc2hpcHBpbmcnKVxuICogICAuc2VhcmNoKCk7XG4gKiBAZXhhbXBsZVxuICogLy8gVGhlIGhlbHBlciBpcyBhbiBldmVudCBlbWl0dGVyIHVzaW5nIHRoZSBub2RlIEFQSVxuICogaGVscGVyLm9uKCdyZXN1bHQnLCB1cGRhdGVUaGVSZXN1bHRzKTtcbiAqIGhlbHBlci5vbmNlKCdyZXN1bHQnLCB1cGRhdGVUaGVSZXN1bHRzKTtcbiAqIGhlbHBlci5yZW1vdmVMaXN0ZW5lcigncmVzdWx0JywgdXBkYXRlVGhlUmVzdWx0cyk7XG4gKiBoZWxwZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCdyZXN1bHQnKTtcbiAqIEBtb2R1bGUgYWxnb2xpYXNlYXJjaEhlbHBlclxuICogQHBhcmFtICB7QWxnb2xpYVNlYXJjaH0gY2xpZW50IGFuIEFsZ29saWFTZWFyY2ggY2xpZW50XG4gKiBAcGFyYW0gIHtzdHJpbmd9IGluZGV4IHRoZSBuYW1lIG9mIHRoZSBpbmRleCB0byBxdWVyeVxuICogQHBhcmFtICB7U2VhcmNoUGFyYW1ldGVyc3xvYmplY3R9IG9wdHMgYW4gb2JqZWN0IGRlZmluaW5nIHRoZSBpbml0aWFsIGNvbmZpZyBvZiB0aGUgc2VhcmNoLiBJdCBkb2Vzbid0IGhhdmUgdG8gYmUgYSB7U2VhcmNoUGFyYW1ldGVyc30sIGp1c3QgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHByb3BlcnRpZXMgeW91IG5lZWQgZnJvbSBpdC5cbiAqIEByZXR1cm4ge0FsZ29saWFTZWFyY2hIZWxwZXJ9IFRoZSBoZWxwZXIgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gYWxnb2xpYXNlYXJjaEhlbHBlcihjbGllbnQsIGluZGV4LCBvcHRzKSB7XG4gIHJldHVybiBuZXcgQWxnb2xpYVNlYXJjaEhlbHBlcihjbGllbnQsIGluZGV4LCBvcHRzKTtcbn1cblxuLyoqXG4gKiBUaGUgdmVyc2lvbiBjdXJyZW50bHkgdXNlZFxuICogQG1lbWJlciBtb2R1bGU6YWxnb2xpYXNlYXJjaEhlbHBlci52ZXJzaW9uXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5hbGdvbGlhc2VhcmNoSGVscGVyLnZlcnNpb24gPSByZXF1aXJlKCcuL3NyYy92ZXJzaW9uJyk7XG5cbi8qKlxuICogQ29uc3RydWN0b3IgZm9yIHRoZSBIZWxwZXIuXG4gKiBAbWVtYmVyIG1vZHVsZTphbGdvbGlhc2VhcmNoSGVscGVyLkFsZ29saWFTZWFyY2hIZWxwZXJcbiAqIEB0eXBlIHtBbGdvbGlhU2VhcmNoSGVscGVyfVxuICovXG5hbGdvbGlhc2VhcmNoSGVscGVyLkFsZ29saWFTZWFyY2hIZWxwZXIgPSBBbGdvbGlhU2VhcmNoSGVscGVyO1xuXG4vKipcbiAqIENvbnN0cnVjdG9yIGZvciB0aGUgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBwYXJhbWV0ZXJzIG9mIHRoZSBzZWFyY2guXG4gKiBAbWVtYmVyIG1vZHVsZTphbGdvbGlhc2VhcmNoSGVscGVyLlNlYXJjaFBhcmFtZXRlcnNcbiAqIEB0eXBlIHtTZWFyY2hQYXJhbWV0ZXJzfVxuICovXG5hbGdvbGlhc2VhcmNoSGVscGVyLlNlYXJjaFBhcmFtZXRlcnMgPSBTZWFyY2hQYXJhbWV0ZXJzO1xuXG4vKipcbiAqIENvbnN0cnVjdG9yIGZvciB0aGUgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHJlc3VsdHMgb2YgdGhlIHNlYXJjaC5cbiAqIEBtZW1iZXIgbW9kdWxlOmFsZ29saWFzZWFyY2hIZWxwZXIuU2VhcmNoUmVzdWx0c1xuICogQHR5cGUge1NlYXJjaFJlc3VsdHN9XG4gKi9cbmFsZ29saWFzZWFyY2hIZWxwZXIuU2VhcmNoUmVzdWx0cyA9IFNlYXJjaFJlc3VsdHM7XG5cbm1vZHVsZS5leHBvcnRzID0gYWxnb2xpYXNlYXJjaEhlbHBlcjtcbiJdLCJuYW1lcyI6WyJBbGdvbGlhU2VhcmNoSGVscGVyIiwicmVxdWlyZSIsIlNlYXJjaFBhcmFtZXRlcnMiLCJTZWFyY2hSZXN1bHRzIiwiYWxnb2xpYXNlYXJjaEhlbHBlciIsImNsaWVudCIsImluZGV4Iiwib3B0cyIsInZlcnNpb24iLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/DerivedHelper/index.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/DerivedHelper/index.js ***!
  \*************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nvar EventEmitter = __webpack_require__(/*! @algolia/events */ \"(ssr)/./node_modules/@algolia/events/events.js\");\nvar inherits = __webpack_require__(/*! ../functions/inherits */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/inherits.js\");\n/**\n * A DerivedHelper is a way to create sub requests to\n * Algolia from a main helper.\n * @class\n * @classdesc The DerivedHelper provides an event based interface for search callbacks:\n *  - search: when a search is triggered using the `search()` method.\n *  - result: when the response is retrieved from Algolia and is processed.\n *    This event contains a {@link SearchResults} object and the\n *    {@link SearchParameters} corresponding to this answer.\n * @param {AlgoliaSearchHelper} mainHelper the main helper\n * @param {function} fn the function to create the derived state\n */ function DerivedHelper(mainHelper, fn) {\n    this.main = mainHelper;\n    this.fn = fn;\n    this.lastResults = null;\n}\ninherits(DerivedHelper, EventEmitter);\n/**\n * Detach this helper from the main helper\n * @return {undefined}\n * @throws Error if the derived helper is already detached\n */ DerivedHelper.prototype.detach = function() {\n    this.removeAllListeners();\n    this.main.detachDerivedHelper(this);\n};\nDerivedHelper.prototype.getModifiedState = function(parameters) {\n    return this.fn(parameters);\n};\nmodule.exports = DerivedHelper;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9ub2RlX21vZHVsZXMvYWxnb2xpYXNlYXJjaC1oZWxwZXIvc3JjL0Rlcml2ZWRIZWxwZXIvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFFQSxJQUFJQSxlQUFlQyxtQkFBT0EsQ0FBQztBQUUzQixJQUFJQyxXQUFXRCxtQkFBT0EsQ0FBQztBQUV2Qjs7Ozs7Ozs7Ozs7Q0FXQyxHQUNELFNBQVNFLGNBQWNDLFVBQVUsRUFBRUMsRUFBRTtJQUNuQyxJQUFJLENBQUNDLElBQUksR0FBR0Y7SUFDWixJQUFJLENBQUNDLEVBQUUsR0FBR0E7SUFDVixJQUFJLENBQUNFLFdBQVcsR0FBRztBQUNyQjtBQUVBTCxTQUFTQyxlQUFlSDtBQUV4Qjs7OztDQUlDLEdBQ0RHLGNBQWNLLFNBQVMsQ0FBQ0MsTUFBTSxHQUFHO0lBQy9CLElBQUksQ0FBQ0Msa0JBQWtCO0lBQ3ZCLElBQUksQ0FBQ0osSUFBSSxDQUFDSyxtQkFBbUIsQ0FBQyxJQUFJO0FBQ3BDO0FBRUFSLGNBQWNLLFNBQVMsQ0FBQ0ksZ0JBQWdCLEdBQUcsU0FBVUMsVUFBVTtJQUM3RCxPQUFPLElBQUksQ0FBQ1IsRUFBRSxDQUFDUTtBQUNqQjtBQUVBQyxPQUFPQyxPQUFPLEdBQUdaIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVkdXNhLW5leHQvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9ub2RlX21vZHVsZXMvYWxnb2xpYXNlYXJjaC1oZWxwZXIvc3JjL0Rlcml2ZWRIZWxwZXIvaW5kZXguanM/ZmJlNCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdAYWxnb2xpYS9ldmVudHMnKTtcblxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnLi4vZnVuY3Rpb25zL2luaGVyaXRzJyk7XG5cbi8qKlxuICogQSBEZXJpdmVkSGVscGVyIGlzIGEgd2F5IHRvIGNyZWF0ZSBzdWIgcmVxdWVzdHMgdG9cbiAqIEFsZ29saWEgZnJvbSBhIG1haW4gaGVscGVyLlxuICogQGNsYXNzXG4gKiBAY2xhc3NkZXNjIFRoZSBEZXJpdmVkSGVscGVyIHByb3ZpZGVzIGFuIGV2ZW50IGJhc2VkIGludGVyZmFjZSBmb3Igc2VhcmNoIGNhbGxiYWNrczpcbiAqICAtIHNlYXJjaDogd2hlbiBhIHNlYXJjaCBpcyB0cmlnZ2VyZWQgdXNpbmcgdGhlIGBzZWFyY2goKWAgbWV0aG9kLlxuICogIC0gcmVzdWx0OiB3aGVuIHRoZSByZXNwb25zZSBpcyByZXRyaWV2ZWQgZnJvbSBBbGdvbGlhIGFuZCBpcyBwcm9jZXNzZWQuXG4gKiAgICBUaGlzIGV2ZW50IGNvbnRhaW5zIGEge0BsaW5rIFNlYXJjaFJlc3VsdHN9IG9iamVjdCBhbmQgdGhlXG4gKiAgICB7QGxpbmsgU2VhcmNoUGFyYW1ldGVyc30gY29ycmVzcG9uZGluZyB0byB0aGlzIGFuc3dlci5cbiAqIEBwYXJhbSB7QWxnb2xpYVNlYXJjaEhlbHBlcn0gbWFpbkhlbHBlciB0aGUgbWFpbiBoZWxwZXJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIHRoZSBmdW5jdGlvbiB0byBjcmVhdGUgdGhlIGRlcml2ZWQgc3RhdGVcbiAqL1xuZnVuY3Rpb24gRGVyaXZlZEhlbHBlcihtYWluSGVscGVyLCBmbikge1xuICB0aGlzLm1haW4gPSBtYWluSGVscGVyO1xuICB0aGlzLmZuID0gZm47XG4gIHRoaXMubGFzdFJlc3VsdHMgPSBudWxsO1xufVxuXG5pbmhlcml0cyhEZXJpdmVkSGVscGVyLCBFdmVudEVtaXR0ZXIpO1xuXG4vKipcbiAqIERldGFjaCB0aGlzIGhlbHBlciBmcm9tIHRoZSBtYWluIGhlbHBlclxuICogQHJldHVybiB7dW5kZWZpbmVkfVxuICogQHRocm93cyBFcnJvciBpZiB0aGUgZGVyaXZlZCBoZWxwZXIgaXMgYWxyZWFkeSBkZXRhY2hlZFxuICovXG5EZXJpdmVkSGVscGVyLnByb3RvdHlwZS5kZXRhY2ggPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gIHRoaXMubWFpbi5kZXRhY2hEZXJpdmVkSGVscGVyKHRoaXMpO1xufTtcblxuRGVyaXZlZEhlbHBlci5wcm90b3R5cGUuZ2V0TW9kaWZpZWRTdGF0ZSA9IGZ1bmN0aW9uIChwYXJhbWV0ZXJzKSB7XG4gIHJldHVybiB0aGlzLmZuKHBhcmFtZXRlcnMpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBEZXJpdmVkSGVscGVyO1xuIl0sIm5hbWVzIjpbIkV2ZW50RW1pdHRlciIsInJlcXVpcmUiLCJpbmhlcml0cyIsIkRlcml2ZWRIZWxwZXIiLCJtYWluSGVscGVyIiwiZm4iLCJtYWluIiwibGFzdFJlc3VsdHMiLCJwcm90b3R5cGUiLCJkZXRhY2giLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJkZXRhY2hEZXJpdmVkSGVscGVyIiwiZ2V0TW9kaWZpZWRTdGF0ZSIsInBhcmFtZXRlcnMiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/DerivedHelper/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/SearchParameters/RefinementList.js":
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/SearchParameters/RefinementList.js ***!
  \*************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n/**\n * Functions to manipulate refinement lists\n *\n * The RefinementList is not formally defined through a prototype but is based\n * on a specific structure.\n *\n * @module SearchParameters.refinementList\n *\n * @typedef {string[]} SearchParameters.refinementList.Refinements\n * @typedef {Object.<string, SearchParameters.refinementList.Refinements>} SearchParameters.refinementList.RefinementList\n */ var defaultsPure = __webpack_require__(/*! ../functions/defaultsPure */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/defaultsPure.js\");\nvar objectHasKeys = __webpack_require__(/*! ../functions/objectHasKeys */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/objectHasKeys.js\");\nvar omit = __webpack_require__(/*! ../functions/omit */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/omit.js\");\nvar lib = {\n    /**\n   * Adds a refinement to a RefinementList\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} attribute the attribute to refine\n   * @param {string} value the value of the refinement, if the value is not a string it will be converted\n   * @return {RefinementList} a new and updated refinement list\n   */ addRefinement: function addRefinement(refinementList, attribute, value) {\n        if (lib.isRefined(refinementList, attribute, value)) {\n            return refinementList;\n        }\n        var valueAsString = \"\" + value;\n        var facetRefinement = !refinementList[attribute] ? [\n            valueAsString\n        ] : refinementList[attribute].concat(valueAsString);\n        var mod = {};\n        mod[attribute] = facetRefinement;\n        return defaultsPure({}, mod, refinementList);\n    },\n    /**\n   * Removes refinement(s) for an attribute:\n   *  - if the value is specified removes the refinement for the value on the attribute\n   *  - if no value is specified removes all the refinements for this attribute\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} attribute the attribute to refine\n   * @param {string} [value] the value of the refinement\n   * @return {RefinementList} a new and updated refinement lst\n   */ removeRefinement: function removeRefinement(refinementList, attribute, value) {\n        if (value === undefined) {\n            // we use the \"filter\" form of clearRefinement, since it leaves empty values as-is\n            // the form with a string will remove the attribute completely\n            return lib.clearRefinement(refinementList, function(v, f) {\n                return attribute === f;\n            });\n        }\n        var valueAsString = \"\" + value;\n        return lib.clearRefinement(refinementList, function(v, f) {\n            return attribute === f && valueAsString === v;\n        });\n    },\n    /**\n   * Toggles the refinement value for an attribute.\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} attribute the attribute to refine\n   * @param {string} value the value of the refinement\n   * @return {RefinementList} a new and updated list\n   */ toggleRefinement: function toggleRefinement(refinementList, attribute, value) {\n        if (value === undefined) throw new Error(\"toggleRefinement should be used with a value\");\n        if (lib.isRefined(refinementList, attribute, value)) {\n            return lib.removeRefinement(refinementList, attribute, value);\n        }\n        return lib.addRefinement(refinementList, attribute, value);\n    },\n    /**\n   * Clear all or parts of a RefinementList. Depending on the arguments, three\n   * kinds of behavior can happen:\n   *  - if no attribute is provided: clears the whole list\n   *  - if an attribute is provided as a string: clears the list for the specific attribute\n   *  - if an attribute is provided as a function: discards the elements for which the function returns true\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} [attribute] the attribute or function to discard\n   * @param {string} [refinementType] optional parameter to give more context to the attribute function\n   * @return {RefinementList} a new and updated refinement list\n   */ clearRefinement: function clearRefinement(refinementList, attribute, refinementType) {\n        if (attribute === undefined) {\n            // return the same object if the list is already empty\n            // this is mainly for tests, as it doesn't have much impact on performance\n            if (!objectHasKeys(refinementList)) {\n                return refinementList;\n            }\n            return {};\n        } else if (typeof attribute === \"string\") {\n            return omit(refinementList, [\n                attribute\n            ]);\n        } else if (typeof attribute === \"function\") {\n            var hasChanged = false;\n            var newRefinementList = Object.keys(refinementList).reduce(function(memo, key) {\n                var values = refinementList[key] || [];\n                var facetList = values.filter(function(value) {\n                    return !attribute(value, key, refinementType);\n                });\n                if (facetList.length !== values.length) {\n                    hasChanged = true;\n                }\n                memo[key] = facetList;\n                return memo;\n            }, {});\n            if (hasChanged) return newRefinementList;\n            return refinementList;\n        }\n        // We return nothing if the attribute is not undefined, a string or a function,\n        // as it is not a valid value for a refinement\n        return undefined;\n    },\n    /**\n   * Test if the refinement value is used for the attribute. If no refinement value\n   * is provided, test if the refinementList contains any refinement for the\n   * given attribute.\n   * @param {RefinementList} refinementList the list of refinement\n   * @param {string} attribute name of the attribute\n   * @param {string} [refinementValue] value of the filter/refinement\n   * @return {boolean} true if the attribute is refined, false otherwise\n   */ isRefined: function isRefined(refinementList, attribute, refinementValue) {\n        var containsRefinements = Boolean(refinementList[attribute]) && refinementList[attribute].length > 0;\n        if (refinementValue === undefined || !containsRefinements) {\n            return containsRefinements;\n        }\n        var refinementValueAsString = \"\" + refinementValue;\n        return refinementList[attribute].indexOf(refinementValueAsString) !== -1;\n    }\n};\nmodule.exports = lib;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9ub2RlX21vZHVsZXMvYWxnb2xpYXNlYXJjaC1oZWxwZXIvc3JjL1NlYXJjaFBhcmFtZXRlcnMvUmVmaW5lbWVudExpc3QuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFFQTs7Ozs7Ozs7OztDQVVDLEdBRUQsSUFBSUEsZUFBZUMsbUJBQU9BLENBQUM7QUFDM0IsSUFBSUMsZ0JBQWdCRCxtQkFBT0EsQ0FBQztBQUM1QixJQUFJRSxPQUFPRixtQkFBT0EsQ0FBQztBQUVuQixJQUFJRyxNQUFNO0lBQ1I7Ozs7OztHQU1DLEdBQ0RDLGVBQWUsU0FBU0EsY0FBY0MsY0FBYyxFQUFFQyxTQUFTLEVBQUVDLEtBQUs7UUFDcEUsSUFBSUosSUFBSUssU0FBUyxDQUFDSCxnQkFBZ0JDLFdBQVdDLFFBQVE7WUFDbkQsT0FBT0Y7UUFDVDtRQUVBLElBQUlJLGdCQUFnQixLQUFLRjtRQUV6QixJQUFJRyxrQkFBa0IsQ0FBQ0wsY0FBYyxDQUFDQyxVQUFVLEdBQzVDO1lBQUNHO1NBQWMsR0FDZkosY0FBYyxDQUFDQyxVQUFVLENBQUNLLE1BQU0sQ0FBQ0Y7UUFFckMsSUFBSUcsTUFBTSxDQUFDO1FBRVhBLEdBQUcsQ0FBQ04sVUFBVSxHQUFHSTtRQUVqQixPQUFPWCxhQUFhLENBQUMsR0FBR2EsS0FBS1A7SUFDL0I7SUFDQTs7Ozs7Ozs7R0FRQyxHQUNEUSxrQkFBa0IsU0FBU0EsaUJBQ3pCUixjQUFjLEVBQ2RDLFNBQVMsRUFDVEMsS0FBSztRQUVMLElBQUlBLFVBQVVPLFdBQVc7WUFDdkIsa0ZBQWtGO1lBQ2xGLDhEQUE4RDtZQUM5RCxPQUFPWCxJQUFJWSxlQUFlLENBQUNWLGdCQUFnQixTQUFVVyxDQUFDLEVBQUVDLENBQUM7Z0JBQ3ZELE9BQU9YLGNBQWNXO1lBQ3ZCO1FBQ0Y7UUFFQSxJQUFJUixnQkFBZ0IsS0FBS0Y7UUFFekIsT0FBT0osSUFBSVksZUFBZSxDQUFDVixnQkFBZ0IsU0FBVVcsQ0FBQyxFQUFFQyxDQUFDO1lBQ3ZELE9BQU9YLGNBQWNXLEtBQUtSLGtCQUFrQk87UUFDOUM7SUFDRjtJQUNBOzs7Ozs7R0FNQyxHQUNERSxrQkFBa0IsU0FBU0EsaUJBQ3pCYixjQUFjLEVBQ2RDLFNBQVMsRUFDVEMsS0FBSztRQUVMLElBQUlBLFVBQVVPLFdBQ1osTUFBTSxJQUFJSyxNQUFNO1FBRWxCLElBQUloQixJQUFJSyxTQUFTLENBQUNILGdCQUFnQkMsV0FBV0MsUUFBUTtZQUNuRCxPQUFPSixJQUFJVSxnQkFBZ0IsQ0FBQ1IsZ0JBQWdCQyxXQUFXQztRQUN6RDtRQUVBLE9BQU9KLElBQUlDLGFBQWEsQ0FBQ0MsZ0JBQWdCQyxXQUFXQztJQUN0RDtJQUNBOzs7Ozs7Ozs7O0dBVUMsR0FDRFEsaUJBQWlCLFNBQVNBLGdCQUN4QlYsY0FBYyxFQUNkQyxTQUFTLEVBQ1RjLGNBQWM7UUFFZCxJQUFJZCxjQUFjUSxXQUFXO1lBQzNCLHNEQUFzRDtZQUN0RCwwRUFBMEU7WUFDMUUsSUFBSSxDQUFDYixjQUFjSSxpQkFBaUI7Z0JBQ2xDLE9BQU9BO1lBQ1Q7WUFDQSxPQUFPLENBQUM7UUFDVixPQUFPLElBQUksT0FBT0MsY0FBYyxVQUFVO1lBQ3hDLE9BQU9KLEtBQUtHLGdCQUFnQjtnQkFBQ0M7YUFBVTtRQUN6QyxPQUFPLElBQUksT0FBT0EsY0FBYyxZQUFZO1lBQzFDLElBQUllLGFBQWE7WUFFakIsSUFBSUMsb0JBQW9CQyxPQUFPQyxJQUFJLENBQUNuQixnQkFBZ0JvQixNQUFNLENBQUMsU0FDekRDLElBQUksRUFDSkMsR0FBRztnQkFFSCxJQUFJQyxTQUFTdkIsY0FBYyxDQUFDc0IsSUFBSSxJQUFJLEVBQUU7Z0JBQ3RDLElBQUlFLFlBQVlELE9BQU9FLE1BQU0sQ0FBQyxTQUFVdkIsS0FBSztvQkFDM0MsT0FBTyxDQUFDRCxVQUFVQyxPQUFPb0IsS0FBS1A7Z0JBQ2hDO2dCQUVBLElBQUlTLFVBQVVFLE1BQU0sS0FBS0gsT0FBT0csTUFBTSxFQUFFO29CQUN0Q1YsYUFBYTtnQkFDZjtnQkFFQUssSUFBSSxDQUFDQyxJQUFJLEdBQUdFO2dCQUVaLE9BQU9IO1lBQ1QsR0FDQSxDQUFDO1lBRUQsSUFBSUwsWUFBWSxPQUFPQztZQUN2QixPQUFPakI7UUFDVDtRQUVBLCtFQUErRTtRQUMvRSw4Q0FBOEM7UUFDOUMsT0FBT1M7SUFDVDtJQUNBOzs7Ozs7OztHQVFDLEdBQ0ROLFdBQVcsU0FBU0EsVUFBVUgsY0FBYyxFQUFFQyxTQUFTLEVBQUUwQixlQUFlO1FBQ3RFLElBQUlDLHNCQUNGQyxRQUFRN0IsY0FBYyxDQUFDQyxVQUFVLEtBQ2pDRCxjQUFjLENBQUNDLFVBQVUsQ0FBQ3lCLE1BQU0sR0FBRztRQUVyQyxJQUFJQyxvQkFBb0JsQixhQUFhLENBQUNtQixxQkFBcUI7WUFDekQsT0FBT0E7UUFDVDtRQUVBLElBQUlFLDBCQUEwQixLQUFLSDtRQUVuQyxPQUFPM0IsY0FBYyxDQUFDQyxVQUFVLENBQUM4QixPQUFPLENBQUNELDZCQUE2QixDQUFDO0lBQ3pFO0FBQ0Y7QUFFQUUsT0FBT0MsT0FBTyxHQUFHbkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZWR1c2EtbmV4dC8uL25vZGVfbW9kdWxlcy9yZWFjdC1pbnN0YW50c2VhcmNoLWhvb2tzL25vZGVfbW9kdWxlcy9hbGdvbGlhc2VhcmNoLWhlbHBlci9zcmMvU2VhcmNoUGFyYW1ldGVycy9SZWZpbmVtZW50TGlzdC5qcz82YjdkIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBGdW5jdGlvbnMgdG8gbWFuaXB1bGF0ZSByZWZpbmVtZW50IGxpc3RzXG4gKlxuICogVGhlIFJlZmluZW1lbnRMaXN0IGlzIG5vdCBmb3JtYWxseSBkZWZpbmVkIHRocm91Z2ggYSBwcm90b3R5cGUgYnV0IGlzIGJhc2VkXG4gKiBvbiBhIHNwZWNpZmljIHN0cnVjdHVyZS5cbiAqXG4gKiBAbW9kdWxlIFNlYXJjaFBhcmFtZXRlcnMucmVmaW5lbWVudExpc3RcbiAqXG4gKiBAdHlwZWRlZiB7c3RyaW5nW119IFNlYXJjaFBhcmFtZXRlcnMucmVmaW5lbWVudExpc3QuUmVmaW5lbWVudHNcbiAqIEB0eXBlZGVmIHtPYmplY3QuPHN0cmluZywgU2VhcmNoUGFyYW1ldGVycy5yZWZpbmVtZW50TGlzdC5SZWZpbmVtZW50cz59IFNlYXJjaFBhcmFtZXRlcnMucmVmaW5lbWVudExpc3QuUmVmaW5lbWVudExpc3RcbiAqL1xuXG52YXIgZGVmYXVsdHNQdXJlID0gcmVxdWlyZSgnLi4vZnVuY3Rpb25zL2RlZmF1bHRzUHVyZScpO1xudmFyIG9iamVjdEhhc0tleXMgPSByZXF1aXJlKCcuLi9mdW5jdGlvbnMvb2JqZWN0SGFzS2V5cycpO1xudmFyIG9taXQgPSByZXF1aXJlKCcuLi9mdW5jdGlvbnMvb21pdCcpO1xuXG52YXIgbGliID0ge1xuICAvKipcbiAgICogQWRkcyBhIHJlZmluZW1lbnQgdG8gYSBSZWZpbmVtZW50TGlzdFxuICAgKiBAcGFyYW0ge1JlZmluZW1lbnRMaXN0fSByZWZpbmVtZW50TGlzdCB0aGUgaW5pdGlhbCBsaXN0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGUgdGhlIGF0dHJpYnV0ZSB0byByZWZpbmVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIHRoZSB2YWx1ZSBvZiB0aGUgcmVmaW5lbWVudCwgaWYgdGhlIHZhbHVlIGlzIG5vdCBhIHN0cmluZyBpdCB3aWxsIGJlIGNvbnZlcnRlZFxuICAgKiBAcmV0dXJuIHtSZWZpbmVtZW50TGlzdH0gYSBuZXcgYW5kIHVwZGF0ZWQgcmVmaW5lbWVudCBsaXN0XG4gICAqL1xuICBhZGRSZWZpbmVtZW50OiBmdW5jdGlvbiBhZGRSZWZpbmVtZW50KHJlZmluZW1lbnRMaXN0LCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG4gICAgaWYgKGxpYi5pc1JlZmluZWQocmVmaW5lbWVudExpc3QsIGF0dHJpYnV0ZSwgdmFsdWUpKSB7XG4gICAgICByZXR1cm4gcmVmaW5lbWVudExpc3Q7XG4gICAgfVxuXG4gICAgdmFyIHZhbHVlQXNTdHJpbmcgPSAnJyArIHZhbHVlO1xuXG4gICAgdmFyIGZhY2V0UmVmaW5lbWVudCA9ICFyZWZpbmVtZW50TGlzdFthdHRyaWJ1dGVdXG4gICAgICA/IFt2YWx1ZUFzU3RyaW5nXVxuICAgICAgOiByZWZpbmVtZW50TGlzdFthdHRyaWJ1dGVdLmNvbmNhdCh2YWx1ZUFzU3RyaW5nKTtcblxuICAgIHZhciBtb2QgPSB7fTtcblxuICAgIG1vZFthdHRyaWJ1dGVdID0gZmFjZXRSZWZpbmVtZW50O1xuXG4gICAgcmV0dXJuIGRlZmF1bHRzUHVyZSh7fSwgbW9kLCByZWZpbmVtZW50TGlzdCk7XG4gIH0sXG4gIC8qKlxuICAgKiBSZW1vdmVzIHJlZmluZW1lbnQocykgZm9yIGFuIGF0dHJpYnV0ZTpcbiAgICogIC0gaWYgdGhlIHZhbHVlIGlzIHNwZWNpZmllZCByZW1vdmVzIHRoZSByZWZpbmVtZW50IGZvciB0aGUgdmFsdWUgb24gdGhlIGF0dHJpYnV0ZVxuICAgKiAgLSBpZiBubyB2YWx1ZSBpcyBzcGVjaWZpZWQgcmVtb3ZlcyBhbGwgdGhlIHJlZmluZW1lbnRzIGZvciB0aGlzIGF0dHJpYnV0ZVxuICAgKiBAcGFyYW0ge1JlZmluZW1lbnRMaXN0fSByZWZpbmVtZW50TGlzdCB0aGUgaW5pdGlhbCBsaXN0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGUgdGhlIGF0dHJpYnV0ZSB0byByZWZpbmVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFt2YWx1ZV0gdGhlIHZhbHVlIG9mIHRoZSByZWZpbmVtZW50XG4gICAqIEByZXR1cm4ge1JlZmluZW1lbnRMaXN0fSBhIG5ldyBhbmQgdXBkYXRlZCByZWZpbmVtZW50IGxzdFxuICAgKi9cbiAgcmVtb3ZlUmVmaW5lbWVudDogZnVuY3Rpb24gcmVtb3ZlUmVmaW5lbWVudChcbiAgICByZWZpbmVtZW50TGlzdCxcbiAgICBhdHRyaWJ1dGUsXG4gICAgdmFsdWVcbiAgKSB7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIHdlIHVzZSB0aGUgXCJmaWx0ZXJcIiBmb3JtIG9mIGNsZWFyUmVmaW5lbWVudCwgc2luY2UgaXQgbGVhdmVzIGVtcHR5IHZhbHVlcyBhcy1pc1xuICAgICAgLy8gdGhlIGZvcm0gd2l0aCBhIHN0cmluZyB3aWxsIHJlbW92ZSB0aGUgYXR0cmlidXRlIGNvbXBsZXRlbHlcbiAgICAgIHJldHVybiBsaWIuY2xlYXJSZWZpbmVtZW50KHJlZmluZW1lbnRMaXN0LCBmdW5jdGlvbiAodiwgZikge1xuICAgICAgICByZXR1cm4gYXR0cmlidXRlID09PSBmO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIHZhbHVlQXNTdHJpbmcgPSAnJyArIHZhbHVlO1xuXG4gICAgcmV0dXJuIGxpYi5jbGVhclJlZmluZW1lbnQocmVmaW5lbWVudExpc3QsIGZ1bmN0aW9uICh2LCBmKSB7XG4gICAgICByZXR1cm4gYXR0cmlidXRlID09PSBmICYmIHZhbHVlQXNTdHJpbmcgPT09IHY7XG4gICAgfSk7XG4gIH0sXG4gIC8qKlxuICAgKiBUb2dnbGVzIHRoZSByZWZpbmVtZW50IHZhbHVlIGZvciBhbiBhdHRyaWJ1dGUuXG4gICAqIEBwYXJhbSB7UmVmaW5lbWVudExpc3R9IHJlZmluZW1lbnRMaXN0IHRoZSBpbml0aWFsIGxpc3RcbiAgICogQHBhcmFtIHtzdHJpbmd9IGF0dHJpYnV0ZSB0aGUgYXR0cmlidXRlIHRvIHJlZmluZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgdGhlIHZhbHVlIG9mIHRoZSByZWZpbmVtZW50XG4gICAqIEByZXR1cm4ge1JlZmluZW1lbnRMaXN0fSBhIG5ldyBhbmQgdXBkYXRlZCBsaXN0XG4gICAqL1xuICB0b2dnbGVSZWZpbmVtZW50OiBmdW5jdGlvbiB0b2dnbGVSZWZpbmVtZW50KFxuICAgIHJlZmluZW1lbnRMaXN0LFxuICAgIGF0dHJpYnV0ZSxcbiAgICB2YWx1ZVxuICApIHtcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZClcbiAgICAgIHRocm93IG5ldyBFcnJvcigndG9nZ2xlUmVmaW5lbWVudCBzaG91bGQgYmUgdXNlZCB3aXRoIGEgdmFsdWUnKTtcblxuICAgIGlmIChsaWIuaXNSZWZpbmVkKHJlZmluZW1lbnRMaXN0LCBhdHRyaWJ1dGUsIHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGxpYi5yZW1vdmVSZWZpbmVtZW50KHJlZmluZW1lbnRMaXN0LCBhdHRyaWJ1dGUsIHZhbHVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbGliLmFkZFJlZmluZW1lbnQocmVmaW5lbWVudExpc3QsIGF0dHJpYnV0ZSwgdmFsdWUpO1xuICB9LFxuICAvKipcbiAgICogQ2xlYXIgYWxsIG9yIHBhcnRzIG9mIGEgUmVmaW5lbWVudExpc3QuIERlcGVuZGluZyBvbiB0aGUgYXJndW1lbnRzLCB0aHJlZVxuICAgKiBraW5kcyBvZiBiZWhhdmlvciBjYW4gaGFwcGVuOlxuICAgKiAgLSBpZiBubyBhdHRyaWJ1dGUgaXMgcHJvdmlkZWQ6IGNsZWFycyB0aGUgd2hvbGUgbGlzdFxuICAgKiAgLSBpZiBhbiBhdHRyaWJ1dGUgaXMgcHJvdmlkZWQgYXMgYSBzdHJpbmc6IGNsZWFycyB0aGUgbGlzdCBmb3IgdGhlIHNwZWNpZmljIGF0dHJpYnV0ZVxuICAgKiAgLSBpZiBhbiBhdHRyaWJ1dGUgaXMgcHJvdmlkZWQgYXMgYSBmdW5jdGlvbjogZGlzY2FyZHMgdGhlIGVsZW1lbnRzIGZvciB3aGljaCB0aGUgZnVuY3Rpb24gcmV0dXJucyB0cnVlXG4gICAqIEBwYXJhbSB7UmVmaW5lbWVudExpc3R9IHJlZmluZW1lbnRMaXN0IHRoZSBpbml0aWFsIGxpc3RcbiAgICogQHBhcmFtIHtzdHJpbmd9IFthdHRyaWJ1dGVdIHRoZSBhdHRyaWJ1dGUgb3IgZnVuY3Rpb24gdG8gZGlzY2FyZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3JlZmluZW1lbnRUeXBlXSBvcHRpb25hbCBwYXJhbWV0ZXIgdG8gZ2l2ZSBtb3JlIGNvbnRleHQgdG8gdGhlIGF0dHJpYnV0ZSBmdW5jdGlvblxuICAgKiBAcmV0dXJuIHtSZWZpbmVtZW50TGlzdH0gYSBuZXcgYW5kIHVwZGF0ZWQgcmVmaW5lbWVudCBsaXN0XG4gICAqL1xuICBjbGVhclJlZmluZW1lbnQ6IGZ1bmN0aW9uIGNsZWFyUmVmaW5lbWVudChcbiAgICByZWZpbmVtZW50TGlzdCxcbiAgICBhdHRyaWJ1dGUsXG4gICAgcmVmaW5lbWVudFR5cGVcbiAgKSB7XG4gICAgaWYgKGF0dHJpYnV0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyByZXR1cm4gdGhlIHNhbWUgb2JqZWN0IGlmIHRoZSBsaXN0IGlzIGFscmVhZHkgZW1wdHlcbiAgICAgIC8vIHRoaXMgaXMgbWFpbmx5IGZvciB0ZXN0cywgYXMgaXQgZG9lc24ndCBoYXZlIG11Y2ggaW1wYWN0IG9uIHBlcmZvcm1hbmNlXG4gICAgICBpZiAoIW9iamVjdEhhc0tleXMocmVmaW5lbWVudExpc3QpKSB7XG4gICAgICAgIHJldHVybiByZWZpbmVtZW50TGlzdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7fTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBhdHRyaWJ1dGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gb21pdChyZWZpbmVtZW50TGlzdCwgW2F0dHJpYnV0ZV0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGF0dHJpYnV0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdmFyIGhhc0NoYW5nZWQgPSBmYWxzZTtcblxuICAgICAgdmFyIG5ld1JlZmluZW1lbnRMaXN0ID0gT2JqZWN0LmtleXMocmVmaW5lbWVudExpc3QpLnJlZHVjZShmdW5jdGlvbiAoXG4gICAgICAgIG1lbW8sXG4gICAgICAgIGtleVxuICAgICAgKSB7XG4gICAgICAgIHZhciB2YWx1ZXMgPSByZWZpbmVtZW50TGlzdFtrZXldIHx8IFtdO1xuICAgICAgICB2YXIgZmFjZXRMaXN0ID0gdmFsdWVzLmZpbHRlcihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gIWF0dHJpYnV0ZSh2YWx1ZSwga2V5LCByZWZpbmVtZW50VHlwZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChmYWNldExpc3QubGVuZ3RoICE9PSB2YWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgaGFzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBtZW1vW2tleV0gPSBmYWNldExpc3Q7XG5cbiAgICAgICAgcmV0dXJuIG1lbW87XG4gICAgICB9LFxuICAgICAge30pO1xuXG4gICAgICBpZiAoaGFzQ2hhbmdlZCkgcmV0dXJuIG5ld1JlZmluZW1lbnRMaXN0O1xuICAgICAgcmV0dXJuIHJlZmluZW1lbnRMaXN0O1xuICAgIH1cblxuICAgIC8vIFdlIHJldHVybiBub3RoaW5nIGlmIHRoZSBhdHRyaWJ1dGUgaXMgbm90IHVuZGVmaW5lZCwgYSBzdHJpbmcgb3IgYSBmdW5jdGlvbixcbiAgICAvLyBhcyBpdCBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3IgYSByZWZpbmVtZW50XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSxcbiAgLyoqXG4gICAqIFRlc3QgaWYgdGhlIHJlZmluZW1lbnQgdmFsdWUgaXMgdXNlZCBmb3IgdGhlIGF0dHJpYnV0ZS4gSWYgbm8gcmVmaW5lbWVudCB2YWx1ZVxuICAgKiBpcyBwcm92aWRlZCwgdGVzdCBpZiB0aGUgcmVmaW5lbWVudExpc3QgY29udGFpbnMgYW55IHJlZmluZW1lbnQgZm9yIHRoZVxuICAgKiBnaXZlbiBhdHRyaWJ1dGUuXG4gICAqIEBwYXJhbSB7UmVmaW5lbWVudExpc3R9IHJlZmluZW1lbnRMaXN0IHRoZSBsaXN0IG9mIHJlZmluZW1lbnRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGF0dHJpYnV0ZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtyZWZpbmVtZW50VmFsdWVdIHZhbHVlIG9mIHRoZSBmaWx0ZXIvcmVmaW5lbWVudFxuICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoZSBhdHRyaWJ1dGUgaXMgcmVmaW5lZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAqL1xuICBpc1JlZmluZWQ6IGZ1bmN0aW9uIGlzUmVmaW5lZChyZWZpbmVtZW50TGlzdCwgYXR0cmlidXRlLCByZWZpbmVtZW50VmFsdWUpIHtcbiAgICB2YXIgY29udGFpbnNSZWZpbmVtZW50cyA9XG4gICAgICBCb29sZWFuKHJlZmluZW1lbnRMaXN0W2F0dHJpYnV0ZV0pICYmXG4gICAgICByZWZpbmVtZW50TGlzdFthdHRyaWJ1dGVdLmxlbmd0aCA+IDA7XG5cbiAgICBpZiAocmVmaW5lbWVudFZhbHVlID09PSB1bmRlZmluZWQgfHwgIWNvbnRhaW5zUmVmaW5lbWVudHMpIHtcbiAgICAgIHJldHVybiBjb250YWluc1JlZmluZW1lbnRzO1xuICAgIH1cblxuICAgIHZhciByZWZpbmVtZW50VmFsdWVBc1N0cmluZyA9ICcnICsgcmVmaW5lbWVudFZhbHVlO1xuXG4gICAgcmV0dXJuIHJlZmluZW1lbnRMaXN0W2F0dHJpYnV0ZV0uaW5kZXhPZihyZWZpbmVtZW50VmFsdWVBc1N0cmluZykgIT09IC0xO1xuICB9LFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBsaWI7XG4iXSwibmFtZXMiOlsiZGVmYXVsdHNQdXJlIiwicmVxdWlyZSIsIm9iamVjdEhhc0tleXMiLCJvbWl0IiwibGliIiwiYWRkUmVmaW5lbWVudCIsInJlZmluZW1lbnRMaXN0IiwiYXR0cmlidXRlIiwidmFsdWUiLCJpc1JlZmluZWQiLCJ2YWx1ZUFzU3RyaW5nIiwiZmFjZXRSZWZpbmVtZW50IiwiY29uY2F0IiwibW9kIiwicmVtb3ZlUmVmaW5lbWVudCIsInVuZGVmaW5lZCIsImNsZWFyUmVmaW5lbWVudCIsInYiLCJmIiwidG9nZ2xlUmVmaW5lbWVudCIsIkVycm9yIiwicmVmaW5lbWVudFR5cGUiLCJoYXNDaGFuZ2VkIiwibmV3UmVmaW5lbWVudExpc3QiLCJPYmplY3QiLCJrZXlzIiwicmVkdWNlIiwibWVtbyIsImtleSIsInZhbHVlcyIsImZhY2V0TGlzdCIsImZpbHRlciIsImxlbmd0aCIsInJlZmluZW1lbnRWYWx1ZSIsImNvbnRhaW5zUmVmaW5lbWVudHMiLCJCb29sZWFuIiwicmVmaW5lbWVudFZhbHVlQXNTdHJpbmciLCJpbmRleE9mIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/SearchParameters/RefinementList.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/SearchParameters/index.js":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/SearchParameters/index.js ***!
  \****************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nvar defaultsPure = __webpack_require__(/*! ../functions/defaultsPure */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/defaultsPure.js\");\nvar find = __webpack_require__(/*! ../functions/find */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/find.js\");\nvar intersection = __webpack_require__(/*! ../functions/intersection */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/intersection.js\");\nvar merge = __webpack_require__(/*! ../functions/merge */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/merge.js\");\nvar objectHasKeys = __webpack_require__(/*! ../functions/objectHasKeys */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/objectHasKeys.js\");\nvar omit = __webpack_require__(/*! ../functions/omit */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/omit.js\");\nvar valToNumber = __webpack_require__(/*! ../functions/valToNumber */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/valToNumber.js\");\nvar isValidUserToken = __webpack_require__(/*! ../utils/isValidUserToken */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/utils/isValidUserToken.js\");\nvar RefinementList = __webpack_require__(/*! ./RefinementList */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/SearchParameters/RefinementList.js\");\n/**\n * isEqual, but only for numeric refinement values, possible values:\n * - 5\n * - [5]\n * - [[5]]\n * - [[5,5],[4]]\n * @param {any} a numeric refinement value\n * @param {any} b numeric refinement value\n * @return {boolean} true if the values are equal\n */ function isEqualNumericRefinement(a, b) {\n    if (Array.isArray(a) && Array.isArray(b)) {\n        return a.length === b.length && a.every(function(el, i) {\n            return isEqualNumericRefinement(b[i], el);\n        });\n    }\n    return a === b;\n}\n/**\n * like _.find but using deep equality to be able to use it\n * to find arrays.\n * @private\n * @param {any[]} array array to search into (elements are base or array of base)\n * @param {any} searchedValue the value we're looking for (base or array of base)\n * @return {any} the searched value or undefined\n */ function findArray(array, searchedValue) {\n    return find(array, function(currentValue) {\n        return isEqualNumericRefinement(currentValue, searchedValue);\n    });\n}\n/**\n * The facet list is the structure used to store the list of values used to\n * filter a single attribute.\n * @typedef {string[]} SearchParameters.FacetList\n */ /**\n * Structure to store numeric filters with the operator as the key. The supported operators\n * are `=`, `>`, `<`, `>=`, `<=` and `!=`.\n * @typedef {Object.<string, Array.<number|number[]>>} SearchParameters.OperatorList\n */ /**\n * SearchParameters is the data structure that contains all the information\n * usable for making a search to Algolia API. It doesn't do the search itself,\n * nor does it contains logic about the parameters.\n * It is an immutable object, therefore it has been created in a way that each\n * changes does not change the object itself but returns a copy with the\n * modification.\n * This object should probably not be instantiated outside of the helper. It will\n * be provided when needed. This object is documented for reference as you'll\n * get it from events generated by the {@link AlgoliaSearchHelper}.\n * If need be, instantiate the Helper from the factory function {@link SearchParameters.make}\n * @constructor\n * @classdesc contains all the parameters of a search\n * @param {object|SearchParameters} newParameters existing parameters or partial object\n * for the properties of a new SearchParameters\n * @see SearchParameters.make\n * @example <caption>SearchParameters of the first query in\n *   <a href=\"http://demos.algolia.com/instant-search-demo/\">the instant search demo</a></caption>\n{\n   \"query\": \"\",\n   \"disjunctiveFacets\": [\n      \"customerReviewCount\",\n      \"category\",\n      \"salePrice_range\",\n      \"manufacturer\"\n  ],\n   \"maxValuesPerFacet\": 30,\n   \"page\": 0,\n   \"hitsPerPage\": 10,\n   \"facets\": [\n      \"type\",\n      \"shipping\"\n  ]\n}\n */ function SearchParameters(newParameters) {\n    var params = newParameters ? SearchParameters._parseNumbers(newParameters) : {};\n    if (params.userToken !== undefined && !isValidUserToken(params.userToken)) {\n        // eslint-disable-next-line no-console\n        console.warn(\"[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\\n  - Format: [a-zA-Z0-9_-]{1,64}\");\n    }\n    /**\n   * This attribute contains the list of all the conjunctive facets\n   * used. This list will be added to requested facets in the\n   * [facets attribute](https://www.algolia.com/doc/rest-api/search#param-facets) sent to algolia.\n   * @member {string[]}\n   */ this.facets = params.facets || [];\n    /**\n   * This attribute contains the list of all the disjunctive facets\n   * used. This list will be added to requested facets in the\n   * [facets attribute](https://www.algolia.com/doc/rest-api/search#param-facets) sent to algolia.\n   * @member {string[]}\n   */ this.disjunctiveFacets = params.disjunctiveFacets || [];\n    /**\n   * This attribute contains the list of all the hierarchical facets\n   * used. This list will be added to requested facets in the\n   * [facets attribute](https://www.algolia.com/doc/rest-api/search#param-facets) sent to algolia.\n   * Hierarchical facets are a sub type of disjunctive facets that\n   * let you filter faceted attributes hierarchically.\n   * @member {string[]|object[]}\n   */ this.hierarchicalFacets = params.hierarchicalFacets || [];\n    // Refinements\n    /**\n   * This attribute contains all the filters that need to be\n   * applied on the conjunctive facets. Each facet must be properly\n   * defined in the `facets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters selected for the associated facet name.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */ this.facetsRefinements = params.facetsRefinements || {};\n    /**\n   * This attribute contains all the filters that need to be\n   * excluded from the conjunctive facets. Each facet must be properly\n   * defined in the `facets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters excluded for the associated facet name.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */ this.facetsExcludes = params.facetsExcludes || {};\n    /**\n   * This attribute contains all the filters that need to be\n   * applied on the disjunctive facets. Each facet must be properly\n   * defined in the `disjunctiveFacets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters selected for the associated facet name.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */ this.disjunctiveFacetsRefinements = params.disjunctiveFacetsRefinements || {};\n    /**\n   * This attribute contains all the filters that need to be\n   * applied on the numeric attributes.\n   *\n   * The key is the name of the attribute, and the value is the\n   * filters to apply to this attribute.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `numericFilters` attribute.\n   * @member {Object.<string, SearchParameters.OperatorList>}\n   */ this.numericRefinements = params.numericRefinements || {};\n    /**\n   * This attribute contains all the tags used to refine the query.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `tagFilters` attribute.\n   * @member {string[]}\n   */ this.tagRefinements = params.tagRefinements || [];\n    /**\n   * This attribute contains all the filters that need to be\n   * applied on the hierarchical facets. Each facet must be properly\n   * defined in the `hierarchicalFacets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters selected for the associated facet name. The FacetList values\n   * are structured as a string that contain the values for each level\n   * separated by the configured separator.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */ this.hierarchicalFacetsRefinements = params.hierarchicalFacetsRefinements || {};\n    // eslint-disable-next-line consistent-this\n    var self = this;\n    Object.keys(params).forEach(function(paramName) {\n        var isKeyKnown = SearchParameters.PARAMETERS.indexOf(paramName) !== -1;\n        var isValueDefined = params[paramName] !== undefined;\n        if (!isKeyKnown && isValueDefined) {\n            self[paramName] = params[paramName];\n        }\n    });\n}\n/**\n * List all the properties in SearchParameters and therefore all the known Algolia properties\n * This doesn't contain any beta/hidden features.\n * @private\n */ SearchParameters.PARAMETERS = Object.keys(new SearchParameters());\n/**\n * @private\n * @param {object} partialState full or part of a state\n * @return {object} a new object with the number keys as number\n */ SearchParameters._parseNumbers = function(partialState) {\n    // Do not parse numbers again in SearchParameters, they ought to be parsed already\n    if (partialState instanceof SearchParameters) return partialState;\n    var numbers = {};\n    var numberKeys = [\n        \"aroundPrecision\",\n        \"aroundRadius\",\n        \"getRankingInfo\",\n        \"minWordSizefor2Typos\",\n        \"minWordSizefor1Typo\",\n        \"page\",\n        \"maxValuesPerFacet\",\n        \"distinct\",\n        \"minimumAroundRadius\",\n        \"hitsPerPage\",\n        \"minProximity\"\n    ];\n    numberKeys.forEach(function(k) {\n        var value = partialState[k];\n        if (typeof value === \"string\") {\n            var parsedValue = parseFloat(value);\n            // global isNaN is ok to use here, value is only number or NaN\n            numbers[k] = isNaN(parsedValue) ? value : parsedValue;\n        }\n    });\n    // there's two formats of insideBoundingBox, we need to parse\n    // the one which is an array of float geo rectangles\n    if (Array.isArray(partialState.insideBoundingBox)) {\n        numbers.insideBoundingBox = partialState.insideBoundingBox.map(function(geoRect) {\n            if (Array.isArray(geoRect)) {\n                return geoRect.map(function(value) {\n                    return parseFloat(value);\n                });\n            }\n            return geoRect;\n        });\n    }\n    if (partialState.numericRefinements) {\n        var numericRefinements = {};\n        Object.keys(partialState.numericRefinements).forEach(function(attribute) {\n            var operators = partialState.numericRefinements[attribute] || {};\n            numericRefinements[attribute] = {};\n            Object.keys(operators).forEach(function(operator) {\n                var values = operators[operator];\n                var parsedValues = values.map(function(v) {\n                    if (Array.isArray(v)) {\n                        return v.map(function(vPrime) {\n                            if (typeof vPrime === \"string\") {\n                                return parseFloat(vPrime);\n                            }\n                            return vPrime;\n                        });\n                    } else if (typeof v === \"string\") {\n                        return parseFloat(v);\n                    }\n                    return v;\n                });\n                numericRefinements[attribute][operator] = parsedValues;\n            });\n        });\n        numbers.numericRefinements = numericRefinements;\n    }\n    return merge({}, partialState, numbers);\n};\n/**\n * Factory for SearchParameters\n * @param {object|SearchParameters} newParameters existing parameters or partial\n * object for the properties of a new SearchParameters\n * @return {SearchParameters} frozen instance of SearchParameters\n */ SearchParameters.make = function makeSearchParameters(newParameters) {\n    var instance = new SearchParameters(newParameters);\n    var hierarchicalFacets = newParameters.hierarchicalFacets || [];\n    hierarchicalFacets.forEach(function(facet) {\n        if (facet.rootPath) {\n            var currentRefinement = instance.getHierarchicalRefinement(facet.name);\n            if (currentRefinement.length > 0 && currentRefinement[0].indexOf(facet.rootPath) !== 0) {\n                instance = instance.clearRefinements(facet.name);\n            }\n            // get it again in case it has been cleared\n            currentRefinement = instance.getHierarchicalRefinement(facet.name);\n            if (currentRefinement.length === 0) {\n                instance = instance.toggleHierarchicalFacetRefinement(facet.name, facet.rootPath);\n            }\n        }\n    });\n    return instance;\n};\n/**\n * Validates the new parameters based on the previous state\n * @param {SearchParameters} currentState the current state\n * @param {object|SearchParameters} parameters the new parameters to set\n * @return {Error|null} Error if the modification is invalid, null otherwise\n */ SearchParameters.validate = function(currentState, parameters) {\n    var params = parameters || {};\n    if (currentState.tagFilters && params.tagRefinements && params.tagRefinements.length > 0) {\n        return new Error(\"[Tags] Cannot switch from the managed tag API to the advanced API. It is probably \" + \"an error, if it is really what you want, you should first clear the tags with clearTags method.\");\n    }\n    if (currentState.tagRefinements.length > 0 && params.tagFilters) {\n        return new Error(\"[Tags] Cannot switch from the advanced tag API to the managed API. It is probably \" + \"an error, if it is not, you should first clear the tags with clearTags method.\");\n    }\n    if (currentState.numericFilters && params.numericRefinements && objectHasKeys(params.numericRefinements)) {\n        return new Error(\"[Numeric filters] Can't switch from the advanced to the managed API. It\" + \" is probably an error, if this is really what you want, you have to first\" + \" clear the numeric filters.\");\n    }\n    if (objectHasKeys(currentState.numericRefinements) && params.numericFilters) {\n        return new Error(\"[Numeric filters] Can't switch from the managed API to the advanced. It\" + \" is probably an error, if this is really what you want, you have to first\" + \" clear the numeric filters.\");\n    }\n    return null;\n};\nSearchParameters.prototype = {\n    constructor: SearchParameters,\n    /**\n   * Remove all refinements (disjunctive + conjunctive + excludes + numeric filters)\n   * @method\n   * @param {undefined|string|SearchParameters.clearCallback} [attribute] optional string or function\n   * - If not given, means to clear all the filters.\n   * - If `string`, means to clear all refinements for the `attribute` named filter.\n   * - If `function`, means to clear all the refinements that return truthy values.\n   * @return {SearchParameters} new instance with filters cleared\n   */ clearRefinements: function clearRefinements(attribute) {\n        var patch = {\n            numericRefinements: this._clearNumericRefinements(attribute),\n            facetsRefinements: RefinementList.clearRefinement(this.facetsRefinements, attribute, \"conjunctiveFacet\"),\n            facetsExcludes: RefinementList.clearRefinement(this.facetsExcludes, attribute, \"exclude\"),\n            disjunctiveFacetsRefinements: RefinementList.clearRefinement(this.disjunctiveFacetsRefinements, attribute, \"disjunctiveFacet\"),\n            hierarchicalFacetsRefinements: RefinementList.clearRefinement(this.hierarchicalFacetsRefinements, attribute, \"hierarchicalFacet\")\n        };\n        if (patch.numericRefinements === this.numericRefinements && patch.facetsRefinements === this.facetsRefinements && patch.facetsExcludes === this.facetsExcludes && patch.disjunctiveFacetsRefinements === this.disjunctiveFacetsRefinements && patch.hierarchicalFacetsRefinements === this.hierarchicalFacetsRefinements) {\n            return this;\n        }\n        return this.setQueryParameters(patch);\n    },\n    /**\n   * Remove all the refined tags from the SearchParameters\n   * @method\n   * @return {SearchParameters} new instance with tags cleared\n   */ clearTags: function clearTags() {\n        if (this.tagFilters === undefined && this.tagRefinements.length === 0) return this;\n        return this.setQueryParameters({\n            tagFilters: undefined,\n            tagRefinements: []\n        });\n    },\n    /**\n   * Set the index.\n   * @method\n   * @param {string} index the index name\n   * @return {SearchParameters} new instance\n   */ setIndex: function setIndex(index) {\n        if (index === this.index) return this;\n        return this.setQueryParameters({\n            index: index\n        });\n    },\n    /**\n   * Query setter\n   * @method\n   * @param {string} newQuery value for the new query\n   * @return {SearchParameters} new instance\n   */ setQuery: function setQuery(newQuery) {\n        if (newQuery === this.query) return this;\n        return this.setQueryParameters({\n            query: newQuery\n        });\n    },\n    /**\n   * Page setter\n   * @method\n   * @param {number} newPage new page number\n   * @return {SearchParameters} new instance\n   */ setPage: function setPage(newPage) {\n        if (newPage === this.page) return this;\n        return this.setQueryParameters({\n            page: newPage\n        });\n    },\n    /**\n   * Facets setter\n   * The facets are the simple facets, used for conjunctive (and) faceting.\n   * @method\n   * @param {string[]} facets all the attributes of the algolia records used for conjunctive faceting\n   * @return {SearchParameters} new instance\n   */ setFacets: function setFacets(facets) {\n        return this.setQueryParameters({\n            facets: facets\n        });\n    },\n    /**\n   * Disjunctive facets setter\n   * Change the list of disjunctive (or) facets the helper chan handle.\n   * @method\n   * @param {string[]} facets all the attributes of the algolia records used for disjunctive faceting\n   * @return {SearchParameters} new instance\n   */ setDisjunctiveFacets: function setDisjunctiveFacets(facets) {\n        return this.setQueryParameters({\n            disjunctiveFacets: facets\n        });\n    },\n    /**\n   * HitsPerPage setter\n   * Hits per page represents the number of hits retrieved for this query\n   * @method\n   * @param {number} n number of hits retrieved per page of results\n   * @return {SearchParameters} new instance\n   */ setHitsPerPage: function setHitsPerPage(n) {\n        if (this.hitsPerPage === n) return this;\n        return this.setQueryParameters({\n            hitsPerPage: n\n        });\n    },\n    /**\n   * typoTolerance setter\n   * Set the value of typoTolerance\n   * @method\n   * @param {string} typoTolerance new value of typoTolerance (\"true\", \"false\", \"min\" or \"strict\")\n   * @return {SearchParameters} new instance\n   */ setTypoTolerance: function setTypoTolerance(typoTolerance) {\n        if (this.typoTolerance === typoTolerance) return this;\n        return this.setQueryParameters({\n            typoTolerance: typoTolerance\n        });\n    },\n    /**\n   * Add a numeric filter for a given attribute\n   * When value is an array, they are combined with OR\n   * When value is a single value, it will combined with AND\n   * @method\n   * @param {string} attribute attribute to set the filter on\n   * @param {string} operator operator of the filter (possible values: =, >, >=, <, <=, !=)\n   * @param {number | number[]} value value of the filter\n   * @return {SearchParameters} new instance\n   * @example\n   * // for price = 50 or 40\n   * state.addNumericRefinement('price', '=', [50, 40]);\n   * @example\n   * // for size = 38 and 40\n   * state.addNumericRefinement('size', '=', 38);\n   * state.addNumericRefinement('size', '=', 40);\n   */ addNumericRefinement: function(attribute, operator, value) {\n        var val = valToNumber(value);\n        if (this.isNumericRefined(attribute, operator, val)) return this;\n        var mod = merge({}, this.numericRefinements);\n        mod[attribute] = merge({}, mod[attribute]);\n        if (mod[attribute][operator]) {\n            // Array copy\n            mod[attribute][operator] = mod[attribute][operator].slice();\n            // Add the element. Concat can't be used here because value can be an array.\n            mod[attribute][operator].push(val);\n        } else {\n            mod[attribute][operator] = [\n                val\n            ];\n        }\n        return this.setQueryParameters({\n            numericRefinements: mod\n        });\n    },\n    /**\n   * Get the list of conjunctive refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */ getConjunctiveRefinements: function(facetName) {\n        if (!this.isConjunctiveFacet(facetName)) {\n            return [];\n        }\n        return this.facetsRefinements[facetName] || [];\n    },\n    /**\n   * Get the list of disjunctive refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */ getDisjunctiveRefinements: function(facetName) {\n        if (!this.isDisjunctiveFacet(facetName)) {\n            return [];\n        }\n        return this.disjunctiveFacetsRefinements[facetName] || [];\n    },\n    /**\n   * Get the list of hierarchical refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */ getHierarchicalRefinement: function(facetName) {\n        // we send an array but we currently do not support multiple\n        // hierarchicalRefinements for a hierarchicalFacet\n        return this.hierarchicalFacetsRefinements[facetName] || [];\n    },\n    /**\n   * Get the list of exclude refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */ getExcludeRefinements: function(facetName) {\n        if (!this.isConjunctiveFacet(facetName)) {\n            return [];\n        }\n        return this.facetsExcludes[facetName] || [];\n    },\n    /**\n   * Remove all the numeric filter for a given (attribute, operator)\n   * @method\n   * @param {string} attribute attribute to set the filter on\n   * @param {string} [operator] operator of the filter (possible values: =, >, >=, <, <=, !=)\n   * @param {number} [number] the value to be removed\n   * @return {SearchParameters} new instance\n   */ removeNumericRefinement: function(attribute, operator, number) {\n        var paramValue = number;\n        if (paramValue !== undefined) {\n            if (!this.isNumericRefined(attribute, operator, paramValue)) {\n                return this;\n            }\n            return this.setQueryParameters({\n                numericRefinements: this._clearNumericRefinements(function(value, key) {\n                    return key === attribute && value.op === operator && isEqualNumericRefinement(value.val, valToNumber(paramValue));\n                })\n            });\n        } else if (operator !== undefined) {\n            if (!this.isNumericRefined(attribute, operator)) return this;\n            return this.setQueryParameters({\n                numericRefinements: this._clearNumericRefinements(function(value, key) {\n                    return key === attribute && value.op === operator;\n                })\n            });\n        }\n        if (!this.isNumericRefined(attribute)) return this;\n        return this.setQueryParameters({\n            numericRefinements: this._clearNumericRefinements(function(value, key) {\n                return key === attribute;\n            })\n        });\n    },\n    /**\n   * Get the list of numeric refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {SearchParameters.OperatorList} list of refinements\n   */ getNumericRefinements: function(facetName) {\n        return this.numericRefinements[facetName] || {};\n    },\n    /**\n   * Return the current refinement for the (attribute, operator)\n   * @param {string} attribute attribute in the record\n   * @param {string} operator operator applied on the refined values\n   * @return {Array.<number|number[]>} refined values\n   */ getNumericRefinement: function(attribute, operator) {\n        return this.numericRefinements[attribute] && this.numericRefinements[attribute][operator];\n    },\n    /**\n   * Clear numeric filters.\n   * @method\n   * @private\n   * @param {string|SearchParameters.clearCallback} [attribute] optional string or function\n   * - If not given, means to clear all the filters.\n   * - If `string`, means to clear all refinements for the `attribute` named filter.\n   * - If `function`, means to clear all the refinements that return truthy values.\n   * @return {Object.<string, OperatorList>} new numeric refinements\n   */ _clearNumericRefinements: function _clearNumericRefinements(attribute) {\n        if (attribute === undefined) {\n            if (!objectHasKeys(this.numericRefinements)) {\n                return this.numericRefinements;\n            }\n            return {};\n        } else if (typeof attribute === \"string\") {\n            return omit(this.numericRefinements, [\n                attribute\n            ]);\n        } else if (typeof attribute === \"function\") {\n            var hasChanged = false;\n            var numericRefinements = this.numericRefinements;\n            var newNumericRefinements = Object.keys(numericRefinements).reduce(function(memo, key) {\n                var operators = numericRefinements[key];\n                var operatorList = {};\n                operators = operators || {};\n                Object.keys(operators).forEach(function(operator) {\n                    var values = operators[operator] || [];\n                    var outValues = [];\n                    values.forEach(function(value) {\n                        var predicateResult = attribute({\n                            val: value,\n                            op: operator\n                        }, key, \"numeric\");\n                        if (!predicateResult) outValues.push(value);\n                    });\n                    if (outValues.length !== values.length) {\n                        hasChanged = true;\n                    }\n                    operatorList[operator] = outValues;\n                });\n                memo[key] = operatorList;\n                return memo;\n            }, {});\n            if (hasChanged) return newNumericRefinements;\n            return this.numericRefinements;\n        }\n        // We return nothing if the attribute is not undefined, a string or a function,\n        // as it is not a valid value for a refinement\n        return undefined;\n    },\n    /**\n   * Add a facet to the facets attribute of the helper configuration, if it\n   * isn't already present.\n   * @method\n   * @param {string} facet facet name to add\n   * @return {SearchParameters} new instance\n   */ addFacet: function addFacet(facet) {\n        if (this.isConjunctiveFacet(facet)) {\n            return this;\n        }\n        return this.setQueryParameters({\n            facets: this.facets.concat([\n                facet\n            ])\n        });\n    },\n    /**\n   * Add a disjunctive facet to the disjunctiveFacets attribute of the helper\n   * configuration, if it isn't already present.\n   * @method\n   * @param {string} facet disjunctive facet name to add\n   * @return {SearchParameters} new instance\n   */ addDisjunctiveFacet: function addDisjunctiveFacet(facet) {\n        if (this.isDisjunctiveFacet(facet)) {\n            return this;\n        }\n        return this.setQueryParameters({\n            disjunctiveFacets: this.disjunctiveFacets.concat([\n                facet\n            ])\n        });\n    },\n    /**\n   * Add a hierarchical facet to the hierarchicalFacets attribute of the helper\n   * configuration.\n   * @method\n   * @param {object} hierarchicalFacet hierarchical facet to add\n   * @return {SearchParameters} new instance\n   * @throws will throw an error if a hierarchical facet with the same name was already declared\n   */ addHierarchicalFacet: function addHierarchicalFacet(hierarchicalFacet) {\n        if (this.isHierarchicalFacet(hierarchicalFacet.name)) {\n            throw new Error(\"Cannot declare two hierarchical facets with the same name: `\" + hierarchicalFacet.name + \"`\");\n        }\n        return this.setQueryParameters({\n            hierarchicalFacets: this.hierarchicalFacets.concat([\n                hierarchicalFacet\n            ])\n        });\n    },\n    /**\n   * Add a refinement on a \"normal\" facet\n   * @method\n   * @param {string} facet attribute to apply the faceting on\n   * @param {string} value value of the attribute (will be converted to string)\n   * @return {SearchParameters} new instance\n   */ addFacetRefinement: function addFacetRefinement(facet, value) {\n        if (!this.isConjunctiveFacet(facet)) {\n            throw new Error(facet + \" is not defined in the facets attribute of the helper configuration\");\n        }\n        if (RefinementList.isRefined(this.facetsRefinements, facet, value)) return this;\n        return this.setQueryParameters({\n            facetsRefinements: RefinementList.addRefinement(this.facetsRefinements, facet, value)\n        });\n    },\n    /**\n   * Exclude a value from a \"normal\" facet\n   * @method\n   * @param {string} facet attribute to apply the exclusion on\n   * @param {string} value value of the attribute (will be converted to string)\n   * @return {SearchParameters} new instance\n   */ addExcludeRefinement: function addExcludeRefinement(facet, value) {\n        if (!this.isConjunctiveFacet(facet)) {\n            throw new Error(facet + \" is not defined in the facets attribute of the helper configuration\");\n        }\n        if (RefinementList.isRefined(this.facetsExcludes, facet, value)) return this;\n        return this.setQueryParameters({\n            facetsExcludes: RefinementList.addRefinement(this.facetsExcludes, facet, value)\n        });\n    },\n    /**\n   * Adds a refinement on a disjunctive facet.\n   * @method\n   * @param {string} facet attribute to apply the faceting on\n   * @param {string} value value of the attribute (will be converted to string)\n   * @return {SearchParameters} new instance\n   */ addDisjunctiveFacetRefinement: function addDisjunctiveFacetRefinement(facet, value) {\n        if (!this.isDisjunctiveFacet(facet)) {\n            throw new Error(facet + \" is not defined in the disjunctiveFacets attribute of the helper configuration\");\n        }\n        if (RefinementList.isRefined(this.disjunctiveFacetsRefinements, facet, value)) return this;\n        return this.setQueryParameters({\n            disjunctiveFacetsRefinements: RefinementList.addRefinement(this.disjunctiveFacetsRefinements, facet, value)\n        });\n    },\n    /**\n   * addTagRefinement adds a tag to the list used to filter the results\n   * @param {string} tag tag to be added\n   * @return {SearchParameters} new instance\n   */ addTagRefinement: function addTagRefinement(tag) {\n        if (this.isTagRefined(tag)) return this;\n        var modification = {\n            tagRefinements: this.tagRefinements.concat(tag)\n        };\n        return this.setQueryParameters(modification);\n    },\n    /**\n   * Remove a facet from the facets attribute of the helper configuration, if it\n   * is present.\n   * @method\n   * @param {string} facet facet name to remove\n   * @return {SearchParameters} new instance\n   */ removeFacet: function removeFacet(facet) {\n        if (!this.isConjunctiveFacet(facet)) {\n            return this;\n        }\n        return this.clearRefinements(facet).setQueryParameters({\n            facets: this.facets.filter(function(f) {\n                return f !== facet;\n            })\n        });\n    },\n    /**\n   * Remove a disjunctive facet from the disjunctiveFacets attribute of the\n   * helper configuration, if it is present.\n   * @method\n   * @param {string} facet disjunctive facet name to remove\n   * @return {SearchParameters} new instance\n   */ removeDisjunctiveFacet: function removeDisjunctiveFacet(facet) {\n        if (!this.isDisjunctiveFacet(facet)) {\n            return this;\n        }\n        return this.clearRefinements(facet).setQueryParameters({\n            disjunctiveFacets: this.disjunctiveFacets.filter(function(f) {\n                return f !== facet;\n            })\n        });\n    },\n    /**\n   * Remove a hierarchical facet from the hierarchicalFacets attribute of the\n   * helper configuration, if it is present.\n   * @method\n   * @param {string} facet hierarchical facet name to remove\n   * @return {SearchParameters} new instance\n   */ removeHierarchicalFacet: function removeHierarchicalFacet(facet) {\n        if (!this.isHierarchicalFacet(facet)) {\n            return this;\n        }\n        return this.clearRefinements(facet).setQueryParameters({\n            hierarchicalFacets: this.hierarchicalFacets.filter(function(f) {\n                return f.name !== facet;\n            })\n        });\n    },\n    /**\n   * Remove a refinement set on facet. If a value is provided, it will clear the\n   * refinement for the given value, otherwise it will clear all the refinement\n   * values for the faceted attribute.\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {string} [value] value used to filter\n   * @return {SearchParameters} new instance\n   */ removeFacetRefinement: function removeFacetRefinement(facet, value) {\n        if (!this.isConjunctiveFacet(facet)) {\n            throw new Error(facet + \" is not defined in the facets attribute of the helper configuration\");\n        }\n        if (!RefinementList.isRefined(this.facetsRefinements, facet, value)) return this;\n        return this.setQueryParameters({\n            facetsRefinements: RefinementList.removeRefinement(this.facetsRefinements, facet, value)\n        });\n    },\n    /**\n   * Remove a negative refinement on a facet\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {string} value value used to filter\n   * @return {SearchParameters} new instance\n   */ removeExcludeRefinement: function removeExcludeRefinement(facet, value) {\n        if (!this.isConjunctiveFacet(facet)) {\n            throw new Error(facet + \" is not defined in the facets attribute of the helper configuration\");\n        }\n        if (!RefinementList.isRefined(this.facetsExcludes, facet, value)) return this;\n        return this.setQueryParameters({\n            facetsExcludes: RefinementList.removeRefinement(this.facetsExcludes, facet, value)\n        });\n    },\n    /**\n   * Remove a refinement on a disjunctive facet\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {string} value value used to filter\n   * @return {SearchParameters} new instance\n   */ removeDisjunctiveFacetRefinement: function removeDisjunctiveFacetRefinement(facet, value) {\n        if (!this.isDisjunctiveFacet(facet)) {\n            throw new Error(facet + \" is not defined in the disjunctiveFacets attribute of the helper configuration\");\n        }\n        if (!RefinementList.isRefined(this.disjunctiveFacetsRefinements, facet, value)) return this;\n        return this.setQueryParameters({\n            disjunctiveFacetsRefinements: RefinementList.removeRefinement(this.disjunctiveFacetsRefinements, facet, value)\n        });\n    },\n    /**\n   * Remove a tag from the list of tag refinements\n   * @method\n   * @param {string} tag the tag to remove\n   * @return {SearchParameters} new instance\n   */ removeTagRefinement: function removeTagRefinement(tag) {\n        if (!this.isTagRefined(tag)) return this;\n        var modification = {\n            tagRefinements: this.tagRefinements.filter(function(t) {\n                return t !== tag;\n            })\n        };\n        return this.setQueryParameters(modification);\n    },\n    /**\n   * Generic toggle refinement method to use with facet, disjunctive facets\n   * and hierarchical facets\n   * @param  {string} facet the facet to refine\n   * @param  {string} value the associated value\n   * @return {SearchParameters} new instance\n   * @throws will throw an error if the facet is not declared in the settings of the helper\n   * @deprecated since version 2.19.0, see {@link SearchParameters#toggleFacetRefinement}\n   */ toggleRefinement: function toggleRefinement(facet, value) {\n        return this.toggleFacetRefinement(facet, value);\n    },\n    /**\n   * Generic toggle refinement method to use with facet, disjunctive facets\n   * and hierarchical facets\n   * @param  {string} facet the facet to refine\n   * @param  {string} value the associated value\n   * @return {SearchParameters} new instance\n   * @throws will throw an error if the facet is not declared in the settings of the helper\n   */ toggleFacetRefinement: function toggleFacetRefinement(facet, value) {\n        if (this.isHierarchicalFacet(facet)) {\n            return this.toggleHierarchicalFacetRefinement(facet, value);\n        } else if (this.isConjunctiveFacet(facet)) {\n            return this.toggleConjunctiveFacetRefinement(facet, value);\n        } else if (this.isDisjunctiveFacet(facet)) {\n            return this.toggleDisjunctiveFacetRefinement(facet, value);\n        }\n        throw new Error(\"Cannot refine the undeclared facet \" + facet + \"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets\");\n    },\n    /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters} new instance\n   */ toggleConjunctiveFacetRefinement: function toggleConjunctiveFacetRefinement(facet, value) {\n        if (!this.isConjunctiveFacet(facet)) {\n            throw new Error(facet + \" is not defined in the facets attribute of the helper configuration\");\n        }\n        return this.setQueryParameters({\n            facetsRefinements: RefinementList.toggleRefinement(this.facetsRefinements, facet, value)\n        });\n    },\n    /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters} new instance\n   */ toggleExcludeFacetRefinement: function toggleExcludeFacetRefinement(facet, value) {\n        if (!this.isConjunctiveFacet(facet)) {\n            throw new Error(facet + \" is not defined in the facets attribute of the helper configuration\");\n        }\n        return this.setQueryParameters({\n            facetsExcludes: RefinementList.toggleRefinement(this.facetsExcludes, facet, value)\n        });\n    },\n    /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters} new instance\n   */ toggleDisjunctiveFacetRefinement: function toggleDisjunctiveFacetRefinement(facet, value) {\n        if (!this.isDisjunctiveFacet(facet)) {\n            throw new Error(facet + \" is not defined in the disjunctiveFacets attribute of the helper configuration\");\n        }\n        return this.setQueryParameters({\n            disjunctiveFacetsRefinements: RefinementList.toggleRefinement(this.disjunctiveFacetsRefinements, facet, value)\n        });\n    },\n    /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters} new instance\n   */ toggleHierarchicalFacetRefinement: function toggleHierarchicalFacetRefinement(facet, value) {\n        if (!this.isHierarchicalFacet(facet)) {\n            throw new Error(facet + \" is not defined in the hierarchicalFacets attribute of the helper configuration\");\n        }\n        var separator = this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(facet));\n        var mod = {};\n        var upOneOrMultipleLevel = this.hierarchicalFacetsRefinements[facet] !== undefined && this.hierarchicalFacetsRefinements[facet].length > 0 && // remove current refinement:\n        // refinement was 'beer > IPA', call is toggleRefine('beer > IPA'), refinement should be `beer`\n        (this.hierarchicalFacetsRefinements[facet][0] === value || // remove a parent refinement of the current refinement:\n        //  - refinement was 'beer > IPA > Flying dog'\n        //  - call is toggleRefine('beer > IPA')\n        //  - refinement should be `beer`\n        this.hierarchicalFacetsRefinements[facet][0].indexOf(value + separator) === 0);\n        if (upOneOrMultipleLevel) {\n            if (value.indexOf(separator) === -1) {\n                // go back to root level\n                mod[facet] = [];\n            } else {\n                mod[facet] = [\n                    value.slice(0, value.lastIndexOf(separator))\n                ];\n            }\n        } else {\n            mod[facet] = [\n                value\n            ];\n        }\n        return this.setQueryParameters({\n            hierarchicalFacetsRefinements: defaultsPure({}, mod, this.hierarchicalFacetsRefinements)\n        });\n    },\n    /**\n   * Adds a refinement on a hierarchical facet.\n   * @param {string} facet the facet name\n   * @param {string} path the hierarchical facet path\n   * @return {SearchParameter} the new state\n   * @throws Error if the facet is not defined or if the facet is refined\n   */ addHierarchicalFacetRefinement: function(facet, path) {\n        if (this.isHierarchicalFacetRefined(facet)) {\n            throw new Error(facet + \" is already refined.\");\n        }\n        if (!this.isHierarchicalFacet(facet)) {\n            throw new Error(facet + \" is not defined in the hierarchicalFacets attribute of the helper configuration.\");\n        }\n        var mod = {};\n        mod[facet] = [\n            path\n        ];\n        return this.setQueryParameters({\n            hierarchicalFacetsRefinements: defaultsPure({}, mod, this.hierarchicalFacetsRefinements)\n        });\n    },\n    /**\n   * Removes the refinement set on a hierarchical facet.\n   * @param {string} facet the facet name\n   * @return {SearchParameter} the new state\n   * @throws Error if the facet is not defined or if the facet is not refined\n   */ removeHierarchicalFacetRefinement: function(facet) {\n        if (!this.isHierarchicalFacetRefined(facet)) {\n            return this;\n        }\n        var mod = {};\n        mod[facet] = [];\n        return this.setQueryParameters({\n            hierarchicalFacetsRefinements: defaultsPure({}, mod, this.hierarchicalFacetsRefinements)\n        });\n    },\n    /**\n   * Switch the tag refinement\n   * @method\n   * @param {string} tag the tag to remove or add\n   * @return {SearchParameters} new instance\n   */ toggleTagRefinement: function toggleTagRefinement(tag) {\n        if (this.isTagRefined(tag)) {\n            return this.removeTagRefinement(tag);\n        }\n        return this.addTagRefinement(tag);\n    },\n    /**\n   * Test if the facet name is from one of the disjunctive facets\n   * @method\n   * @param {string} facet facet name to test\n   * @return {boolean} true if facet is a disjunctive facet\n   */ isDisjunctiveFacet: function(facet) {\n        return this.disjunctiveFacets.indexOf(facet) > -1;\n    },\n    /**\n   * Test if the facet name is from one of the hierarchical facets\n   * @method\n   * @param {string} facetName facet name to test\n   * @return {boolean} true if facetName is a hierarchical facet\n   */ isHierarchicalFacet: function(facetName) {\n        return this.getHierarchicalFacetByName(facetName) !== undefined;\n    },\n    /**\n   * Test if the facet name is from one of the conjunctive/normal facets\n   * @method\n   * @param {string} facet facet name to test\n   * @return {boolean} true if facet is a conjunctive facet\n   */ isConjunctiveFacet: function(facet) {\n        return this.facets.indexOf(facet) > -1;\n    },\n    /**\n   * Returns true if the facet is refined, either for a specific value or in\n   * general.\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} value, optional value. If passed will test that this value\n   * is filtering the given facet.\n   * @return {boolean} returns true if refined\n   */ isFacetRefined: function isFacetRefined(facet, value) {\n        if (!this.isConjunctiveFacet(facet)) {\n            return false;\n        }\n        return RefinementList.isRefined(this.facetsRefinements, facet, value);\n    },\n    /**\n   * Returns true if the facet contains exclusions or if a specific value is\n   * excluded.\n   *\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} [value] optional value. If passed will test that this value\n   * is filtering the given facet.\n   * @return {boolean} returns true if refined\n   */ isExcludeRefined: function isExcludeRefined(facet, value) {\n        if (!this.isConjunctiveFacet(facet)) {\n            return false;\n        }\n        return RefinementList.isRefined(this.facetsExcludes, facet, value);\n    },\n    /**\n   * Returns true if the facet contains a refinement, or if a value passed is a\n   * refinement for the facet.\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} value optional, will test if the value is used for refinement\n   * if there is one, otherwise will test if the facet contains any refinement\n   * @return {boolean} true if the facet is refined\n   */ isDisjunctiveFacetRefined: function isDisjunctiveFacetRefined(facet, value) {\n        if (!this.isDisjunctiveFacet(facet)) {\n            return false;\n        }\n        return RefinementList.isRefined(this.disjunctiveFacetsRefinements, facet, value);\n    },\n    /**\n   * Returns true if the facet contains a refinement, or if a value passed is a\n   * refinement for the facet.\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} value optional, will test if the value is used for refinement\n   * if there is one, otherwise will test if the facet contains any refinement\n   * @return {boolean} true if the facet is refined\n   */ isHierarchicalFacetRefined: function isHierarchicalFacetRefined(facet, value) {\n        if (!this.isHierarchicalFacet(facet)) {\n            return false;\n        }\n        var refinements = this.getHierarchicalRefinement(facet);\n        if (!value) {\n            return refinements.length > 0;\n        }\n        return refinements.indexOf(value) !== -1;\n    },\n    /**\n   * Test if the triple (attribute, operator, value) is already refined.\n   * If only the attribute and the operator are provided, it tests if the\n   * contains any refinement value.\n   * @method\n   * @param {string} attribute attribute for which the refinement is applied\n   * @param {string} [operator] operator of the refinement\n   * @param {string} [value] value of the refinement\n   * @return {boolean} true if it is refined\n   */ isNumericRefined: function isNumericRefined(attribute, operator, value) {\n        if (value === undefined && operator === undefined) {\n            return Boolean(this.numericRefinements[attribute]);\n        }\n        var isOperatorDefined = this.numericRefinements[attribute] && this.numericRefinements[attribute][operator] !== undefined;\n        if (value === undefined || !isOperatorDefined) {\n            return isOperatorDefined;\n        }\n        var parsedValue = valToNumber(value);\n        var isAttributeValueDefined = findArray(this.numericRefinements[attribute][operator], parsedValue) !== undefined;\n        return isOperatorDefined && isAttributeValueDefined;\n    },\n    /**\n   * Returns true if the tag refined, false otherwise\n   * @method\n   * @param {string} tag the tag to check\n   * @return {boolean} true if tag is refined\n   */ isTagRefined: function isTagRefined(tag) {\n        return this.tagRefinements.indexOf(tag) !== -1;\n    },\n    /**\n   * Returns the list of all disjunctive facets refined\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {string[]} returns the list of refinements\n   */ getRefinedDisjunctiveFacets: function getRefinedDisjunctiveFacets() {\n        // eslint-disable-next-line consistent-this\n        var self = this;\n        // attributes used for numeric filter can also be disjunctive\n        var disjunctiveNumericRefinedFacets = intersection(Object.keys(this.numericRefinements).filter(function(facet) {\n            return Object.keys(self.numericRefinements[facet]).length > 0;\n        }), this.disjunctiveFacets);\n        return Object.keys(this.disjunctiveFacetsRefinements).filter(function(facet) {\n            return self.disjunctiveFacetsRefinements[facet].length > 0;\n        }).concat(disjunctiveNumericRefinedFacets).concat(this.getRefinedHierarchicalFacets()).sort();\n    },\n    /**\n   * Returns the list of all disjunctive facets refined\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {string[]} returns the list of refinements\n   */ getRefinedHierarchicalFacets: function getRefinedHierarchicalFacets() {\n        // eslint-disable-next-line consistent-this\n        var self = this;\n        return intersection(// enforce the order between the two arrays,\n        // so that refinement name index === hierarchical facet index\n        this.hierarchicalFacets.map(function(facet) {\n            return facet.name;\n        }), Object.keys(this.hierarchicalFacetsRefinements).filter(function(facet) {\n            return self.hierarchicalFacetsRefinements[facet].length > 0;\n        })).sort();\n    },\n    /**\n   * Returned the list of all disjunctive facets not refined\n   * @method\n   * @return {string[]} returns the list of facets that are not refined\n   */ getUnrefinedDisjunctiveFacets: function() {\n        var refinedFacets = this.getRefinedDisjunctiveFacets();\n        return this.disjunctiveFacets.filter(function(f) {\n            return refinedFacets.indexOf(f) === -1;\n        });\n    },\n    managedParameters: [\n        \"index\",\n        \"facets\",\n        \"disjunctiveFacets\",\n        \"facetsRefinements\",\n        \"hierarchicalFacets\",\n        \"facetsExcludes\",\n        \"disjunctiveFacetsRefinements\",\n        \"numericRefinements\",\n        \"tagRefinements\",\n        \"hierarchicalFacetsRefinements\"\n    ],\n    getQueryParams: function getQueryParams() {\n        var managedParameters = this.managedParameters;\n        var queryParams = {};\n        // eslint-disable-next-line consistent-this\n        var self = this;\n        Object.keys(this).forEach(function(paramName) {\n            var paramValue = self[paramName];\n            if (managedParameters.indexOf(paramName) === -1 && paramValue !== undefined) {\n                queryParams[paramName] = paramValue;\n            }\n        });\n        return queryParams;\n    },\n    /**\n   * Let the user set a specific value for a given parameter. Will return the\n   * same instance if the parameter is invalid or if the value is the same as the\n   * previous one.\n   * @method\n   * @param {string} parameter the parameter name\n   * @param {any} value the value to be set, must be compliant with the definition\n   * of the attribute on the object\n   * @return {SearchParameters} the updated state\n   */ setQueryParameter: function setParameter(parameter, value) {\n        if (this[parameter] === value) return this;\n        var modification = {};\n        modification[parameter] = value;\n        return this.setQueryParameters(modification);\n    },\n    /**\n   * Let the user set any of the parameters with a plain object.\n   * @method\n   * @param {object} params all the keys and the values to be updated\n   * @return {SearchParameters} a new updated instance\n   */ setQueryParameters: function setQueryParameters(params) {\n        if (!params) return this;\n        var error = SearchParameters.validate(this, params);\n        if (error) {\n            throw error;\n        }\n        // eslint-disable-next-line consistent-this\n        var self = this;\n        var nextWithNumbers = SearchParameters._parseNumbers(params);\n        var previousPlainObject = Object.keys(this).reduce(function(acc, key) {\n            acc[key] = self[key];\n            return acc;\n        }, {});\n        var nextPlainObject = Object.keys(nextWithNumbers).reduce(function(previous, key) {\n            var isPreviousValueDefined = previous[key] !== undefined;\n            var isNextValueDefined = nextWithNumbers[key] !== undefined;\n            if (isPreviousValueDefined && !isNextValueDefined) {\n                return omit(previous, [\n                    key\n                ]);\n            }\n            if (isNextValueDefined) {\n                previous[key] = nextWithNumbers[key];\n            }\n            return previous;\n        }, previousPlainObject);\n        return new this.constructor(nextPlainObject);\n    },\n    /**\n   * Returns a new instance with the page reset. Two scenarios possible:\n   * the page is omitted -> return the given instance\n   * the page is set -> return a new instance with a page of 0\n   * @return {SearchParameters} a new updated instance\n   */ resetPage: function() {\n        if (this.page === undefined) {\n            return this;\n        }\n        return this.setPage(0);\n    },\n    /**\n   * Helper function to get the hierarchicalFacet separator or the default one (`>`)\n   * @param  {object} hierarchicalFacet the hierarchicalFacet object\n   * @return {string} returns the hierarchicalFacet.separator or `>` as default\n   */ _getHierarchicalFacetSortBy: function(hierarchicalFacet) {\n        return hierarchicalFacet.sortBy || [\n            \"isRefined:desc\",\n            \"name:asc\"\n        ];\n    },\n    /**\n   * Helper function to get the hierarchicalFacet separator or the default one (`>`)\n   * @private\n   * @param  {object} hierarchicalFacet the hierarchicalFacet object\n   * @return {string} returns the hierarchicalFacet.separator or `>` as default\n   */ _getHierarchicalFacetSeparator: function(hierarchicalFacet) {\n        return hierarchicalFacet.separator || \" > \";\n    },\n    /**\n   * Helper function to get the hierarchicalFacet prefix path or null\n   * @private\n   * @param  {object} hierarchicalFacet the hierarchicalFacet object\n   * @return {string} returns the hierarchicalFacet.rootPath or null as default\n   */ _getHierarchicalRootPath: function(hierarchicalFacet) {\n        return hierarchicalFacet.rootPath || null;\n    },\n    /**\n   * Helper function to check if we show the parent level of the hierarchicalFacet\n   * @private\n   * @param  {object} hierarchicalFacet the hierarchicalFacet object\n   * @return {string} returns the hierarchicalFacet.showParentLevel or true as default\n   */ _getHierarchicalShowParentLevel: function(hierarchicalFacet) {\n        if (typeof hierarchicalFacet.showParentLevel === \"boolean\") {\n            return hierarchicalFacet.showParentLevel;\n        }\n        return true;\n    },\n    /**\n   * Helper function to get the hierarchicalFacet by it's name\n   * @param  {string} hierarchicalFacetName the hierarchicalFacet name\n   * @return {object} a hierarchicalFacet\n   */ getHierarchicalFacetByName: function(hierarchicalFacetName) {\n        return find(this.hierarchicalFacets, function(f) {\n            return f.name === hierarchicalFacetName;\n        });\n    },\n    /**\n   * Get the current breadcrumb for a hierarchical facet, as an array\n   * @param  {string} facetName Hierarchical facet name\n   * @return {array.<string>} the path as an array of string\n   */ getHierarchicalFacetBreadcrumb: function(facetName) {\n        if (!this.isHierarchicalFacet(facetName)) {\n            return [];\n        }\n        var refinement = this.getHierarchicalRefinement(facetName)[0];\n        if (!refinement) return [];\n        var separator = this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(facetName));\n        var path = refinement.split(separator);\n        return path.map(function(part) {\n            return part.trim();\n        });\n    },\n    toString: function() {\n        return JSON.stringify(this, null, 2);\n    }\n};\n/**\n * Callback used for clearRefinement method\n * @callback SearchParameters.clearCallback\n * @param {OperatorList|FacetList} value the value of the filter\n * @param {string} key the current attribute name\n * @param {string} type `numeric`, `disjunctiveFacet`, `conjunctiveFacet`, `hierarchicalFacet` or `exclude`\n * depending on the type of facet\n * @return {boolean} `true` if the element should be removed. `false` otherwise.\n */ module.exports = SearchParameters;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9ub2RlX21vZHVsZXMvYWxnb2xpYXNlYXJjaC1oZWxwZXIvc3JjL1NlYXJjaFBhcmFtZXRlcnMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFFQSxJQUFJQSxlQUFlQyxtQkFBT0EsQ0FBQztBQUMzQixJQUFJQyxPQUFPRCxtQkFBT0EsQ0FBQztBQUNuQixJQUFJRSxlQUFlRixtQkFBT0EsQ0FBQztBQUMzQixJQUFJRyxRQUFRSCxtQkFBT0EsQ0FBQztBQUNwQixJQUFJSSxnQkFBZ0JKLG1CQUFPQSxDQUFDO0FBQzVCLElBQUlLLE9BQU9MLG1CQUFPQSxDQUFDO0FBQ25CLElBQUlNLGNBQWNOLG1CQUFPQSxDQUFDO0FBQzFCLElBQUlPLG1CQUFtQlAsbUJBQU9BLENBQUM7QUFFL0IsSUFBSVEsaUJBQWlCUixtQkFBT0EsQ0FBQztBQUU3Qjs7Ozs7Ozs7O0NBU0MsR0FDRCxTQUFTUyx5QkFBeUJDLENBQUMsRUFBRUMsQ0FBQztJQUNwQyxJQUFJQyxNQUFNQyxPQUFPLENBQUNILE1BQU1FLE1BQU1DLE9BQU8sQ0FBQ0YsSUFBSTtRQUN4QyxPQUNFRCxFQUFFSSxNQUFNLEtBQUtILEVBQUVHLE1BQU0sSUFDckJKLEVBQUVLLEtBQUssQ0FBQyxTQUFVQyxFQUFFLEVBQUVDLENBQUM7WUFDckIsT0FBT1IseUJBQXlCRSxDQUFDLENBQUNNLEVBQUUsRUFBRUQ7UUFDeEM7SUFFSjtJQUNBLE9BQU9OLE1BQU1DO0FBQ2Y7QUFFQTs7Ozs7OztDQU9DLEdBQ0QsU0FBU08sVUFBVUMsS0FBSyxFQUFFQyxhQUFhO0lBQ3JDLE9BQU9uQixLQUFLa0IsT0FBTyxTQUFVRSxZQUFZO1FBQ3ZDLE9BQU9aLHlCQUF5QlksY0FBY0Q7SUFDaEQ7QUFDRjtBQUVBOzs7O0NBSUMsR0FFRDs7OztDQUlDLEdBRUQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0FrQ0MsR0FDRCxTQUFTRSxpQkFBaUJDLGFBQWE7SUFDckMsSUFBSUMsU0FBU0QsZ0JBQ1RELGlCQUFpQkcsYUFBYSxDQUFDRixpQkFDL0IsQ0FBQztJQUVMLElBQUlDLE9BQU9FLFNBQVMsS0FBS0MsYUFBYSxDQUFDcEIsaUJBQWlCaUIsT0FBT0UsU0FBUyxHQUFHO1FBQ3pFLHNDQUFzQztRQUN0Q0UsUUFBUUMsSUFBSSxDQUNWO0lBRUo7SUFDQTs7Ozs7R0FLQyxHQUNELElBQUksQ0FBQ0MsTUFBTSxHQUFHTixPQUFPTSxNQUFNLElBQUksRUFBRTtJQUNqQzs7Ozs7R0FLQyxHQUNELElBQUksQ0FBQ0MsaUJBQWlCLEdBQUdQLE9BQU9PLGlCQUFpQixJQUFJLEVBQUU7SUFDdkQ7Ozs7Ozs7R0FPQyxHQUNELElBQUksQ0FBQ0Msa0JBQWtCLEdBQUdSLE9BQU9RLGtCQUFrQixJQUFJLEVBQUU7SUFFekQsY0FBYztJQUNkOzs7Ozs7Ozs7OztHQVdDLEdBQ0QsSUFBSSxDQUFDQyxpQkFBaUIsR0FBR1QsT0FBT1MsaUJBQWlCLElBQUksQ0FBQztJQUN0RDs7Ozs7Ozs7Ozs7R0FXQyxHQUNELElBQUksQ0FBQ0MsY0FBYyxHQUFHVixPQUFPVSxjQUFjLElBQUksQ0FBQztJQUNoRDs7Ozs7Ozs7Ozs7R0FXQyxHQUNELElBQUksQ0FBQ0MsNEJBQTRCLEdBQUdYLE9BQU9XLDRCQUE0QixJQUFJLENBQUM7SUFDNUU7Ozs7Ozs7Ozs7R0FVQyxHQUNELElBQUksQ0FBQ0Msa0JBQWtCLEdBQUdaLE9BQU9ZLGtCQUFrQixJQUFJLENBQUM7SUFDeEQ7Ozs7OztHQU1DLEdBQ0QsSUFBSSxDQUFDQyxjQUFjLEdBQUdiLE9BQU9hLGNBQWMsSUFBSSxFQUFFO0lBQ2pEOzs7Ozs7Ozs7Ozs7O0dBYUMsR0FDRCxJQUFJLENBQUNDLDZCQUE2QixHQUNoQ2QsT0FBT2MsNkJBQTZCLElBQUksQ0FBQztJQUUzQywyQ0FBMkM7SUFDM0MsSUFBSUMsT0FBTyxJQUFJO0lBQ2ZDLE9BQU9DLElBQUksQ0FBQ2pCLFFBQVFrQixPQUFPLENBQUMsU0FBVUMsU0FBUztRQUM3QyxJQUFJQyxhQUFhdEIsaUJBQWlCdUIsVUFBVSxDQUFDQyxPQUFPLENBQUNILGVBQWUsQ0FBQztRQUNyRSxJQUFJSSxpQkFBaUJ2QixNQUFNLENBQUNtQixVQUFVLEtBQUtoQjtRQUUzQyxJQUFJLENBQUNpQixjQUFjRyxnQkFBZ0I7WUFDakNSLElBQUksQ0FBQ0ksVUFBVSxHQUFHbkIsTUFBTSxDQUFDbUIsVUFBVTtRQUNyQztJQUNGO0FBQ0Y7QUFFQTs7OztDQUlDLEdBQ0RyQixpQkFBaUJ1QixVQUFVLEdBQUdMLE9BQU9DLElBQUksQ0FBQyxJQUFJbkI7QUFFOUM7Ozs7Q0FJQyxHQUNEQSxpQkFBaUJHLGFBQWEsR0FBRyxTQUFVdUIsWUFBWTtJQUNyRCxrRkFBa0Y7SUFDbEYsSUFBSUEsd0JBQXdCMUIsa0JBQWtCLE9BQU8wQjtJQUVyRCxJQUFJQyxVQUFVLENBQUM7SUFFZixJQUFJQyxhQUFhO1FBQ2Y7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtLQUNEO0lBRURBLFdBQVdSLE9BQU8sQ0FBQyxTQUFVUyxDQUFDO1FBQzVCLElBQUlDLFFBQVFKLFlBQVksQ0FBQ0csRUFBRTtRQUMzQixJQUFJLE9BQU9DLFVBQVUsVUFBVTtZQUM3QixJQUFJQyxjQUFjQyxXQUFXRjtZQUM3Qiw4REFBOEQ7WUFDOURILE9BQU8sQ0FBQ0UsRUFBRSxHQUFHSSxNQUFNRixlQUFlRCxRQUFRQztRQUM1QztJQUNGO0lBRUEsNkRBQTZEO0lBQzdELG9EQUFvRDtJQUNwRCxJQUFJekMsTUFBTUMsT0FBTyxDQUFDbUMsYUFBYVEsaUJBQWlCLEdBQUc7UUFDakRQLFFBQVFPLGlCQUFpQixHQUFHUixhQUFhUSxpQkFBaUIsQ0FBQ0MsR0FBRyxDQUFDLFNBQzdEQyxPQUFPO1lBRVAsSUFBSTlDLE1BQU1DLE9BQU8sQ0FBQzZDLFVBQVU7Z0JBQzFCLE9BQU9BLFFBQVFELEdBQUcsQ0FBQyxTQUFVTCxLQUFLO29CQUNoQyxPQUFPRSxXQUFXRjtnQkFDcEI7WUFDRjtZQUNBLE9BQU9NO1FBQ1Q7SUFDRjtJQUVBLElBQUlWLGFBQWFaLGtCQUFrQixFQUFFO1FBQ25DLElBQUlBLHFCQUFxQixDQUFDO1FBQzFCSSxPQUFPQyxJQUFJLENBQUNPLGFBQWFaLGtCQUFrQixFQUFFTSxPQUFPLENBQUMsU0FBVWlCLFNBQVM7WUFDdEUsSUFBSUMsWUFBWVosYUFBYVosa0JBQWtCLENBQUN1QixVQUFVLElBQUksQ0FBQztZQUMvRHZCLGtCQUFrQixDQUFDdUIsVUFBVSxHQUFHLENBQUM7WUFDakNuQixPQUFPQyxJQUFJLENBQUNtQixXQUFXbEIsT0FBTyxDQUFDLFNBQVVtQixRQUFRO2dCQUMvQyxJQUFJQyxTQUFTRixTQUFTLENBQUNDLFNBQVM7Z0JBQ2hDLElBQUlFLGVBQWVELE9BQU9MLEdBQUcsQ0FBQyxTQUFVTyxDQUFDO29CQUN2QyxJQUFJcEQsTUFBTUMsT0FBTyxDQUFDbUQsSUFBSTt3QkFDcEIsT0FBT0EsRUFBRVAsR0FBRyxDQUFDLFNBQVVRLE1BQU07NEJBQzNCLElBQUksT0FBT0EsV0FBVyxVQUFVO2dDQUM5QixPQUFPWCxXQUFXVzs0QkFDcEI7NEJBQ0EsT0FBT0E7d0JBQ1Q7b0JBQ0YsT0FBTyxJQUFJLE9BQU9ELE1BQU0sVUFBVTt3QkFDaEMsT0FBT1YsV0FBV1U7b0JBQ3BCO29CQUNBLE9BQU9BO2dCQUNUO2dCQUNBNUIsa0JBQWtCLENBQUN1QixVQUFVLENBQUNFLFNBQVMsR0FBR0U7WUFDNUM7UUFDRjtRQUNBZCxRQUFRYixrQkFBa0IsR0FBR0E7SUFDL0I7SUFFQSxPQUFPakMsTUFBTSxDQUFDLEdBQUc2QyxjQUFjQztBQUNqQztBQUVBOzs7OztDQUtDLEdBQ0QzQixpQkFBaUI0QyxJQUFJLEdBQUcsU0FBU0MscUJBQXFCNUMsYUFBYTtJQUNqRSxJQUFJNkMsV0FBVyxJQUFJOUMsaUJBQWlCQztJQUVwQyxJQUFJUyxxQkFBcUJULGNBQWNTLGtCQUFrQixJQUFJLEVBQUU7SUFDL0RBLG1CQUFtQlUsT0FBTyxDQUFDLFNBQVUyQixLQUFLO1FBQ3hDLElBQUlBLE1BQU1DLFFBQVEsRUFBRTtZQUNsQixJQUFJQyxvQkFBb0JILFNBQVNJLHlCQUF5QixDQUFDSCxNQUFNSSxJQUFJO1lBRXJFLElBQ0VGLGtCQUFrQnpELE1BQU0sR0FBRyxLQUMzQnlELGlCQUFpQixDQUFDLEVBQUUsQ0FBQ3pCLE9BQU8sQ0FBQ3VCLE1BQU1DLFFBQVEsTUFBTSxHQUNqRDtnQkFDQUYsV0FBV0EsU0FBU00sZ0JBQWdCLENBQUNMLE1BQU1JLElBQUk7WUFDakQ7WUFFQSwyQ0FBMkM7WUFDM0NGLG9CQUFvQkgsU0FBU0kseUJBQXlCLENBQUNILE1BQU1JLElBQUk7WUFDakUsSUFBSUYsa0JBQWtCekQsTUFBTSxLQUFLLEdBQUc7Z0JBQ2xDc0QsV0FBV0EsU0FBU08saUNBQWlDLENBQ25ETixNQUFNSSxJQUFJLEVBQ1ZKLE1BQU1DLFFBQVE7WUFFbEI7UUFDRjtJQUNGO0lBRUEsT0FBT0Y7QUFDVDtBQUVBOzs7OztDQUtDLEdBQ0Q5QyxpQkFBaUJzRCxRQUFRLEdBQUcsU0FBVUMsWUFBWSxFQUFFQyxVQUFVO0lBQzVELElBQUl0RCxTQUFTc0QsY0FBYyxDQUFDO0lBRTVCLElBQ0VELGFBQWFFLFVBQVUsSUFDdkJ2RCxPQUFPYSxjQUFjLElBQ3JCYixPQUFPYSxjQUFjLENBQUN2QixNQUFNLEdBQUcsR0FDL0I7UUFDQSxPQUFPLElBQUlrRSxNQUNULHVGQUNFO0lBRU47SUFFQSxJQUFJSCxhQUFheEMsY0FBYyxDQUFDdkIsTUFBTSxHQUFHLEtBQUtVLE9BQU91RCxVQUFVLEVBQUU7UUFDL0QsT0FBTyxJQUFJQyxNQUNULHVGQUNFO0lBRU47SUFFQSxJQUNFSCxhQUFhSSxjQUFjLElBQzNCekQsT0FBT1ksa0JBQWtCLElBQ3pCaEMsY0FBY29CLE9BQU9ZLGtCQUFrQixHQUN2QztRQUNBLE9BQU8sSUFBSTRDLE1BQ1QsNEVBQ0UsOEVBQ0E7SUFFTjtJQUVBLElBQUk1RSxjQUFjeUUsYUFBYXpDLGtCQUFrQixLQUFLWixPQUFPeUQsY0FBYyxFQUFFO1FBQzNFLE9BQU8sSUFBSUQsTUFDVCw0RUFDRSw4RUFDQTtJQUVOO0lBRUEsT0FBTztBQUNUO0FBRUExRCxpQkFBaUI0RCxTQUFTLEdBQUc7SUFDM0JDLGFBQWE3RDtJQUViOzs7Ozs7OztHQVFDLEdBQ0RvRCxrQkFBa0IsU0FBU0EsaUJBQWlCZixTQUFTO1FBQ25ELElBQUl5QixRQUFRO1lBQ1ZoRCxvQkFBb0IsSUFBSSxDQUFDaUQsd0JBQXdCLENBQUMxQjtZQUNsRDFCLG1CQUFtQnpCLGVBQWU4RSxlQUFlLENBQy9DLElBQUksQ0FBQ3JELGlCQUFpQixFQUN0QjBCLFdBQ0E7WUFFRnpCLGdCQUFnQjFCLGVBQWU4RSxlQUFlLENBQzVDLElBQUksQ0FBQ3BELGNBQWMsRUFDbkJ5QixXQUNBO1lBRUZ4Qiw4QkFBOEIzQixlQUFlOEUsZUFBZSxDQUMxRCxJQUFJLENBQUNuRCw0QkFBNEIsRUFDakN3QixXQUNBO1lBRUZyQiwrQkFBK0I5QixlQUFlOEUsZUFBZSxDQUMzRCxJQUFJLENBQUNoRCw2QkFBNkIsRUFDbENxQixXQUNBO1FBRUo7UUFDQSxJQUNFeUIsTUFBTWhELGtCQUFrQixLQUFLLElBQUksQ0FBQ0Esa0JBQWtCLElBQ3BEZ0QsTUFBTW5ELGlCQUFpQixLQUFLLElBQUksQ0FBQ0EsaUJBQWlCLElBQ2xEbUQsTUFBTWxELGNBQWMsS0FBSyxJQUFJLENBQUNBLGNBQWMsSUFDNUNrRCxNQUFNakQsNEJBQTRCLEtBQ2hDLElBQUksQ0FBQ0EsNEJBQTRCLElBQ25DaUQsTUFBTTlDLDZCQUE2QixLQUFLLElBQUksQ0FBQ0EsNkJBQTZCLEVBQzFFO1lBQ0EsT0FBTyxJQUFJO1FBQ2I7UUFDQSxPQUFPLElBQUksQ0FBQ2lELGtCQUFrQixDQUFDSDtJQUNqQztJQUNBOzs7O0dBSUMsR0FDREksV0FBVyxTQUFTQTtRQUNsQixJQUFJLElBQUksQ0FBQ1QsVUFBVSxLQUFLcEQsYUFBYSxJQUFJLENBQUNVLGNBQWMsQ0FBQ3ZCLE1BQU0sS0FBSyxHQUNsRSxPQUFPLElBQUk7UUFFYixPQUFPLElBQUksQ0FBQ3lFLGtCQUFrQixDQUFDO1lBQzdCUixZQUFZcEQ7WUFDWlUsZ0JBQWdCLEVBQUU7UUFDcEI7SUFDRjtJQUNBOzs7OztHQUtDLEdBQ0RvRCxVQUFVLFNBQVNBLFNBQVNDLEtBQUs7UUFDL0IsSUFBSUEsVUFBVSxJQUFJLENBQUNBLEtBQUssRUFBRSxPQUFPLElBQUk7UUFFckMsT0FBTyxJQUFJLENBQUNILGtCQUFrQixDQUFDO1lBQzdCRyxPQUFPQTtRQUNUO0lBQ0Y7SUFDQTs7Ozs7R0FLQyxHQUNEQyxVQUFVLFNBQVNBLFNBQVNDLFFBQVE7UUFDbEMsSUFBSUEsYUFBYSxJQUFJLENBQUNDLEtBQUssRUFBRSxPQUFPLElBQUk7UUFFeEMsT0FBTyxJQUFJLENBQUNOLGtCQUFrQixDQUFDO1lBQzdCTSxPQUFPRDtRQUNUO0lBQ0Y7SUFDQTs7Ozs7R0FLQyxHQUNERSxTQUFTLFNBQVNBLFFBQVFDLE9BQU87UUFDL0IsSUFBSUEsWUFBWSxJQUFJLENBQUNDLElBQUksRUFBRSxPQUFPLElBQUk7UUFFdEMsT0FBTyxJQUFJLENBQUNULGtCQUFrQixDQUFDO1lBQzdCUyxNQUFNRDtRQUNSO0lBQ0Y7SUFDQTs7Ozs7O0dBTUMsR0FDREUsV0FBVyxTQUFTQSxVQUFVbkUsTUFBTTtRQUNsQyxPQUFPLElBQUksQ0FBQ3lELGtCQUFrQixDQUFDO1lBQzdCekQsUUFBUUE7UUFDVjtJQUNGO0lBQ0E7Ozs7OztHQU1DLEdBQ0RvRSxzQkFBc0IsU0FBU0EscUJBQXFCcEUsTUFBTTtRQUN4RCxPQUFPLElBQUksQ0FBQ3lELGtCQUFrQixDQUFDO1lBQzdCeEQsbUJBQW1CRDtRQUNyQjtJQUNGO0lBQ0E7Ozs7OztHQU1DLEdBQ0RxRSxnQkFBZ0IsU0FBU0EsZUFBZUMsQ0FBQztRQUN2QyxJQUFJLElBQUksQ0FBQ0MsV0FBVyxLQUFLRCxHQUFHLE9BQU8sSUFBSTtRQUV2QyxPQUFPLElBQUksQ0FBQ2Isa0JBQWtCLENBQUM7WUFDN0JjLGFBQWFEO1FBQ2Y7SUFDRjtJQUNBOzs7Ozs7R0FNQyxHQUNERSxrQkFBa0IsU0FBU0EsaUJBQWlCQyxhQUFhO1FBQ3ZELElBQUksSUFBSSxDQUFDQSxhQUFhLEtBQUtBLGVBQWUsT0FBTyxJQUFJO1FBRXJELE9BQU8sSUFBSSxDQUFDaEIsa0JBQWtCLENBQUM7WUFDN0JnQixlQUFlQTtRQUNqQjtJQUNGO0lBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7R0FnQkMsR0FDREMsc0JBQXNCLFNBQVU3QyxTQUFTLEVBQUVFLFFBQVEsRUFBRVQsS0FBSztRQUN4RCxJQUFJcUQsTUFBTW5HLFlBQVk4QztRQUV0QixJQUFJLElBQUksQ0FBQ3NELGdCQUFnQixDQUFDL0MsV0FBV0UsVUFBVTRDLE1BQU0sT0FBTyxJQUFJO1FBRWhFLElBQUlFLE1BQU14RyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUNpQyxrQkFBa0I7UUFFM0N1RSxHQUFHLENBQUNoRCxVQUFVLEdBQUd4RCxNQUFNLENBQUMsR0FBR3dHLEdBQUcsQ0FBQ2hELFVBQVU7UUFFekMsSUFBSWdELEdBQUcsQ0FBQ2hELFVBQVUsQ0FBQ0UsU0FBUyxFQUFFO1lBQzVCLGFBQWE7WUFDYjhDLEdBQUcsQ0FBQ2hELFVBQVUsQ0FBQ0UsU0FBUyxHQUFHOEMsR0FBRyxDQUFDaEQsVUFBVSxDQUFDRSxTQUFTLENBQUMrQyxLQUFLO1lBQ3pELDRFQUE0RTtZQUM1RUQsR0FBRyxDQUFDaEQsVUFBVSxDQUFDRSxTQUFTLENBQUNnRCxJQUFJLENBQUNKO1FBQ2hDLE9BQU87WUFDTEUsR0FBRyxDQUFDaEQsVUFBVSxDQUFDRSxTQUFTLEdBQUc7Z0JBQUM0QzthQUFJO1FBQ2xDO1FBRUEsT0FBTyxJQUFJLENBQUNsQixrQkFBa0IsQ0FBQztZQUM3Qm5ELG9CQUFvQnVFO1FBQ3RCO0lBQ0Y7SUFDQTs7OztHQUlDLEdBQ0RHLDJCQUEyQixTQUFVQyxTQUFTO1FBQzVDLElBQUksQ0FBQyxJQUFJLENBQUNDLGtCQUFrQixDQUFDRCxZQUFZO1lBQ3ZDLE9BQU8sRUFBRTtRQUNYO1FBQ0EsT0FBTyxJQUFJLENBQUM5RSxpQkFBaUIsQ0FBQzhFLFVBQVUsSUFBSSxFQUFFO0lBQ2hEO0lBQ0E7Ozs7R0FJQyxHQUNERSwyQkFBMkIsU0FBVUYsU0FBUztRQUM1QyxJQUFJLENBQUMsSUFBSSxDQUFDRyxrQkFBa0IsQ0FBQ0gsWUFBWTtZQUN2QyxPQUFPLEVBQUU7UUFDWDtRQUNBLE9BQU8sSUFBSSxDQUFDNUUsNEJBQTRCLENBQUM0RSxVQUFVLElBQUksRUFBRTtJQUMzRDtJQUNBOzs7O0dBSUMsR0FDRHZDLDJCQUEyQixTQUFVdUMsU0FBUztRQUM1Qyw0REFBNEQ7UUFDNUQsa0RBQWtEO1FBQ2xELE9BQU8sSUFBSSxDQUFDekUsNkJBQTZCLENBQUN5RSxVQUFVLElBQUksRUFBRTtJQUM1RDtJQUNBOzs7O0dBSUMsR0FDREksdUJBQXVCLFNBQVVKLFNBQVM7UUFDeEMsSUFBSSxDQUFDLElBQUksQ0FBQ0Msa0JBQWtCLENBQUNELFlBQVk7WUFDdkMsT0FBTyxFQUFFO1FBQ1g7UUFDQSxPQUFPLElBQUksQ0FBQzdFLGNBQWMsQ0FBQzZFLFVBQVUsSUFBSSxFQUFFO0lBQzdDO0lBRUE7Ozs7Ozs7R0FPQyxHQUNESyx5QkFBeUIsU0FBVXpELFNBQVMsRUFBRUUsUUFBUSxFQUFFd0QsTUFBTTtRQUM1RCxJQUFJQyxhQUFhRDtRQUNqQixJQUFJQyxlQUFlM0YsV0FBVztZQUM1QixJQUFJLENBQUMsSUFBSSxDQUFDK0UsZ0JBQWdCLENBQUMvQyxXQUFXRSxVQUFVeUQsYUFBYTtnQkFDM0QsT0FBTyxJQUFJO1lBQ2I7WUFDQSxPQUFPLElBQUksQ0FBQy9CLGtCQUFrQixDQUFDO2dCQUM3Qm5ELG9CQUFvQixJQUFJLENBQUNpRCx3QkFBd0IsQ0FBQyxTQUNoRGpDLEtBQUssRUFDTG1FLEdBQUc7b0JBRUgsT0FDRUEsUUFBUTVELGFBQ1JQLE1BQU1vRSxFQUFFLEtBQUszRCxZQUNicEQseUJBQXlCMkMsTUFBTXFELEdBQUcsRUFBRW5HLFlBQVlnSDtnQkFFcEQ7WUFDRjtRQUNGLE9BQU8sSUFBSXpELGFBQWFsQyxXQUFXO1lBQ2pDLElBQUksQ0FBQyxJQUFJLENBQUMrRSxnQkFBZ0IsQ0FBQy9DLFdBQVdFLFdBQVcsT0FBTyxJQUFJO1lBQzVELE9BQU8sSUFBSSxDQUFDMEIsa0JBQWtCLENBQUM7Z0JBQzdCbkQsb0JBQW9CLElBQUksQ0FBQ2lELHdCQUF3QixDQUFDLFNBQ2hEakMsS0FBSyxFQUNMbUUsR0FBRztvQkFFSCxPQUFPQSxRQUFRNUQsYUFBYVAsTUFBTW9FLEVBQUUsS0FBSzNEO2dCQUMzQztZQUNGO1FBQ0Y7UUFFQSxJQUFJLENBQUMsSUFBSSxDQUFDNkMsZ0JBQWdCLENBQUMvQyxZQUFZLE9BQU8sSUFBSTtRQUNsRCxPQUFPLElBQUksQ0FBQzRCLGtCQUFrQixDQUFDO1lBQzdCbkQsb0JBQW9CLElBQUksQ0FBQ2lELHdCQUF3QixDQUFDLFNBQVVqQyxLQUFLLEVBQUVtRSxHQUFHO2dCQUNwRSxPQUFPQSxRQUFRNUQ7WUFDakI7UUFDRjtJQUNGO0lBQ0E7Ozs7R0FJQyxHQUNEOEQsdUJBQXVCLFNBQVVWLFNBQVM7UUFDeEMsT0FBTyxJQUFJLENBQUMzRSxrQkFBa0IsQ0FBQzJFLFVBQVUsSUFBSSxDQUFDO0lBQ2hEO0lBQ0E7Ozs7O0dBS0MsR0FDRFcsc0JBQXNCLFNBQVUvRCxTQUFTLEVBQUVFLFFBQVE7UUFDakQsT0FDRSxJQUFJLENBQUN6QixrQkFBa0IsQ0FBQ3VCLFVBQVUsSUFDbEMsSUFBSSxDQUFDdkIsa0JBQWtCLENBQUN1QixVQUFVLENBQUNFLFNBQVM7SUFFaEQ7SUFDQTs7Ozs7Ozs7O0dBU0MsR0FDRHdCLDBCQUEwQixTQUFTQSx5QkFBeUIxQixTQUFTO1FBQ25FLElBQUlBLGNBQWNoQyxXQUFXO1lBQzNCLElBQUksQ0FBQ3ZCLGNBQWMsSUFBSSxDQUFDZ0Msa0JBQWtCLEdBQUc7Z0JBQzNDLE9BQU8sSUFBSSxDQUFDQSxrQkFBa0I7WUFDaEM7WUFDQSxPQUFPLENBQUM7UUFDVixPQUFPLElBQUksT0FBT3VCLGNBQWMsVUFBVTtZQUN4QyxPQUFPdEQsS0FBSyxJQUFJLENBQUMrQixrQkFBa0IsRUFBRTtnQkFBQ3VCO2FBQVU7UUFDbEQsT0FBTyxJQUFJLE9BQU9BLGNBQWMsWUFBWTtZQUMxQyxJQUFJZ0UsYUFBYTtZQUNqQixJQUFJdkYscUJBQXFCLElBQUksQ0FBQ0Esa0JBQWtCO1lBQ2hELElBQUl3Rix3QkFBd0JwRixPQUFPQyxJQUFJLENBQUNMLG9CQUFvQnlGLE1BQU0sQ0FDaEUsU0FBVUMsSUFBSSxFQUFFUCxHQUFHO2dCQUNqQixJQUFJM0QsWUFBWXhCLGtCQUFrQixDQUFDbUYsSUFBSTtnQkFDdkMsSUFBSVEsZUFBZSxDQUFDO2dCQUVwQm5FLFlBQVlBLGFBQWEsQ0FBQztnQkFDMUJwQixPQUFPQyxJQUFJLENBQUNtQixXQUFXbEIsT0FBTyxDQUFDLFNBQVVtQixRQUFRO29CQUMvQyxJQUFJQyxTQUFTRixTQUFTLENBQUNDLFNBQVMsSUFBSSxFQUFFO29CQUN0QyxJQUFJbUUsWUFBWSxFQUFFO29CQUNsQmxFLE9BQU9wQixPQUFPLENBQUMsU0FBVVUsS0FBSzt3QkFDNUIsSUFBSTZFLGtCQUFrQnRFLFVBQ3BCOzRCQUFFOEMsS0FBS3JEOzRCQUFPb0UsSUFBSTNEO3dCQUFTLEdBQzNCMEQsS0FDQTt3QkFFRixJQUFJLENBQUNVLGlCQUFpQkQsVUFBVW5CLElBQUksQ0FBQ3pEO29CQUN2QztvQkFDQSxJQUFJNEUsVUFBVWxILE1BQU0sS0FBS2dELE9BQU9oRCxNQUFNLEVBQUU7d0JBQ3RDNkcsYUFBYTtvQkFDZjtvQkFDQUksWUFBWSxDQUFDbEUsU0FBUyxHQUFHbUU7Z0JBQzNCO2dCQUVBRixJQUFJLENBQUNQLElBQUksR0FBR1E7Z0JBRVosT0FBT0Q7WUFDVCxHQUNBLENBQUM7WUFHSCxJQUFJSCxZQUFZLE9BQU9DO1lBQ3ZCLE9BQU8sSUFBSSxDQUFDeEYsa0JBQWtCO1FBQ2hDO1FBRUEsK0VBQStFO1FBQy9FLDhDQUE4QztRQUM5QyxPQUFPVDtJQUNUO0lBQ0E7Ozs7OztHQU1DLEdBQ0R1RyxVQUFVLFNBQVNBLFNBQVM3RCxLQUFLO1FBQy9CLElBQUksSUFBSSxDQUFDMkMsa0JBQWtCLENBQUMzQyxRQUFRO1lBQ2xDLE9BQU8sSUFBSTtRQUNiO1FBRUEsT0FBTyxJQUFJLENBQUNrQixrQkFBa0IsQ0FBQztZQUM3QnpELFFBQVEsSUFBSSxDQUFDQSxNQUFNLENBQUNxRyxNQUFNLENBQUM7Z0JBQUM5RDthQUFNO1FBQ3BDO0lBQ0Y7SUFDQTs7Ozs7O0dBTUMsR0FDRCtELHFCQUFxQixTQUFTQSxvQkFBb0IvRCxLQUFLO1FBQ3JELElBQUksSUFBSSxDQUFDNkMsa0JBQWtCLENBQUM3QyxRQUFRO1lBQ2xDLE9BQU8sSUFBSTtRQUNiO1FBRUEsT0FBTyxJQUFJLENBQUNrQixrQkFBa0IsQ0FBQztZQUM3QnhELG1CQUFtQixJQUFJLENBQUNBLGlCQUFpQixDQUFDb0csTUFBTSxDQUFDO2dCQUFDOUQ7YUFBTTtRQUMxRDtJQUNGO0lBQ0E7Ozs7Ozs7R0FPQyxHQUNEZ0Usc0JBQXNCLFNBQVNBLHFCQUFxQkMsaUJBQWlCO1FBQ25FLElBQUksSUFBSSxDQUFDQyxtQkFBbUIsQ0FBQ0Qsa0JBQWtCN0QsSUFBSSxHQUFHO1lBQ3BELE1BQU0sSUFBSU8sTUFDUixpRUFDRXNELGtCQUFrQjdELElBQUksR0FDdEI7UUFFTjtRQUVBLE9BQU8sSUFBSSxDQUFDYyxrQkFBa0IsQ0FBQztZQUM3QnZELG9CQUFvQixJQUFJLENBQUNBLGtCQUFrQixDQUFDbUcsTUFBTSxDQUFDO2dCQUFDRzthQUFrQjtRQUN4RTtJQUNGO0lBQ0E7Ozs7OztHQU1DLEdBQ0RFLG9CQUFvQixTQUFTQSxtQkFBbUJuRSxLQUFLLEVBQUVqQixLQUFLO1FBQzFELElBQUksQ0FBQyxJQUFJLENBQUM0RCxrQkFBa0IsQ0FBQzNDLFFBQVE7WUFDbkMsTUFBTSxJQUFJVyxNQUNSWCxRQUNFO1FBRU47UUFDQSxJQUFJN0QsZUFBZWlJLFNBQVMsQ0FBQyxJQUFJLENBQUN4RyxpQkFBaUIsRUFBRW9DLE9BQU9qQixRQUMxRCxPQUFPLElBQUk7UUFFYixPQUFPLElBQUksQ0FBQ21DLGtCQUFrQixDQUFDO1lBQzdCdEQsbUJBQW1CekIsZUFBZWtJLGFBQWEsQ0FDN0MsSUFBSSxDQUFDekcsaUJBQWlCLEVBQ3RCb0MsT0FDQWpCO1FBRUo7SUFDRjtJQUNBOzs7Ozs7R0FNQyxHQUNEdUYsc0JBQXNCLFNBQVNBLHFCQUFxQnRFLEtBQUssRUFBRWpCLEtBQUs7UUFDOUQsSUFBSSxDQUFDLElBQUksQ0FBQzRELGtCQUFrQixDQUFDM0MsUUFBUTtZQUNuQyxNQUFNLElBQUlXLE1BQ1JYLFFBQ0U7UUFFTjtRQUNBLElBQUk3RCxlQUFlaUksU0FBUyxDQUFDLElBQUksQ0FBQ3ZHLGNBQWMsRUFBRW1DLE9BQU9qQixRQUN2RCxPQUFPLElBQUk7UUFFYixPQUFPLElBQUksQ0FBQ21DLGtCQUFrQixDQUFDO1lBQzdCckQsZ0JBQWdCMUIsZUFBZWtJLGFBQWEsQ0FDMUMsSUFBSSxDQUFDeEcsY0FBYyxFQUNuQm1DLE9BQ0FqQjtRQUVKO0lBQ0Y7SUFDQTs7Ozs7O0dBTUMsR0FDRHdGLCtCQUErQixTQUFTQSw4QkFDdEN2RSxLQUFLLEVBQ0xqQixLQUFLO1FBRUwsSUFBSSxDQUFDLElBQUksQ0FBQzhELGtCQUFrQixDQUFDN0MsUUFBUTtZQUNuQyxNQUFNLElBQUlXLE1BQ1JYLFFBQ0U7UUFFTjtRQUVBLElBQ0U3RCxlQUFlaUksU0FBUyxDQUFDLElBQUksQ0FBQ3RHLDRCQUE0QixFQUFFa0MsT0FBT2pCLFFBRW5FLE9BQU8sSUFBSTtRQUViLE9BQU8sSUFBSSxDQUFDbUMsa0JBQWtCLENBQUM7WUFDN0JwRCw4QkFBOEIzQixlQUFla0ksYUFBYSxDQUN4RCxJQUFJLENBQUN2Ryw0QkFBNEIsRUFDakNrQyxPQUNBakI7UUFFSjtJQUNGO0lBQ0E7Ozs7R0FJQyxHQUNEeUYsa0JBQWtCLFNBQVNBLGlCQUFpQkMsR0FBRztRQUM3QyxJQUFJLElBQUksQ0FBQ0MsWUFBWSxDQUFDRCxNQUFNLE9BQU8sSUFBSTtRQUV2QyxJQUFJRSxlQUFlO1lBQ2pCM0csZ0JBQWdCLElBQUksQ0FBQ0EsY0FBYyxDQUFDOEYsTUFBTSxDQUFDVztRQUM3QztRQUVBLE9BQU8sSUFBSSxDQUFDdkQsa0JBQWtCLENBQUN5RDtJQUNqQztJQUNBOzs7Ozs7R0FNQyxHQUNEQyxhQUFhLFNBQVNBLFlBQVk1RSxLQUFLO1FBQ3JDLElBQUksQ0FBQyxJQUFJLENBQUMyQyxrQkFBa0IsQ0FBQzNDLFFBQVE7WUFDbkMsT0FBTyxJQUFJO1FBQ2I7UUFFQSxPQUFPLElBQUksQ0FBQ0ssZ0JBQWdCLENBQUNMLE9BQU9rQixrQkFBa0IsQ0FBQztZQUNyRHpELFFBQVEsSUFBSSxDQUFDQSxNQUFNLENBQUNvSCxNQUFNLENBQUMsU0FBVUMsQ0FBQztnQkFDcEMsT0FBT0EsTUFBTTlFO1lBQ2Y7UUFDRjtJQUNGO0lBQ0E7Ozs7OztHQU1DLEdBQ0QrRSx3QkFBd0IsU0FBU0EsdUJBQXVCL0UsS0FBSztRQUMzRCxJQUFJLENBQUMsSUFBSSxDQUFDNkMsa0JBQWtCLENBQUM3QyxRQUFRO1lBQ25DLE9BQU8sSUFBSTtRQUNiO1FBRUEsT0FBTyxJQUFJLENBQUNLLGdCQUFnQixDQUFDTCxPQUFPa0Isa0JBQWtCLENBQUM7WUFDckR4RCxtQkFBbUIsSUFBSSxDQUFDQSxpQkFBaUIsQ0FBQ21ILE1BQU0sQ0FBQyxTQUFVQyxDQUFDO2dCQUMxRCxPQUFPQSxNQUFNOUU7WUFDZjtRQUNGO0lBQ0Y7SUFDQTs7Ozs7O0dBTUMsR0FDRGdGLHlCQUF5QixTQUFTQSx3QkFBd0JoRixLQUFLO1FBQzdELElBQUksQ0FBQyxJQUFJLENBQUNrRSxtQkFBbUIsQ0FBQ2xFLFFBQVE7WUFDcEMsT0FBTyxJQUFJO1FBQ2I7UUFFQSxPQUFPLElBQUksQ0FBQ0ssZ0JBQWdCLENBQUNMLE9BQU9rQixrQkFBa0IsQ0FBQztZQUNyRHZELG9CQUFvQixJQUFJLENBQUNBLGtCQUFrQixDQUFDa0gsTUFBTSxDQUFDLFNBQVVDLENBQUM7Z0JBQzVELE9BQU9BLEVBQUUxRSxJQUFJLEtBQUtKO1lBQ3BCO1FBQ0Y7SUFDRjtJQUNBOzs7Ozs7OztHQVFDLEdBQ0RpRix1QkFBdUIsU0FBU0Esc0JBQXNCakYsS0FBSyxFQUFFakIsS0FBSztRQUNoRSxJQUFJLENBQUMsSUFBSSxDQUFDNEQsa0JBQWtCLENBQUMzQyxRQUFRO1lBQ25DLE1BQU0sSUFBSVcsTUFDUlgsUUFDRTtRQUVOO1FBQ0EsSUFBSSxDQUFDN0QsZUFBZWlJLFNBQVMsQ0FBQyxJQUFJLENBQUN4RyxpQkFBaUIsRUFBRW9DLE9BQU9qQixRQUMzRCxPQUFPLElBQUk7UUFFYixPQUFPLElBQUksQ0FBQ21DLGtCQUFrQixDQUFDO1lBQzdCdEQsbUJBQW1CekIsZUFBZStJLGdCQUFnQixDQUNoRCxJQUFJLENBQUN0SCxpQkFBaUIsRUFDdEJvQyxPQUNBakI7UUFFSjtJQUNGO0lBQ0E7Ozs7OztHQU1DLEdBQ0RvRyx5QkFBeUIsU0FBU0Esd0JBQXdCbkYsS0FBSyxFQUFFakIsS0FBSztRQUNwRSxJQUFJLENBQUMsSUFBSSxDQUFDNEQsa0JBQWtCLENBQUMzQyxRQUFRO1lBQ25DLE1BQU0sSUFBSVcsTUFDUlgsUUFDRTtRQUVOO1FBQ0EsSUFBSSxDQUFDN0QsZUFBZWlJLFNBQVMsQ0FBQyxJQUFJLENBQUN2RyxjQUFjLEVBQUVtQyxPQUFPakIsUUFDeEQsT0FBTyxJQUFJO1FBRWIsT0FBTyxJQUFJLENBQUNtQyxrQkFBa0IsQ0FBQztZQUM3QnJELGdCQUFnQjFCLGVBQWUrSSxnQkFBZ0IsQ0FDN0MsSUFBSSxDQUFDckgsY0FBYyxFQUNuQm1DLE9BQ0FqQjtRQUVKO0lBQ0Y7SUFDQTs7Ozs7O0dBTUMsR0FDRHFHLGtDQUFrQyxTQUFTQSxpQ0FDekNwRixLQUFLLEVBQ0xqQixLQUFLO1FBRUwsSUFBSSxDQUFDLElBQUksQ0FBQzhELGtCQUFrQixDQUFDN0MsUUFBUTtZQUNuQyxNQUFNLElBQUlXLE1BQ1JYLFFBQ0U7UUFFTjtRQUNBLElBQ0UsQ0FBQzdELGVBQWVpSSxTQUFTLENBQUMsSUFBSSxDQUFDdEcsNEJBQTRCLEVBQUVrQyxPQUFPakIsUUFFcEUsT0FBTyxJQUFJO1FBRWIsT0FBTyxJQUFJLENBQUNtQyxrQkFBa0IsQ0FBQztZQUM3QnBELDhCQUE4QjNCLGVBQWUrSSxnQkFBZ0IsQ0FDM0QsSUFBSSxDQUFDcEgsNEJBQTRCLEVBQ2pDa0MsT0FDQWpCO1FBRUo7SUFDRjtJQUNBOzs7OztHQUtDLEdBQ0RzRyxxQkFBcUIsU0FBU0Esb0JBQW9CWixHQUFHO1FBQ25ELElBQUksQ0FBQyxJQUFJLENBQUNDLFlBQVksQ0FBQ0QsTUFBTSxPQUFPLElBQUk7UUFFeEMsSUFBSUUsZUFBZTtZQUNqQjNHLGdCQUFnQixJQUFJLENBQUNBLGNBQWMsQ0FBQzZHLE1BQU0sQ0FBQyxTQUFVUyxDQUFDO2dCQUNwRCxPQUFPQSxNQUFNYjtZQUNmO1FBQ0Y7UUFFQSxPQUFPLElBQUksQ0FBQ3ZELGtCQUFrQixDQUFDeUQ7SUFDakM7SUFDQTs7Ozs7Ozs7R0FRQyxHQUNEWSxrQkFBa0IsU0FBU0EsaUJBQWlCdkYsS0FBSyxFQUFFakIsS0FBSztRQUN0RCxPQUFPLElBQUksQ0FBQ3lHLHFCQUFxQixDQUFDeEYsT0FBT2pCO0lBQzNDO0lBQ0E7Ozs7Ozs7R0FPQyxHQUNEeUcsdUJBQXVCLFNBQVNBLHNCQUFzQnhGLEtBQUssRUFBRWpCLEtBQUs7UUFDaEUsSUFBSSxJQUFJLENBQUNtRixtQkFBbUIsQ0FBQ2xFLFFBQVE7WUFDbkMsT0FBTyxJQUFJLENBQUNNLGlDQUFpQyxDQUFDTixPQUFPakI7UUFDdkQsT0FBTyxJQUFJLElBQUksQ0FBQzRELGtCQUFrQixDQUFDM0MsUUFBUTtZQUN6QyxPQUFPLElBQUksQ0FBQ3lGLGdDQUFnQyxDQUFDekYsT0FBT2pCO1FBQ3RELE9BQU8sSUFBSSxJQUFJLENBQUM4RCxrQkFBa0IsQ0FBQzdDLFFBQVE7WUFDekMsT0FBTyxJQUFJLENBQUMwRixnQ0FBZ0MsQ0FBQzFGLE9BQU9qQjtRQUN0RDtRQUVBLE1BQU0sSUFBSTRCLE1BQ1Isd0NBQ0VYLFFBQ0E7SUFFTjtJQUNBOzs7Ozs7R0FNQyxHQUNEeUYsa0NBQWtDLFNBQVNBLGlDQUN6Q3pGLEtBQUssRUFDTGpCLEtBQUs7UUFFTCxJQUFJLENBQUMsSUFBSSxDQUFDNEQsa0JBQWtCLENBQUMzQyxRQUFRO1lBQ25DLE1BQU0sSUFBSVcsTUFDUlgsUUFDRTtRQUVOO1FBRUEsT0FBTyxJQUFJLENBQUNrQixrQkFBa0IsQ0FBQztZQUM3QnRELG1CQUFtQnpCLGVBQWVvSixnQkFBZ0IsQ0FDaEQsSUFBSSxDQUFDM0gsaUJBQWlCLEVBQ3RCb0MsT0FDQWpCO1FBRUo7SUFDRjtJQUNBOzs7Ozs7R0FNQyxHQUNENEcsOEJBQThCLFNBQVNBLDZCQUNyQzNGLEtBQUssRUFDTGpCLEtBQUs7UUFFTCxJQUFJLENBQUMsSUFBSSxDQUFDNEQsa0JBQWtCLENBQUMzQyxRQUFRO1lBQ25DLE1BQU0sSUFBSVcsTUFDUlgsUUFDRTtRQUVOO1FBRUEsT0FBTyxJQUFJLENBQUNrQixrQkFBa0IsQ0FBQztZQUM3QnJELGdCQUFnQjFCLGVBQWVvSixnQkFBZ0IsQ0FDN0MsSUFBSSxDQUFDMUgsY0FBYyxFQUNuQm1DLE9BQ0FqQjtRQUVKO0lBQ0Y7SUFDQTs7Ozs7O0dBTUMsR0FDRDJHLGtDQUFrQyxTQUFTQSxpQ0FDekMxRixLQUFLLEVBQ0xqQixLQUFLO1FBRUwsSUFBSSxDQUFDLElBQUksQ0FBQzhELGtCQUFrQixDQUFDN0MsUUFBUTtZQUNuQyxNQUFNLElBQUlXLE1BQ1JYLFFBQ0U7UUFFTjtRQUVBLE9BQU8sSUFBSSxDQUFDa0Isa0JBQWtCLENBQUM7WUFDN0JwRCw4QkFBOEIzQixlQUFlb0osZ0JBQWdCLENBQzNELElBQUksQ0FBQ3pILDRCQUE0QixFQUNqQ2tDLE9BQ0FqQjtRQUVKO0lBQ0Y7SUFDQTs7Ozs7O0dBTUMsR0FDRHVCLG1DQUFtQyxTQUFTQSxrQ0FDMUNOLEtBQUssRUFDTGpCLEtBQUs7UUFFTCxJQUFJLENBQUMsSUFBSSxDQUFDbUYsbUJBQW1CLENBQUNsRSxRQUFRO1lBQ3BDLE1BQU0sSUFBSVcsTUFDUlgsUUFDRTtRQUVOO1FBRUEsSUFBSTRGLFlBQVksSUFBSSxDQUFDQyw4QkFBOEIsQ0FDakQsSUFBSSxDQUFDQywwQkFBMEIsQ0FBQzlGO1FBR2xDLElBQUlzQyxNQUFNLENBQUM7UUFFWCxJQUFJeUQsdUJBQ0YsSUFBSSxDQUFDOUgsNkJBQTZCLENBQUMrQixNQUFNLEtBQUsxQyxhQUM5QyxJQUFJLENBQUNXLDZCQUE2QixDQUFDK0IsTUFBTSxDQUFDdkQsTUFBTSxHQUFHLEtBQ25ELDZCQUE2QjtRQUM3QiwrRkFBK0Y7UUFDOUYsS0FBSSxDQUFDd0IsNkJBQTZCLENBQUMrQixNQUFNLENBQUMsRUFBRSxLQUFLakIsU0FDaEQsd0RBQXdEO1FBQ3hELDhDQUE4QztRQUM5Qyx3Q0FBd0M7UUFDeEMsaUNBQWlDO1FBQ2pDLElBQUksQ0FBQ2QsNkJBQTZCLENBQUMrQixNQUFNLENBQUMsRUFBRSxDQUFDdkIsT0FBTyxDQUNsRE0sUUFBUTZHLGVBQ0o7UUFFVixJQUFJRyxzQkFBc0I7WUFDeEIsSUFBSWhILE1BQU1OLE9BQU8sQ0FBQ21ILGVBQWUsQ0FBQyxHQUFHO2dCQUNuQyx3QkFBd0I7Z0JBQ3hCdEQsR0FBRyxDQUFDdEMsTUFBTSxHQUFHLEVBQUU7WUFDakIsT0FBTztnQkFDTHNDLEdBQUcsQ0FBQ3RDLE1BQU0sR0FBRztvQkFBQ2pCLE1BQU13RCxLQUFLLENBQUMsR0FBR3hELE1BQU1pSCxXQUFXLENBQUNKO2lCQUFZO1lBQzdEO1FBQ0YsT0FBTztZQUNMdEQsR0FBRyxDQUFDdEMsTUFBTSxHQUFHO2dCQUFDakI7YUFBTTtRQUN0QjtRQUVBLE9BQU8sSUFBSSxDQUFDbUMsa0JBQWtCLENBQUM7WUFDN0JqRCwrQkFBK0J2QyxhQUM3QixDQUFDLEdBQ0Q0RyxLQUNBLElBQUksQ0FBQ3JFLDZCQUE2QjtRQUV0QztJQUNGO0lBRUE7Ozs7OztHQU1DLEdBQ0RnSSxnQ0FBZ0MsU0FBVWpHLEtBQUssRUFBRWtHLElBQUk7UUFDbkQsSUFBSSxJQUFJLENBQUNDLDBCQUEwQixDQUFDbkcsUUFBUTtZQUMxQyxNQUFNLElBQUlXLE1BQU1YLFFBQVE7UUFDMUI7UUFDQSxJQUFJLENBQUMsSUFBSSxDQUFDa0UsbUJBQW1CLENBQUNsRSxRQUFRO1lBQ3BDLE1BQU0sSUFBSVcsTUFDUlgsUUFDRTtRQUVOO1FBQ0EsSUFBSXNDLE1BQU0sQ0FBQztRQUNYQSxHQUFHLENBQUN0QyxNQUFNLEdBQUc7WUFBQ2tHO1NBQUs7UUFDbkIsT0FBTyxJQUFJLENBQUNoRixrQkFBa0IsQ0FBQztZQUM3QmpELCtCQUErQnZDLGFBQzdCLENBQUMsR0FDRDRHLEtBQ0EsSUFBSSxDQUFDckUsNkJBQTZCO1FBRXRDO0lBQ0Y7SUFFQTs7Ozs7R0FLQyxHQUNEbUksbUNBQW1DLFNBQVVwRyxLQUFLO1FBQ2hELElBQUksQ0FBQyxJQUFJLENBQUNtRywwQkFBMEIsQ0FBQ25HLFFBQVE7WUFDM0MsT0FBTyxJQUFJO1FBQ2I7UUFDQSxJQUFJc0MsTUFBTSxDQUFDO1FBQ1hBLEdBQUcsQ0FBQ3RDLE1BQU0sR0FBRyxFQUFFO1FBQ2YsT0FBTyxJQUFJLENBQUNrQixrQkFBa0IsQ0FBQztZQUM3QmpELCtCQUErQnZDLGFBQzdCLENBQUMsR0FDRDRHLEtBQ0EsSUFBSSxDQUFDckUsNkJBQTZCO1FBRXRDO0lBQ0Y7SUFDQTs7Ozs7R0FLQyxHQUNEb0kscUJBQXFCLFNBQVNBLG9CQUFvQjVCLEdBQUc7UUFDbkQsSUFBSSxJQUFJLENBQUNDLFlBQVksQ0FBQ0QsTUFBTTtZQUMxQixPQUFPLElBQUksQ0FBQ1ksbUJBQW1CLENBQUNaO1FBQ2xDO1FBRUEsT0FBTyxJQUFJLENBQUNELGdCQUFnQixDQUFDQztJQUMvQjtJQUNBOzs7OztHQUtDLEdBQ0Q1QixvQkFBb0IsU0FBVTdDLEtBQUs7UUFDakMsT0FBTyxJQUFJLENBQUN0QyxpQkFBaUIsQ0FBQ2UsT0FBTyxDQUFDdUIsU0FBUyxDQUFDO0lBQ2xEO0lBQ0E7Ozs7O0dBS0MsR0FDRGtFLHFCQUFxQixTQUFVeEIsU0FBUztRQUN0QyxPQUFPLElBQUksQ0FBQ29ELDBCQUEwQixDQUFDcEQsZUFBZXBGO0lBQ3hEO0lBQ0E7Ozs7O0dBS0MsR0FDRHFGLG9CQUFvQixTQUFVM0MsS0FBSztRQUNqQyxPQUFPLElBQUksQ0FBQ3ZDLE1BQU0sQ0FBQ2dCLE9BQU8sQ0FBQ3VCLFNBQVMsQ0FBQztJQUN2QztJQUNBOzs7Ozs7OztHQVFDLEdBQ0RzRyxnQkFBZ0IsU0FBU0EsZUFBZXRHLEtBQUssRUFBRWpCLEtBQUs7UUFDbEQsSUFBSSxDQUFDLElBQUksQ0FBQzRELGtCQUFrQixDQUFDM0MsUUFBUTtZQUNuQyxPQUFPO1FBQ1Q7UUFDQSxPQUFPN0QsZUFBZWlJLFNBQVMsQ0FBQyxJQUFJLENBQUN4RyxpQkFBaUIsRUFBRW9DLE9BQU9qQjtJQUNqRTtJQUNBOzs7Ozs7Ozs7R0FTQyxHQUNEd0gsa0JBQWtCLFNBQVNBLGlCQUFpQnZHLEtBQUssRUFBRWpCLEtBQUs7UUFDdEQsSUFBSSxDQUFDLElBQUksQ0FBQzRELGtCQUFrQixDQUFDM0MsUUFBUTtZQUNuQyxPQUFPO1FBQ1Q7UUFDQSxPQUFPN0QsZUFBZWlJLFNBQVMsQ0FBQyxJQUFJLENBQUN2RyxjQUFjLEVBQUVtQyxPQUFPakI7SUFDOUQ7SUFDQTs7Ozs7Ozs7R0FRQyxHQUNEeUgsMkJBQTJCLFNBQVNBLDBCQUEwQnhHLEtBQUssRUFBRWpCLEtBQUs7UUFDeEUsSUFBSSxDQUFDLElBQUksQ0FBQzhELGtCQUFrQixDQUFDN0MsUUFBUTtZQUNuQyxPQUFPO1FBQ1Q7UUFDQSxPQUFPN0QsZUFBZWlJLFNBQVMsQ0FDN0IsSUFBSSxDQUFDdEcsNEJBQTRCLEVBQ2pDa0MsT0FDQWpCO0lBRUo7SUFDQTs7Ozs7Ozs7R0FRQyxHQUNEb0gsNEJBQTRCLFNBQVNBLDJCQUNuQ25HLEtBQUssRUFDTGpCLEtBQUs7UUFFTCxJQUFJLENBQUMsSUFBSSxDQUFDbUYsbUJBQW1CLENBQUNsRSxRQUFRO1lBQ3BDLE9BQU87UUFDVDtRQUVBLElBQUl5RyxjQUFjLElBQUksQ0FBQ3RHLHlCQUF5QixDQUFDSDtRQUVqRCxJQUFJLENBQUNqQixPQUFPO1lBQ1YsT0FBTzBILFlBQVloSyxNQUFNLEdBQUc7UUFDOUI7UUFFQSxPQUFPZ0ssWUFBWWhJLE9BQU8sQ0FBQ00sV0FBVyxDQUFDO0lBQ3pDO0lBQ0E7Ozs7Ozs7OztHQVNDLEdBQ0RzRCxrQkFBa0IsU0FBU0EsaUJBQWlCL0MsU0FBUyxFQUFFRSxRQUFRLEVBQUVULEtBQUs7UUFDcEUsSUFBSUEsVUFBVXpCLGFBQWFrQyxhQUFhbEMsV0FBVztZQUNqRCxPQUFPb0osUUFBUSxJQUFJLENBQUMzSSxrQkFBa0IsQ0FBQ3VCLFVBQVU7UUFDbkQ7UUFFQSxJQUFJcUgsb0JBQ0YsSUFBSSxDQUFDNUksa0JBQWtCLENBQUN1QixVQUFVLElBQ2xDLElBQUksQ0FBQ3ZCLGtCQUFrQixDQUFDdUIsVUFBVSxDQUFDRSxTQUFTLEtBQUtsQztRQUVuRCxJQUFJeUIsVUFBVXpCLGFBQWEsQ0FBQ3FKLG1CQUFtQjtZQUM3QyxPQUFPQTtRQUNUO1FBRUEsSUFBSTNILGNBQWMvQyxZQUFZOEM7UUFDOUIsSUFBSTZILDBCQUNGL0osVUFBVSxJQUFJLENBQUNrQixrQkFBa0IsQ0FBQ3VCLFVBQVUsQ0FBQ0UsU0FBUyxFQUFFUixpQkFDeEQxQjtRQUVGLE9BQU9xSixxQkFBcUJDO0lBQzlCO0lBQ0E7Ozs7O0dBS0MsR0FDRGxDLGNBQWMsU0FBU0EsYUFBYUQsR0FBRztRQUNyQyxPQUFPLElBQUksQ0FBQ3pHLGNBQWMsQ0FBQ1MsT0FBTyxDQUFDZ0csU0FBUyxDQUFDO0lBQy9DO0lBQ0E7Ozs7OztHQU1DLEdBQ0RvQyw2QkFBNkIsU0FBU0E7UUFDcEMsMkNBQTJDO1FBQzNDLElBQUkzSSxPQUFPLElBQUk7UUFFZiw2REFBNkQ7UUFDN0QsSUFBSTRJLGtDQUFrQ2pMLGFBQ3BDc0MsT0FBT0MsSUFBSSxDQUFDLElBQUksQ0FBQ0wsa0JBQWtCLEVBQUU4RyxNQUFNLENBQUMsU0FBVTdFLEtBQUs7WUFDekQsT0FBTzdCLE9BQU9DLElBQUksQ0FBQ0YsS0FBS0gsa0JBQWtCLENBQUNpQyxNQUFNLEVBQUV2RCxNQUFNLEdBQUc7UUFDOUQsSUFDQSxJQUFJLENBQUNpQixpQkFBaUI7UUFHeEIsT0FBT1MsT0FBT0MsSUFBSSxDQUFDLElBQUksQ0FBQ04sNEJBQTRCLEVBQ2pEK0csTUFBTSxDQUFDLFNBQVU3RSxLQUFLO1lBQ3JCLE9BQU85QixLQUFLSiw0QkFBNEIsQ0FBQ2tDLE1BQU0sQ0FBQ3ZELE1BQU0sR0FBRztRQUMzRCxHQUNDcUgsTUFBTSxDQUFDZ0QsaUNBQ1BoRCxNQUFNLENBQUMsSUFBSSxDQUFDaUQsNEJBQTRCLElBQ3hDQyxJQUFJO0lBQ1Q7SUFDQTs7Ozs7O0dBTUMsR0FDREQsOEJBQThCLFNBQVNBO1FBQ3JDLDJDQUEyQztRQUMzQyxJQUFJN0ksT0FBTyxJQUFJO1FBQ2YsT0FBT3JDLGFBQ0wsNENBQTRDO1FBQzVDLDZEQUE2RDtRQUM3RCxJQUFJLENBQUM4QixrQkFBa0IsQ0FBQ3lCLEdBQUcsQ0FBQyxTQUFVWSxLQUFLO1lBQ3pDLE9BQU9BLE1BQU1JLElBQUk7UUFDbkIsSUFDQWpDLE9BQU9DLElBQUksQ0FBQyxJQUFJLENBQUNILDZCQUE2QixFQUFFNEcsTUFBTSxDQUFDLFNBQVU3RSxLQUFLO1lBQ3BFLE9BQU85QixLQUFLRCw2QkFBNkIsQ0FBQytCLE1BQU0sQ0FBQ3ZELE1BQU0sR0FBRztRQUM1RCxJQUNBdUssSUFBSTtJQUNSO0lBQ0E7Ozs7R0FJQyxHQUNEQywrQkFBK0I7UUFDN0IsSUFBSUMsZ0JBQWdCLElBQUksQ0FBQ0wsMkJBQTJCO1FBRXBELE9BQU8sSUFBSSxDQUFDbkosaUJBQWlCLENBQUNtSCxNQUFNLENBQUMsU0FBVUMsQ0FBQztZQUM5QyxPQUFPb0MsY0FBY3pJLE9BQU8sQ0FBQ3FHLE9BQU8sQ0FBQztRQUN2QztJQUNGO0lBRUFxQyxtQkFBbUI7UUFDakI7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBRUE7UUFDQTtRQUNBO1FBQ0E7S0FDRDtJQUVEQyxnQkFBZ0IsU0FBU0E7UUFDdkIsSUFBSUQsb0JBQW9CLElBQUksQ0FBQ0EsaUJBQWlCO1FBRTlDLElBQUlFLGNBQWMsQ0FBQztRQUVuQiwyQ0FBMkM7UUFDM0MsSUFBSW5KLE9BQU8sSUFBSTtRQUNmQyxPQUFPQyxJQUFJLENBQUMsSUFBSSxFQUFFQyxPQUFPLENBQUMsU0FBVUMsU0FBUztZQUMzQyxJQUFJMkUsYUFBYS9FLElBQUksQ0FBQ0ksVUFBVTtZQUNoQyxJQUNFNkksa0JBQWtCMUksT0FBTyxDQUFDSCxlQUFlLENBQUMsS0FDMUMyRSxlQUFlM0YsV0FDZjtnQkFDQStKLFdBQVcsQ0FBQy9JLFVBQVUsR0FBRzJFO1lBQzNCO1FBQ0Y7UUFFQSxPQUFPb0U7SUFDVDtJQUNBOzs7Ozs7Ozs7R0FTQyxHQUNEQyxtQkFBbUIsU0FBU0MsYUFBYUMsU0FBUyxFQUFFekksS0FBSztRQUN2RCxJQUFJLElBQUksQ0FBQ3lJLFVBQVUsS0FBS3pJLE9BQU8sT0FBTyxJQUFJO1FBRTFDLElBQUk0RixlQUFlLENBQUM7UUFFcEJBLFlBQVksQ0FBQzZDLFVBQVUsR0FBR3pJO1FBRTFCLE9BQU8sSUFBSSxDQUFDbUMsa0JBQWtCLENBQUN5RDtJQUNqQztJQUNBOzs7OztHQUtDLEdBQ0R6RCxvQkFBb0IsU0FBU0EsbUJBQW1CL0QsTUFBTTtRQUNwRCxJQUFJLENBQUNBLFFBQVEsT0FBTyxJQUFJO1FBRXhCLElBQUlzSyxRQUFReEssaUJBQWlCc0QsUUFBUSxDQUFDLElBQUksRUFBRXBEO1FBRTVDLElBQUlzSyxPQUFPO1lBQ1QsTUFBTUE7UUFDUjtRQUVBLDJDQUEyQztRQUMzQyxJQUFJdkosT0FBTyxJQUFJO1FBQ2YsSUFBSXdKLGtCQUFrQnpLLGlCQUFpQkcsYUFBYSxDQUFDRDtRQUNyRCxJQUFJd0ssc0JBQXNCeEosT0FBT0MsSUFBSSxDQUFDLElBQUksRUFBRW9GLE1BQU0sQ0FBQyxTQUFVb0UsR0FBRyxFQUFFMUUsR0FBRztZQUNuRTBFLEdBQUcsQ0FBQzFFLElBQUksR0FBR2hGLElBQUksQ0FBQ2dGLElBQUk7WUFDcEIsT0FBTzBFO1FBQ1QsR0FBRyxDQUFDO1FBRUosSUFBSUMsa0JBQWtCMUosT0FBT0MsSUFBSSxDQUFDc0osaUJBQWlCbEUsTUFBTSxDQUFDLFNBQ3hEc0UsUUFBUSxFQUNSNUUsR0FBRztZQUVILElBQUk2RSx5QkFBeUJELFFBQVEsQ0FBQzVFLElBQUksS0FBSzVGO1lBQy9DLElBQUkwSyxxQkFBcUJOLGVBQWUsQ0FBQ3hFLElBQUksS0FBSzVGO1lBRWxELElBQUl5SywwQkFBMEIsQ0FBQ0Msb0JBQW9CO2dCQUNqRCxPQUFPaE0sS0FBSzhMLFVBQVU7b0JBQUM1RTtpQkFBSTtZQUM3QjtZQUVBLElBQUk4RSxvQkFBb0I7Z0JBQ3RCRixRQUFRLENBQUM1RSxJQUFJLEdBQUd3RSxlQUFlLENBQUN4RSxJQUFJO1lBQ3RDO1lBRUEsT0FBTzRFO1FBQ1QsR0FDQUg7UUFFQSxPQUFPLElBQUksSUFBSSxDQUFDN0csV0FBVyxDQUFDK0c7SUFDOUI7SUFFQTs7Ozs7R0FLQyxHQUNESSxXQUFXO1FBQ1QsSUFBSSxJQUFJLENBQUN0RyxJQUFJLEtBQUtyRSxXQUFXO1lBQzNCLE9BQU8sSUFBSTtRQUNiO1FBRUEsT0FBTyxJQUFJLENBQUNtRSxPQUFPLENBQUM7SUFDdEI7SUFFQTs7OztHQUlDLEdBQ0R5Ryw2QkFBNkIsU0FBVWpFLGlCQUFpQjtRQUN0RCxPQUFPQSxrQkFBa0JrRSxNQUFNLElBQUk7WUFBQztZQUFrQjtTQUFXO0lBQ25FO0lBRUE7Ozs7O0dBS0MsR0FDRHRDLGdDQUFnQyxTQUFVNUIsaUJBQWlCO1FBQ3pELE9BQU9BLGtCQUFrQjJCLFNBQVMsSUFBSTtJQUN4QztJQUVBOzs7OztHQUtDLEdBQ0R3QywwQkFBMEIsU0FBVW5FLGlCQUFpQjtRQUNuRCxPQUFPQSxrQkFBa0JoRSxRQUFRLElBQUk7SUFDdkM7SUFFQTs7Ozs7R0FLQyxHQUNEb0ksaUNBQWlDLFNBQVVwRSxpQkFBaUI7UUFDMUQsSUFBSSxPQUFPQSxrQkFBa0JxRSxlQUFlLEtBQUssV0FBVztZQUMxRCxPQUFPckUsa0JBQWtCcUUsZUFBZTtRQUMxQztRQUNBLE9BQU87SUFDVDtJQUVBOzs7O0dBSUMsR0FDRHhDLDRCQUE0QixTQUFVeUMscUJBQXFCO1FBQ3pELE9BQU8zTSxLQUFLLElBQUksQ0FBQytCLGtCQUFrQixFQUFFLFNBQVVtSCxDQUFDO1lBQzlDLE9BQU9BLEVBQUUxRSxJQUFJLEtBQUttSTtRQUNwQjtJQUNGO0lBRUE7Ozs7R0FJQyxHQUNEQyxnQ0FBZ0MsU0FBVTlGLFNBQVM7UUFDakQsSUFBSSxDQUFDLElBQUksQ0FBQ3dCLG1CQUFtQixDQUFDeEIsWUFBWTtZQUN4QyxPQUFPLEVBQUU7UUFDWDtRQUVBLElBQUkrRixhQUFhLElBQUksQ0FBQ3RJLHlCQUF5QixDQUFDdUMsVUFBVSxDQUFDLEVBQUU7UUFDN0QsSUFBSSxDQUFDK0YsWUFBWSxPQUFPLEVBQUU7UUFFMUIsSUFBSTdDLFlBQVksSUFBSSxDQUFDQyw4QkFBOEIsQ0FDakQsSUFBSSxDQUFDQywwQkFBMEIsQ0FBQ3BEO1FBRWxDLElBQUl3RCxPQUFPdUMsV0FBV0MsS0FBSyxDQUFDOUM7UUFDNUIsT0FBT00sS0FBSzlHLEdBQUcsQ0FBQyxTQUFVdUosSUFBSTtZQUM1QixPQUFPQSxLQUFLQyxJQUFJO1FBQ2xCO0lBQ0Y7SUFFQUMsVUFBVTtRQUNSLE9BQU9DLEtBQUtDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsTUFBTTtJQUNwQztBQUNGO0FBRUE7Ozs7Ozs7O0NBUUMsR0FDREMsT0FBT0MsT0FBTyxHQUFHaE0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZWR1c2EtbmV4dC8uL25vZGVfbW9kdWxlcy9yZWFjdC1pbnN0YW50c2VhcmNoLWhvb2tzL25vZGVfbW9kdWxlcy9hbGdvbGlhc2VhcmNoLWhlbHBlci9zcmMvU2VhcmNoUGFyYW1ldGVycy9pbmRleC5qcz9iMjAxIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIGRlZmF1bHRzUHVyZSA9IHJlcXVpcmUoJy4uL2Z1bmN0aW9ucy9kZWZhdWx0c1B1cmUnKTtcbnZhciBmaW5kID0gcmVxdWlyZSgnLi4vZnVuY3Rpb25zL2ZpbmQnKTtcbnZhciBpbnRlcnNlY3Rpb24gPSByZXF1aXJlKCcuLi9mdW5jdGlvbnMvaW50ZXJzZWN0aW9uJyk7XG52YXIgbWVyZ2UgPSByZXF1aXJlKCcuLi9mdW5jdGlvbnMvbWVyZ2UnKTtcbnZhciBvYmplY3RIYXNLZXlzID0gcmVxdWlyZSgnLi4vZnVuY3Rpb25zL29iamVjdEhhc0tleXMnKTtcbnZhciBvbWl0ID0gcmVxdWlyZSgnLi4vZnVuY3Rpb25zL29taXQnKTtcbnZhciB2YWxUb051bWJlciA9IHJlcXVpcmUoJy4uL2Z1bmN0aW9ucy92YWxUb051bWJlcicpO1xudmFyIGlzVmFsaWRVc2VyVG9rZW4gPSByZXF1aXJlKCcuLi91dGlscy9pc1ZhbGlkVXNlclRva2VuJyk7XG5cbnZhciBSZWZpbmVtZW50TGlzdCA9IHJlcXVpcmUoJy4vUmVmaW5lbWVudExpc3QnKTtcblxuLyoqXG4gKiBpc0VxdWFsLCBidXQgb25seSBmb3IgbnVtZXJpYyByZWZpbmVtZW50IHZhbHVlcywgcG9zc2libGUgdmFsdWVzOlxuICogLSA1XG4gKiAtIFs1XVxuICogLSBbWzVdXVxuICogLSBbWzUsNV0sWzRdXVxuICogQHBhcmFtIHthbnl9IGEgbnVtZXJpYyByZWZpbmVtZW50IHZhbHVlXG4gKiBAcGFyYW0ge2FueX0gYiBudW1lcmljIHJlZmluZW1lbnQgdmFsdWVcbiAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgdGhlIHZhbHVlcyBhcmUgZXF1YWxcbiAqL1xuZnVuY3Rpb24gaXNFcXVhbE51bWVyaWNSZWZpbmVtZW50KGEsIGIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYSkgJiYgQXJyYXkuaXNBcnJheShiKSkge1xuICAgIHJldHVybiAoXG4gICAgICBhLmxlbmd0aCA9PT0gYi5sZW5ndGggJiZcbiAgICAgIGEuZXZlcnkoZnVuY3Rpb24gKGVsLCBpKSB7XG4gICAgICAgIHJldHVybiBpc0VxdWFsTnVtZXJpY1JlZmluZW1lbnQoYltpXSwgZWwpO1xuICAgICAgfSlcbiAgICApO1xuICB9XG4gIHJldHVybiBhID09PSBiO1xufVxuXG4vKipcbiAqIGxpa2UgXy5maW5kIGJ1dCB1c2luZyBkZWVwIGVxdWFsaXR5IHRvIGJlIGFibGUgdG8gdXNlIGl0XG4gKiB0byBmaW5kIGFycmF5cy5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge2FueVtdfSBhcnJheSBhcnJheSB0byBzZWFyY2ggaW50byAoZWxlbWVudHMgYXJlIGJhc2Ugb3IgYXJyYXkgb2YgYmFzZSlcbiAqIEBwYXJhbSB7YW55fSBzZWFyY2hlZFZhbHVlIHRoZSB2YWx1ZSB3ZSdyZSBsb29raW5nIGZvciAoYmFzZSBvciBhcnJheSBvZiBiYXNlKVxuICogQHJldHVybiB7YW55fSB0aGUgc2VhcmNoZWQgdmFsdWUgb3IgdW5kZWZpbmVkXG4gKi9cbmZ1bmN0aW9uIGZpbmRBcnJheShhcnJheSwgc2VhcmNoZWRWYWx1ZSkge1xuICByZXR1cm4gZmluZChhcnJheSwgZnVuY3Rpb24gKGN1cnJlbnRWYWx1ZSkge1xuICAgIHJldHVybiBpc0VxdWFsTnVtZXJpY1JlZmluZW1lbnQoY3VycmVudFZhbHVlLCBzZWFyY2hlZFZhbHVlKTtcbiAgfSk7XG59XG5cbi8qKlxuICogVGhlIGZhY2V0IGxpc3QgaXMgdGhlIHN0cnVjdHVyZSB1c2VkIHRvIHN0b3JlIHRoZSBsaXN0IG9mIHZhbHVlcyB1c2VkIHRvXG4gKiBmaWx0ZXIgYSBzaW5nbGUgYXR0cmlidXRlLlxuICogQHR5cGVkZWYge3N0cmluZ1tdfSBTZWFyY2hQYXJhbWV0ZXJzLkZhY2V0TGlzdFxuICovXG5cbi8qKlxuICogU3RydWN0dXJlIHRvIHN0b3JlIG51bWVyaWMgZmlsdGVycyB3aXRoIHRoZSBvcGVyYXRvciBhcyB0aGUga2V5LiBUaGUgc3VwcG9ydGVkIG9wZXJhdG9yc1xuICogYXJlIGA9YCwgYD5gLCBgPGAsIGA+PWAsIGA8PWAgYW5kIGAhPWAuXG4gKiBAdHlwZWRlZiB7T2JqZWN0LjxzdHJpbmcsIEFycmF5LjxudW1iZXJ8bnVtYmVyW10+Pn0gU2VhcmNoUGFyYW1ldGVycy5PcGVyYXRvckxpc3RcbiAqL1xuXG4vKipcbiAqIFNlYXJjaFBhcmFtZXRlcnMgaXMgdGhlIGRhdGEgc3RydWN0dXJlIHRoYXQgY29udGFpbnMgYWxsIHRoZSBpbmZvcm1hdGlvblxuICogdXNhYmxlIGZvciBtYWtpbmcgYSBzZWFyY2ggdG8gQWxnb2xpYSBBUEkuIEl0IGRvZXNuJ3QgZG8gdGhlIHNlYXJjaCBpdHNlbGYsXG4gKiBub3IgZG9lcyBpdCBjb250YWlucyBsb2dpYyBhYm91dCB0aGUgcGFyYW1ldGVycy5cbiAqIEl0IGlzIGFuIGltbXV0YWJsZSBvYmplY3QsIHRoZXJlZm9yZSBpdCBoYXMgYmVlbiBjcmVhdGVkIGluIGEgd2F5IHRoYXQgZWFjaFxuICogY2hhbmdlcyBkb2VzIG5vdCBjaGFuZ2UgdGhlIG9iamVjdCBpdHNlbGYgYnV0IHJldHVybnMgYSBjb3B5IHdpdGggdGhlXG4gKiBtb2RpZmljYXRpb24uXG4gKiBUaGlzIG9iamVjdCBzaG91bGQgcHJvYmFibHkgbm90IGJlIGluc3RhbnRpYXRlZCBvdXRzaWRlIG9mIHRoZSBoZWxwZXIuIEl0IHdpbGxcbiAqIGJlIHByb3ZpZGVkIHdoZW4gbmVlZGVkLiBUaGlzIG9iamVjdCBpcyBkb2N1bWVudGVkIGZvciByZWZlcmVuY2UgYXMgeW91J2xsXG4gKiBnZXQgaXQgZnJvbSBldmVudHMgZ2VuZXJhdGVkIGJ5IHRoZSB7QGxpbmsgQWxnb2xpYVNlYXJjaEhlbHBlcn0uXG4gKiBJZiBuZWVkIGJlLCBpbnN0YW50aWF0ZSB0aGUgSGVscGVyIGZyb20gdGhlIGZhY3RvcnkgZnVuY3Rpb24ge0BsaW5rIFNlYXJjaFBhcmFtZXRlcnMubWFrZX1cbiAqIEBjb25zdHJ1Y3RvclxuICogQGNsYXNzZGVzYyBjb250YWlucyBhbGwgdGhlIHBhcmFtZXRlcnMgb2YgYSBzZWFyY2hcbiAqIEBwYXJhbSB7b2JqZWN0fFNlYXJjaFBhcmFtZXRlcnN9IG5ld1BhcmFtZXRlcnMgZXhpc3RpbmcgcGFyYW1ldGVycyBvciBwYXJ0aWFsIG9iamVjdFxuICogZm9yIHRoZSBwcm9wZXJ0aWVzIG9mIGEgbmV3IFNlYXJjaFBhcmFtZXRlcnNcbiAqIEBzZWUgU2VhcmNoUGFyYW1ldGVycy5tYWtlXG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj5TZWFyY2hQYXJhbWV0ZXJzIG9mIHRoZSBmaXJzdCBxdWVyeSBpblxuICogICA8YSBocmVmPVwiaHR0cDovL2RlbW9zLmFsZ29saWEuY29tL2luc3RhbnQtc2VhcmNoLWRlbW8vXCI+dGhlIGluc3RhbnQgc2VhcmNoIGRlbW88L2E+PC9jYXB0aW9uPlxue1xuICAgXCJxdWVyeVwiOiBcIlwiLFxuICAgXCJkaXNqdW5jdGl2ZUZhY2V0c1wiOiBbXG4gICAgICBcImN1c3RvbWVyUmV2aWV3Q291bnRcIixcbiAgICAgIFwiY2F0ZWdvcnlcIixcbiAgICAgIFwic2FsZVByaWNlX3JhbmdlXCIsXG4gICAgICBcIm1hbnVmYWN0dXJlclwiXG4gIF0sXG4gICBcIm1heFZhbHVlc1BlckZhY2V0XCI6IDMwLFxuICAgXCJwYWdlXCI6IDAsXG4gICBcImhpdHNQZXJQYWdlXCI6IDEwLFxuICAgXCJmYWNldHNcIjogW1xuICAgICAgXCJ0eXBlXCIsXG4gICAgICBcInNoaXBwaW5nXCJcbiAgXVxufVxuICovXG5mdW5jdGlvbiBTZWFyY2hQYXJhbWV0ZXJzKG5ld1BhcmFtZXRlcnMpIHtcbiAgdmFyIHBhcmFtcyA9IG5ld1BhcmFtZXRlcnNcbiAgICA/IFNlYXJjaFBhcmFtZXRlcnMuX3BhcnNlTnVtYmVycyhuZXdQYXJhbWV0ZXJzKVxuICAgIDoge307XG5cbiAgaWYgKHBhcmFtcy51c2VyVG9rZW4gIT09IHVuZGVmaW5lZCAmJiAhaXNWYWxpZFVzZXJUb2tlbihwYXJhbXMudXNlclRva2VuKSkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgY29uc29sZS53YXJuKFxuICAgICAgJ1thbGdvbGlhc2VhcmNoLWhlbHBlcl0gVGhlIGB1c2VyVG9rZW5gIHBhcmFtZXRlciBpcyBpbnZhbGlkLiBUaGlzIGNhbiBsZWFkIHRvIHdyb25nIGFuYWx5dGljcy5cXG4gIC0gRm9ybWF0OiBbYS16QS1aMC05Xy1dezEsNjR9J1xuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIFRoaXMgYXR0cmlidXRlIGNvbnRhaW5zIHRoZSBsaXN0IG9mIGFsbCB0aGUgY29uanVuY3RpdmUgZmFjZXRzXG4gICAqIHVzZWQuIFRoaXMgbGlzdCB3aWxsIGJlIGFkZGVkIHRvIHJlcXVlc3RlZCBmYWNldHMgaW4gdGhlXG4gICAqIFtmYWNldHMgYXR0cmlidXRlXShodHRwczovL3d3dy5hbGdvbGlhLmNvbS9kb2MvcmVzdC1hcGkvc2VhcmNoI3BhcmFtLWZhY2V0cykgc2VudCB0byBhbGdvbGlhLlxuICAgKiBAbWVtYmVyIHtzdHJpbmdbXX1cbiAgICovXG4gIHRoaXMuZmFjZXRzID0gcGFyYW1zLmZhY2V0cyB8fCBbXTtcbiAgLyoqXG4gICAqIFRoaXMgYXR0cmlidXRlIGNvbnRhaW5zIHRoZSBsaXN0IG9mIGFsbCB0aGUgZGlzanVuY3RpdmUgZmFjZXRzXG4gICAqIHVzZWQuIFRoaXMgbGlzdCB3aWxsIGJlIGFkZGVkIHRvIHJlcXVlc3RlZCBmYWNldHMgaW4gdGhlXG4gICAqIFtmYWNldHMgYXR0cmlidXRlXShodHRwczovL3d3dy5hbGdvbGlhLmNvbS9kb2MvcmVzdC1hcGkvc2VhcmNoI3BhcmFtLWZhY2V0cykgc2VudCB0byBhbGdvbGlhLlxuICAgKiBAbWVtYmVyIHtzdHJpbmdbXX1cbiAgICovXG4gIHRoaXMuZGlzanVuY3RpdmVGYWNldHMgPSBwYXJhbXMuZGlzanVuY3RpdmVGYWNldHMgfHwgW107XG4gIC8qKlxuICAgKiBUaGlzIGF0dHJpYnV0ZSBjb250YWlucyB0aGUgbGlzdCBvZiBhbGwgdGhlIGhpZXJhcmNoaWNhbCBmYWNldHNcbiAgICogdXNlZC4gVGhpcyBsaXN0IHdpbGwgYmUgYWRkZWQgdG8gcmVxdWVzdGVkIGZhY2V0cyBpbiB0aGVcbiAgICogW2ZhY2V0cyBhdHRyaWJ1dGVdKGh0dHBzOi8vd3d3LmFsZ29saWEuY29tL2RvYy9yZXN0LWFwaS9zZWFyY2gjcGFyYW0tZmFjZXRzKSBzZW50IHRvIGFsZ29saWEuXG4gICAqIEhpZXJhcmNoaWNhbCBmYWNldHMgYXJlIGEgc3ViIHR5cGUgb2YgZGlzanVuY3RpdmUgZmFjZXRzIHRoYXRcbiAgICogbGV0IHlvdSBmaWx0ZXIgZmFjZXRlZCBhdHRyaWJ1dGVzIGhpZXJhcmNoaWNhbGx5LlxuICAgKiBAbWVtYmVyIHtzdHJpbmdbXXxvYmplY3RbXX1cbiAgICovXG4gIHRoaXMuaGllcmFyY2hpY2FsRmFjZXRzID0gcGFyYW1zLmhpZXJhcmNoaWNhbEZhY2V0cyB8fCBbXTtcblxuICAvLyBSZWZpbmVtZW50c1xuICAvKipcbiAgICogVGhpcyBhdHRyaWJ1dGUgY29udGFpbnMgYWxsIHRoZSBmaWx0ZXJzIHRoYXQgbmVlZCB0byBiZVxuICAgKiBhcHBsaWVkIG9uIHRoZSBjb25qdW5jdGl2ZSBmYWNldHMuIEVhY2ggZmFjZXQgbXVzdCBiZSBwcm9wZXJseVxuICAgKiBkZWZpbmVkIGluIHRoZSBgZmFjZXRzYCBhdHRyaWJ1dGUuXG4gICAqXG4gICAqIFRoZSBrZXkgaXMgdGhlIG5hbWUgb2YgdGhlIGZhY2V0LCBhbmQgdGhlIGBGYWNldExpc3RgIGNvbnRhaW5zIGFsbFxuICAgKiBmaWx0ZXJzIHNlbGVjdGVkIGZvciB0aGUgYXNzb2NpYXRlZCBmYWNldCBuYW1lLlxuICAgKlxuICAgKiBXaGVuIHF1ZXJ5aW5nIGFsZ29saWEsIHRoZSB2YWx1ZXMgc3RvcmVkIGluIHRoaXMgYXR0cmlidXRlIHdpbGxcbiAgICogYmUgdHJhbnNsYXRlZCBpbnRvIHRoZSBgZmFjZXRGaWx0ZXJzYCBhdHRyaWJ1dGUuXG4gICAqIEBtZW1iZXIge09iamVjdC48c3RyaW5nLCBTZWFyY2hQYXJhbWV0ZXJzLkZhY2V0TGlzdD59XG4gICAqL1xuICB0aGlzLmZhY2V0c1JlZmluZW1lbnRzID0gcGFyYW1zLmZhY2V0c1JlZmluZW1lbnRzIHx8IHt9O1xuICAvKipcbiAgICogVGhpcyBhdHRyaWJ1dGUgY29udGFpbnMgYWxsIHRoZSBmaWx0ZXJzIHRoYXQgbmVlZCB0byBiZVxuICAgKiBleGNsdWRlZCBmcm9tIHRoZSBjb25qdW5jdGl2ZSBmYWNldHMuIEVhY2ggZmFjZXQgbXVzdCBiZSBwcm9wZXJseVxuICAgKiBkZWZpbmVkIGluIHRoZSBgZmFjZXRzYCBhdHRyaWJ1dGUuXG4gICAqXG4gICAqIFRoZSBrZXkgaXMgdGhlIG5hbWUgb2YgdGhlIGZhY2V0LCBhbmQgdGhlIGBGYWNldExpc3RgIGNvbnRhaW5zIGFsbFxuICAgKiBmaWx0ZXJzIGV4Y2x1ZGVkIGZvciB0aGUgYXNzb2NpYXRlZCBmYWNldCBuYW1lLlxuICAgKlxuICAgKiBXaGVuIHF1ZXJ5aW5nIGFsZ29saWEsIHRoZSB2YWx1ZXMgc3RvcmVkIGluIHRoaXMgYXR0cmlidXRlIHdpbGxcbiAgICogYmUgdHJhbnNsYXRlZCBpbnRvIHRoZSBgZmFjZXRGaWx0ZXJzYCBhdHRyaWJ1dGUuXG4gICAqIEBtZW1iZXIge09iamVjdC48c3RyaW5nLCBTZWFyY2hQYXJhbWV0ZXJzLkZhY2V0TGlzdD59XG4gICAqL1xuICB0aGlzLmZhY2V0c0V4Y2x1ZGVzID0gcGFyYW1zLmZhY2V0c0V4Y2x1ZGVzIHx8IHt9O1xuICAvKipcbiAgICogVGhpcyBhdHRyaWJ1dGUgY29udGFpbnMgYWxsIHRoZSBmaWx0ZXJzIHRoYXQgbmVlZCB0byBiZVxuICAgKiBhcHBsaWVkIG9uIHRoZSBkaXNqdW5jdGl2ZSBmYWNldHMuIEVhY2ggZmFjZXQgbXVzdCBiZSBwcm9wZXJseVxuICAgKiBkZWZpbmVkIGluIHRoZSBgZGlzanVuY3RpdmVGYWNldHNgIGF0dHJpYnV0ZS5cbiAgICpcbiAgICogVGhlIGtleSBpcyB0aGUgbmFtZSBvZiB0aGUgZmFjZXQsIGFuZCB0aGUgYEZhY2V0TGlzdGAgY29udGFpbnMgYWxsXG4gICAqIGZpbHRlcnMgc2VsZWN0ZWQgZm9yIHRoZSBhc3NvY2lhdGVkIGZhY2V0IG5hbWUuXG4gICAqXG4gICAqIFdoZW4gcXVlcnlpbmcgYWxnb2xpYSwgdGhlIHZhbHVlcyBzdG9yZWQgaW4gdGhpcyBhdHRyaWJ1dGUgd2lsbFxuICAgKiBiZSB0cmFuc2xhdGVkIGludG8gdGhlIGBmYWNldEZpbHRlcnNgIGF0dHJpYnV0ZS5cbiAgICogQG1lbWJlciB7T2JqZWN0LjxzdHJpbmcsIFNlYXJjaFBhcmFtZXRlcnMuRmFjZXRMaXN0Pn1cbiAgICovXG4gIHRoaXMuZGlzanVuY3RpdmVGYWNldHNSZWZpbmVtZW50cyA9IHBhcmFtcy5kaXNqdW5jdGl2ZUZhY2V0c1JlZmluZW1lbnRzIHx8IHt9O1xuICAvKipcbiAgICogVGhpcyBhdHRyaWJ1dGUgY29udGFpbnMgYWxsIHRoZSBmaWx0ZXJzIHRoYXQgbmVlZCB0byBiZVxuICAgKiBhcHBsaWVkIG9uIHRoZSBudW1lcmljIGF0dHJpYnV0ZXMuXG4gICAqXG4gICAqIFRoZSBrZXkgaXMgdGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSwgYW5kIHRoZSB2YWx1ZSBpcyB0aGVcbiAgICogZmlsdGVycyB0byBhcHBseSB0byB0aGlzIGF0dHJpYnV0ZS5cbiAgICpcbiAgICogV2hlbiBxdWVyeWluZyBhbGdvbGlhLCB0aGUgdmFsdWVzIHN0b3JlZCBpbiB0aGlzIGF0dHJpYnV0ZSB3aWxsXG4gICAqIGJlIHRyYW5zbGF0ZWQgaW50byB0aGUgYG51bWVyaWNGaWx0ZXJzYCBhdHRyaWJ1dGUuXG4gICAqIEBtZW1iZXIge09iamVjdC48c3RyaW5nLCBTZWFyY2hQYXJhbWV0ZXJzLk9wZXJhdG9yTGlzdD59XG4gICAqL1xuICB0aGlzLm51bWVyaWNSZWZpbmVtZW50cyA9IHBhcmFtcy5udW1lcmljUmVmaW5lbWVudHMgfHwge307XG4gIC8qKlxuICAgKiBUaGlzIGF0dHJpYnV0ZSBjb250YWlucyBhbGwgdGhlIHRhZ3MgdXNlZCB0byByZWZpbmUgdGhlIHF1ZXJ5LlxuICAgKlxuICAgKiBXaGVuIHF1ZXJ5aW5nIGFsZ29saWEsIHRoZSB2YWx1ZXMgc3RvcmVkIGluIHRoaXMgYXR0cmlidXRlIHdpbGxcbiAgICogYmUgdHJhbnNsYXRlZCBpbnRvIHRoZSBgdGFnRmlsdGVyc2AgYXR0cmlidXRlLlxuICAgKiBAbWVtYmVyIHtzdHJpbmdbXX1cbiAgICovXG4gIHRoaXMudGFnUmVmaW5lbWVudHMgPSBwYXJhbXMudGFnUmVmaW5lbWVudHMgfHwgW107XG4gIC8qKlxuICAgKiBUaGlzIGF0dHJpYnV0ZSBjb250YWlucyBhbGwgdGhlIGZpbHRlcnMgdGhhdCBuZWVkIHRvIGJlXG4gICAqIGFwcGxpZWQgb24gdGhlIGhpZXJhcmNoaWNhbCBmYWNldHMuIEVhY2ggZmFjZXQgbXVzdCBiZSBwcm9wZXJseVxuICAgKiBkZWZpbmVkIGluIHRoZSBgaGllcmFyY2hpY2FsRmFjZXRzYCBhdHRyaWJ1dGUuXG4gICAqXG4gICAqIFRoZSBrZXkgaXMgdGhlIG5hbWUgb2YgdGhlIGZhY2V0LCBhbmQgdGhlIGBGYWNldExpc3RgIGNvbnRhaW5zIGFsbFxuICAgKiBmaWx0ZXJzIHNlbGVjdGVkIGZvciB0aGUgYXNzb2NpYXRlZCBmYWNldCBuYW1lLiBUaGUgRmFjZXRMaXN0IHZhbHVlc1xuICAgKiBhcmUgc3RydWN0dXJlZCBhcyBhIHN0cmluZyB0aGF0IGNvbnRhaW4gdGhlIHZhbHVlcyBmb3IgZWFjaCBsZXZlbFxuICAgKiBzZXBhcmF0ZWQgYnkgdGhlIGNvbmZpZ3VyZWQgc2VwYXJhdG9yLlxuICAgKlxuICAgKiBXaGVuIHF1ZXJ5aW5nIGFsZ29saWEsIHRoZSB2YWx1ZXMgc3RvcmVkIGluIHRoaXMgYXR0cmlidXRlIHdpbGxcbiAgICogYmUgdHJhbnNsYXRlZCBpbnRvIHRoZSBgZmFjZXRGaWx0ZXJzYCBhdHRyaWJ1dGUuXG4gICAqIEBtZW1iZXIge09iamVjdC48c3RyaW5nLCBTZWFyY2hQYXJhbWV0ZXJzLkZhY2V0TGlzdD59XG4gICAqL1xuICB0aGlzLmhpZXJhcmNoaWNhbEZhY2V0c1JlZmluZW1lbnRzID1cbiAgICBwYXJhbXMuaGllcmFyY2hpY2FsRmFjZXRzUmVmaW5lbWVudHMgfHwge307XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtdGhpc1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIE9iamVjdC5rZXlzKHBhcmFtcykuZm9yRWFjaChmdW5jdGlvbiAocGFyYW1OYW1lKSB7XG4gICAgdmFyIGlzS2V5S25vd24gPSBTZWFyY2hQYXJhbWV0ZXJzLlBBUkFNRVRFUlMuaW5kZXhPZihwYXJhbU5hbWUpICE9PSAtMTtcbiAgICB2YXIgaXNWYWx1ZURlZmluZWQgPSBwYXJhbXNbcGFyYW1OYW1lXSAhPT0gdW5kZWZpbmVkO1xuXG4gICAgaWYgKCFpc0tleUtub3duICYmIGlzVmFsdWVEZWZpbmVkKSB7XG4gICAgICBzZWxmW3BhcmFtTmFtZV0gPSBwYXJhbXNbcGFyYW1OYW1lXTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIExpc3QgYWxsIHRoZSBwcm9wZXJ0aWVzIGluIFNlYXJjaFBhcmFtZXRlcnMgYW5kIHRoZXJlZm9yZSBhbGwgdGhlIGtub3duIEFsZ29saWEgcHJvcGVydGllc1xuICogVGhpcyBkb2Vzbid0IGNvbnRhaW4gYW55IGJldGEvaGlkZGVuIGZlYXR1cmVzLlxuICogQHByaXZhdGVcbiAqL1xuU2VhcmNoUGFyYW1ldGVycy5QQVJBTUVURVJTID0gT2JqZWN0LmtleXMobmV3IFNlYXJjaFBhcmFtZXRlcnMoKSk7XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBwYXJ0aWFsU3RhdGUgZnVsbCBvciBwYXJ0IG9mIGEgc3RhdGVcbiAqIEByZXR1cm4ge29iamVjdH0gYSBuZXcgb2JqZWN0IHdpdGggdGhlIG51bWJlciBrZXlzIGFzIG51bWJlclxuICovXG5TZWFyY2hQYXJhbWV0ZXJzLl9wYXJzZU51bWJlcnMgPSBmdW5jdGlvbiAocGFydGlhbFN0YXRlKSB7XG4gIC8vIERvIG5vdCBwYXJzZSBudW1iZXJzIGFnYWluIGluIFNlYXJjaFBhcmFtZXRlcnMsIHRoZXkgb3VnaHQgdG8gYmUgcGFyc2VkIGFscmVhZHlcbiAgaWYgKHBhcnRpYWxTdGF0ZSBpbnN0YW5jZW9mIFNlYXJjaFBhcmFtZXRlcnMpIHJldHVybiBwYXJ0aWFsU3RhdGU7XG5cbiAgdmFyIG51bWJlcnMgPSB7fTtcblxuICB2YXIgbnVtYmVyS2V5cyA9IFtcbiAgICAnYXJvdW5kUHJlY2lzaW9uJyxcbiAgICAnYXJvdW5kUmFkaXVzJyxcbiAgICAnZ2V0UmFua2luZ0luZm8nLFxuICAgICdtaW5Xb3JkU2l6ZWZvcjJUeXBvcycsXG4gICAgJ21pbldvcmRTaXplZm9yMVR5cG8nLFxuICAgICdwYWdlJyxcbiAgICAnbWF4VmFsdWVzUGVyRmFjZXQnLFxuICAgICdkaXN0aW5jdCcsXG4gICAgJ21pbmltdW1Bcm91bmRSYWRpdXMnLFxuICAgICdoaXRzUGVyUGFnZScsXG4gICAgJ21pblByb3hpbWl0eScsXG4gIF07XG5cbiAgbnVtYmVyS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgdmFyIHZhbHVlID0gcGFydGlhbFN0YXRlW2tdO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICB2YXIgcGFyc2VkVmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICAgIC8vIGdsb2JhbCBpc05hTiBpcyBvayB0byB1c2UgaGVyZSwgdmFsdWUgaXMgb25seSBudW1iZXIgb3IgTmFOXG4gICAgICBudW1iZXJzW2tdID0gaXNOYU4ocGFyc2VkVmFsdWUpID8gdmFsdWUgOiBwYXJzZWRWYWx1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHRoZXJlJ3MgdHdvIGZvcm1hdHMgb2YgaW5zaWRlQm91bmRpbmdCb3gsIHdlIG5lZWQgdG8gcGFyc2VcbiAgLy8gdGhlIG9uZSB3aGljaCBpcyBhbiBhcnJheSBvZiBmbG9hdCBnZW8gcmVjdGFuZ2xlc1xuICBpZiAoQXJyYXkuaXNBcnJheShwYXJ0aWFsU3RhdGUuaW5zaWRlQm91bmRpbmdCb3gpKSB7XG4gICAgbnVtYmVycy5pbnNpZGVCb3VuZGluZ0JveCA9IHBhcnRpYWxTdGF0ZS5pbnNpZGVCb3VuZGluZ0JveC5tYXAoZnVuY3Rpb24gKFxuICAgICAgZ2VvUmVjdFxuICAgICkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZ2VvUmVjdCkpIHtcbiAgICAgICAgcmV0dXJuIGdlb1JlY3QubWFwKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZ2VvUmVjdDtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChwYXJ0aWFsU3RhdGUubnVtZXJpY1JlZmluZW1lbnRzKSB7XG4gICAgdmFyIG51bWVyaWNSZWZpbmVtZW50cyA9IHt9O1xuICAgIE9iamVjdC5rZXlzKHBhcnRpYWxTdGF0ZS5udW1lcmljUmVmaW5lbWVudHMpLmZvckVhY2goZnVuY3Rpb24gKGF0dHJpYnV0ZSkge1xuICAgICAgdmFyIG9wZXJhdG9ycyA9IHBhcnRpYWxTdGF0ZS5udW1lcmljUmVmaW5lbWVudHNbYXR0cmlidXRlXSB8fCB7fTtcbiAgICAgIG51bWVyaWNSZWZpbmVtZW50c1thdHRyaWJ1dGVdID0ge307XG4gICAgICBPYmplY3Qua2V5cyhvcGVyYXRvcnMpLmZvckVhY2goZnVuY3Rpb24gKG9wZXJhdG9yKSB7XG4gICAgICAgIHZhciB2YWx1ZXMgPSBvcGVyYXRvcnNbb3BlcmF0b3JdO1xuICAgICAgICB2YXIgcGFyc2VkVmFsdWVzID0gdmFsdWVzLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHYpKSB7XG4gICAgICAgICAgICByZXR1cm4gdi5tYXAoZnVuY3Rpb24gKHZQcmltZSkge1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIHZQcmltZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCh2UHJpbWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiB2UHJpbWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB2O1xuICAgICAgICB9KTtcbiAgICAgICAgbnVtZXJpY1JlZmluZW1lbnRzW2F0dHJpYnV0ZV1bb3BlcmF0b3JdID0gcGFyc2VkVmFsdWVzO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgbnVtYmVycy5udW1lcmljUmVmaW5lbWVudHMgPSBudW1lcmljUmVmaW5lbWVudHM7XG4gIH1cblxuICByZXR1cm4gbWVyZ2Uoe30sIHBhcnRpYWxTdGF0ZSwgbnVtYmVycyk7XG59O1xuXG4vKipcbiAqIEZhY3RvcnkgZm9yIFNlYXJjaFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7b2JqZWN0fFNlYXJjaFBhcmFtZXRlcnN9IG5ld1BhcmFtZXRlcnMgZXhpc3RpbmcgcGFyYW1ldGVycyBvciBwYXJ0aWFsXG4gKiBvYmplY3QgZm9yIHRoZSBwcm9wZXJ0aWVzIG9mIGEgbmV3IFNlYXJjaFBhcmFtZXRlcnNcbiAqIEByZXR1cm4ge1NlYXJjaFBhcmFtZXRlcnN9IGZyb3plbiBpbnN0YW5jZSBvZiBTZWFyY2hQYXJhbWV0ZXJzXG4gKi9cblNlYXJjaFBhcmFtZXRlcnMubWFrZSA9IGZ1bmN0aW9uIG1ha2VTZWFyY2hQYXJhbWV0ZXJzKG5ld1BhcmFtZXRlcnMpIHtcbiAgdmFyIGluc3RhbmNlID0gbmV3IFNlYXJjaFBhcmFtZXRlcnMobmV3UGFyYW1ldGVycyk7XG5cbiAgdmFyIGhpZXJhcmNoaWNhbEZhY2V0cyA9IG5ld1BhcmFtZXRlcnMuaGllcmFyY2hpY2FsRmFjZXRzIHx8IFtdO1xuICBoaWVyYXJjaGljYWxGYWNldHMuZm9yRWFjaChmdW5jdGlvbiAoZmFjZXQpIHtcbiAgICBpZiAoZmFjZXQucm9vdFBhdGgpIHtcbiAgICAgIHZhciBjdXJyZW50UmVmaW5lbWVudCA9IGluc3RhbmNlLmdldEhpZXJhcmNoaWNhbFJlZmluZW1lbnQoZmFjZXQubmFtZSk7XG5cbiAgICAgIGlmIChcbiAgICAgICAgY3VycmVudFJlZmluZW1lbnQubGVuZ3RoID4gMCAmJlxuICAgICAgICBjdXJyZW50UmVmaW5lbWVudFswXS5pbmRleE9mKGZhY2V0LnJvb3RQYXRoKSAhPT0gMFxuICAgICAgKSB7XG4gICAgICAgIGluc3RhbmNlID0gaW5zdGFuY2UuY2xlYXJSZWZpbmVtZW50cyhmYWNldC5uYW1lKTtcbiAgICAgIH1cblxuICAgICAgLy8gZ2V0IGl0IGFnYWluIGluIGNhc2UgaXQgaGFzIGJlZW4gY2xlYXJlZFxuICAgICAgY3VycmVudFJlZmluZW1lbnQgPSBpbnN0YW5jZS5nZXRIaWVyYXJjaGljYWxSZWZpbmVtZW50KGZhY2V0Lm5hbWUpO1xuICAgICAgaWYgKGN1cnJlbnRSZWZpbmVtZW50Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBpbnN0YW5jZSA9IGluc3RhbmNlLnRvZ2dsZUhpZXJhcmNoaWNhbEZhY2V0UmVmaW5lbWVudChcbiAgICAgICAgICBmYWNldC5uYW1lLFxuICAgICAgICAgIGZhY2V0LnJvb3RQYXRoXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gaW5zdGFuY2U7XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlcyB0aGUgbmV3IHBhcmFtZXRlcnMgYmFzZWQgb24gdGhlIHByZXZpb3VzIHN0YXRlXG4gKiBAcGFyYW0ge1NlYXJjaFBhcmFtZXRlcnN9IGN1cnJlbnRTdGF0ZSB0aGUgY3VycmVudCBzdGF0ZVxuICogQHBhcmFtIHtvYmplY3R8U2VhcmNoUGFyYW1ldGVyc30gcGFyYW1ldGVycyB0aGUgbmV3IHBhcmFtZXRlcnMgdG8gc2V0XG4gKiBAcmV0dXJuIHtFcnJvcnxudWxsfSBFcnJvciBpZiB0aGUgbW9kaWZpY2F0aW9uIGlzIGludmFsaWQsIG51bGwgb3RoZXJ3aXNlXG4gKi9cblNlYXJjaFBhcmFtZXRlcnMudmFsaWRhdGUgPSBmdW5jdGlvbiAoY3VycmVudFN0YXRlLCBwYXJhbWV0ZXJzKSB7XG4gIHZhciBwYXJhbXMgPSBwYXJhbWV0ZXJzIHx8IHt9O1xuXG4gIGlmIChcbiAgICBjdXJyZW50U3RhdGUudGFnRmlsdGVycyAmJlxuICAgIHBhcmFtcy50YWdSZWZpbmVtZW50cyAmJlxuICAgIHBhcmFtcy50YWdSZWZpbmVtZW50cy5sZW5ndGggPiAwXG4gICkge1xuICAgIHJldHVybiBuZXcgRXJyb3IoXG4gICAgICAnW1RhZ3NdIENhbm5vdCBzd2l0Y2ggZnJvbSB0aGUgbWFuYWdlZCB0YWcgQVBJIHRvIHRoZSBhZHZhbmNlZCBBUEkuIEl0IGlzIHByb2JhYmx5ICcgK1xuICAgICAgICAnYW4gZXJyb3IsIGlmIGl0IGlzIHJlYWxseSB3aGF0IHlvdSB3YW50LCB5b3Ugc2hvdWxkIGZpcnN0IGNsZWFyIHRoZSB0YWdzIHdpdGggY2xlYXJUYWdzIG1ldGhvZC4nXG4gICAgKTtcbiAgfVxuXG4gIGlmIChjdXJyZW50U3RhdGUudGFnUmVmaW5lbWVudHMubGVuZ3RoID4gMCAmJiBwYXJhbXMudGFnRmlsdGVycykge1xuICAgIHJldHVybiBuZXcgRXJyb3IoXG4gICAgICAnW1RhZ3NdIENhbm5vdCBzd2l0Y2ggZnJvbSB0aGUgYWR2YW5jZWQgdGFnIEFQSSB0byB0aGUgbWFuYWdlZCBBUEkuIEl0IGlzIHByb2JhYmx5ICcgK1xuICAgICAgICAnYW4gZXJyb3IsIGlmIGl0IGlzIG5vdCwgeW91IHNob3VsZCBmaXJzdCBjbGVhciB0aGUgdGFncyB3aXRoIGNsZWFyVGFncyBtZXRob2QuJ1xuICAgICk7XG4gIH1cblxuICBpZiAoXG4gICAgY3VycmVudFN0YXRlLm51bWVyaWNGaWx0ZXJzICYmXG4gICAgcGFyYW1zLm51bWVyaWNSZWZpbmVtZW50cyAmJlxuICAgIG9iamVjdEhhc0tleXMocGFyYW1zLm51bWVyaWNSZWZpbmVtZW50cylcbiAgKSB7XG4gICAgcmV0dXJuIG5ldyBFcnJvcihcbiAgICAgIFwiW051bWVyaWMgZmlsdGVyc10gQ2FuJ3Qgc3dpdGNoIGZyb20gdGhlIGFkdmFuY2VkIHRvIHRoZSBtYW5hZ2VkIEFQSS4gSXRcIiArXG4gICAgICAgICcgaXMgcHJvYmFibHkgYW4gZXJyb3IsIGlmIHRoaXMgaXMgcmVhbGx5IHdoYXQgeW91IHdhbnQsIHlvdSBoYXZlIHRvIGZpcnN0JyArXG4gICAgICAgICcgY2xlYXIgdGhlIG51bWVyaWMgZmlsdGVycy4nXG4gICAgKTtcbiAgfVxuXG4gIGlmIChvYmplY3RIYXNLZXlzKGN1cnJlbnRTdGF0ZS5udW1lcmljUmVmaW5lbWVudHMpICYmIHBhcmFtcy5udW1lcmljRmlsdGVycykge1xuICAgIHJldHVybiBuZXcgRXJyb3IoXG4gICAgICBcIltOdW1lcmljIGZpbHRlcnNdIENhbid0IHN3aXRjaCBmcm9tIHRoZSBtYW5hZ2VkIEFQSSB0byB0aGUgYWR2YW5jZWQuIEl0XCIgK1xuICAgICAgICAnIGlzIHByb2JhYmx5IGFuIGVycm9yLCBpZiB0aGlzIGlzIHJlYWxseSB3aGF0IHlvdSB3YW50LCB5b3UgaGF2ZSB0byBmaXJzdCcgK1xuICAgICAgICAnIGNsZWFyIHRoZSBudW1lcmljIGZpbHRlcnMuJ1xuICAgICk7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn07XG5cblNlYXJjaFBhcmFtZXRlcnMucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogU2VhcmNoUGFyYW1ldGVycyxcblxuICAvKipcbiAgICogUmVtb3ZlIGFsbCByZWZpbmVtZW50cyAoZGlzanVuY3RpdmUgKyBjb25qdW5jdGl2ZSArIGV4Y2x1ZGVzICsgbnVtZXJpYyBmaWx0ZXJzKVxuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSB7dW5kZWZpbmVkfHN0cmluZ3xTZWFyY2hQYXJhbWV0ZXJzLmNsZWFyQ2FsbGJhY2t9IFthdHRyaWJ1dGVdIG9wdGlvbmFsIHN0cmluZyBvciBmdW5jdGlvblxuICAgKiAtIElmIG5vdCBnaXZlbiwgbWVhbnMgdG8gY2xlYXIgYWxsIHRoZSBmaWx0ZXJzLlxuICAgKiAtIElmIGBzdHJpbmdgLCBtZWFucyB0byBjbGVhciBhbGwgcmVmaW5lbWVudHMgZm9yIHRoZSBgYXR0cmlidXRlYCBuYW1lZCBmaWx0ZXIuXG4gICAqIC0gSWYgYGZ1bmN0aW9uYCwgbWVhbnMgdG8gY2xlYXIgYWxsIHRoZSByZWZpbmVtZW50cyB0aGF0IHJldHVybiB0cnV0aHkgdmFsdWVzLlxuICAgKiBAcmV0dXJuIHtTZWFyY2hQYXJhbWV0ZXJzfSBuZXcgaW5zdGFuY2Ugd2l0aCBmaWx0ZXJzIGNsZWFyZWRcbiAgICovXG4gIGNsZWFyUmVmaW5lbWVudHM6IGZ1bmN0aW9uIGNsZWFyUmVmaW5lbWVudHMoYXR0cmlidXRlKSB7XG4gICAgdmFyIHBhdGNoID0ge1xuICAgICAgbnVtZXJpY1JlZmluZW1lbnRzOiB0aGlzLl9jbGVhck51bWVyaWNSZWZpbmVtZW50cyhhdHRyaWJ1dGUpLFxuICAgICAgZmFjZXRzUmVmaW5lbWVudHM6IFJlZmluZW1lbnRMaXN0LmNsZWFyUmVmaW5lbWVudChcbiAgICAgICAgdGhpcy5mYWNldHNSZWZpbmVtZW50cyxcbiAgICAgICAgYXR0cmlidXRlLFxuICAgICAgICAnY29uanVuY3RpdmVGYWNldCdcbiAgICAgICksXG4gICAgICBmYWNldHNFeGNsdWRlczogUmVmaW5lbWVudExpc3QuY2xlYXJSZWZpbmVtZW50KFxuICAgICAgICB0aGlzLmZhY2V0c0V4Y2x1ZGVzLFxuICAgICAgICBhdHRyaWJ1dGUsXG4gICAgICAgICdleGNsdWRlJ1xuICAgICAgKSxcbiAgICAgIGRpc2p1bmN0aXZlRmFjZXRzUmVmaW5lbWVudHM6IFJlZmluZW1lbnRMaXN0LmNsZWFyUmVmaW5lbWVudChcbiAgICAgICAgdGhpcy5kaXNqdW5jdGl2ZUZhY2V0c1JlZmluZW1lbnRzLFxuICAgICAgICBhdHRyaWJ1dGUsXG4gICAgICAgICdkaXNqdW5jdGl2ZUZhY2V0J1xuICAgICAgKSxcbiAgICAgIGhpZXJhcmNoaWNhbEZhY2V0c1JlZmluZW1lbnRzOiBSZWZpbmVtZW50TGlzdC5jbGVhclJlZmluZW1lbnQoXG4gICAgICAgIHRoaXMuaGllcmFyY2hpY2FsRmFjZXRzUmVmaW5lbWVudHMsXG4gICAgICAgIGF0dHJpYnV0ZSxcbiAgICAgICAgJ2hpZXJhcmNoaWNhbEZhY2V0J1xuICAgICAgKSxcbiAgICB9O1xuICAgIGlmIChcbiAgICAgIHBhdGNoLm51bWVyaWNSZWZpbmVtZW50cyA9PT0gdGhpcy5udW1lcmljUmVmaW5lbWVudHMgJiZcbiAgICAgIHBhdGNoLmZhY2V0c1JlZmluZW1lbnRzID09PSB0aGlzLmZhY2V0c1JlZmluZW1lbnRzICYmXG4gICAgICBwYXRjaC5mYWNldHNFeGNsdWRlcyA9PT0gdGhpcy5mYWNldHNFeGNsdWRlcyAmJlxuICAgICAgcGF0Y2guZGlzanVuY3RpdmVGYWNldHNSZWZpbmVtZW50cyA9PT1cbiAgICAgICAgdGhpcy5kaXNqdW5jdGl2ZUZhY2V0c1JlZmluZW1lbnRzICYmXG4gICAgICBwYXRjaC5oaWVyYXJjaGljYWxGYWNldHNSZWZpbmVtZW50cyA9PT0gdGhpcy5oaWVyYXJjaGljYWxGYWNldHNSZWZpbmVtZW50c1xuICAgICkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNldFF1ZXJ5UGFyYW1ldGVycyhwYXRjaCk7XG4gIH0sXG4gIC8qKlxuICAgKiBSZW1vdmUgYWxsIHRoZSByZWZpbmVkIHRhZ3MgZnJvbSB0aGUgU2VhcmNoUGFyYW1ldGVyc1xuICAgKiBAbWV0aG9kXG4gICAqIEByZXR1cm4ge1NlYXJjaFBhcmFtZXRlcnN9IG5ldyBpbnN0YW5jZSB3aXRoIHRhZ3MgY2xlYXJlZFxuICAgKi9cbiAgY2xlYXJUYWdzOiBmdW5jdGlvbiBjbGVhclRhZ3MoKSB7XG4gICAgaWYgKHRoaXMudGFnRmlsdGVycyA9PT0gdW5kZWZpbmVkICYmIHRoaXMudGFnUmVmaW5lbWVudHMubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICByZXR1cm4gdGhpcy5zZXRRdWVyeVBhcmFtZXRlcnMoe1xuICAgICAgdGFnRmlsdGVyczogdW5kZWZpbmVkLFxuICAgICAgdGFnUmVmaW5lbWVudHM6IFtdLFxuICAgIH0pO1xuICB9LFxuICAvKipcbiAgICogU2V0IHRoZSBpbmRleC5cbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gaW5kZXggdGhlIGluZGV4IG5hbWVcbiAgICogQHJldHVybiB7U2VhcmNoUGFyYW1ldGVyc30gbmV3IGluc3RhbmNlXG4gICAqL1xuICBzZXRJbmRleDogZnVuY3Rpb24gc2V0SW5kZXgoaW5kZXgpIHtcbiAgICBpZiAoaW5kZXggPT09IHRoaXMuaW5kZXgpIHJldHVybiB0aGlzO1xuXG4gICAgcmV0dXJuIHRoaXMuc2V0UXVlcnlQYXJhbWV0ZXJzKHtcbiAgICAgIGluZGV4OiBpbmRleCxcbiAgICB9KTtcbiAgfSxcbiAgLyoqXG4gICAqIFF1ZXJ5IHNldHRlclxuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZXdRdWVyeSB2YWx1ZSBmb3IgdGhlIG5ldyBxdWVyeVxuICAgKiBAcmV0dXJuIHtTZWFyY2hQYXJhbWV0ZXJzfSBuZXcgaW5zdGFuY2VcbiAgICovXG4gIHNldFF1ZXJ5OiBmdW5jdGlvbiBzZXRRdWVyeShuZXdRdWVyeSkge1xuICAgIGlmIChuZXdRdWVyeSA9PT0gdGhpcy5xdWVyeSkgcmV0dXJuIHRoaXM7XG5cbiAgICByZXR1cm4gdGhpcy5zZXRRdWVyeVBhcmFtZXRlcnMoe1xuICAgICAgcXVlcnk6IG5ld1F1ZXJ5LFxuICAgIH0pO1xuICB9LFxuICAvKipcbiAgICogUGFnZSBzZXR0ZXJcbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0ge251bWJlcn0gbmV3UGFnZSBuZXcgcGFnZSBudW1iZXJcbiAgICogQHJldHVybiB7U2VhcmNoUGFyYW1ldGVyc30gbmV3IGluc3RhbmNlXG4gICAqL1xuICBzZXRQYWdlOiBmdW5jdGlvbiBzZXRQYWdlKG5ld1BhZ2UpIHtcbiAgICBpZiAobmV3UGFnZSA9PT0gdGhpcy5wYWdlKSByZXR1cm4gdGhpcztcblxuICAgIHJldHVybiB0aGlzLnNldFF1ZXJ5UGFyYW1ldGVycyh7XG4gICAgICBwYWdlOiBuZXdQYWdlLFxuICAgIH0pO1xuICB9LFxuICAvKipcbiAgICogRmFjZXRzIHNldHRlclxuICAgKiBUaGUgZmFjZXRzIGFyZSB0aGUgc2ltcGxlIGZhY2V0cywgdXNlZCBmb3IgY29uanVuY3RpdmUgKGFuZCkgZmFjZXRpbmcuXG4gICAqIEBtZXRob2RcbiAgICogQHBhcmFtIHtzdHJpbmdbXX0gZmFjZXRzIGFsbCB0aGUgYXR0cmlidXRlcyBvZiB0aGUgYWxnb2xpYSByZWNvcmRzIHVzZWQgZm9yIGNvbmp1bmN0aXZlIGZhY2V0aW5nXG4gICAqIEByZXR1cm4ge1NlYXJjaFBhcmFtZXRlcnN9IG5ldyBpbnN0YW5jZVxuICAgKi9cbiAgc2V0RmFjZXRzOiBmdW5jdGlvbiBzZXRGYWNldHMoZmFjZXRzKSB7XG4gICAgcmV0dXJuIHRoaXMuc2V0UXVlcnlQYXJhbWV0ZXJzKHtcbiAgICAgIGZhY2V0czogZmFjZXRzLFxuICAgIH0pO1xuICB9LFxuICAvKipcbiAgICogRGlzanVuY3RpdmUgZmFjZXRzIHNldHRlclxuICAgKiBDaGFuZ2UgdGhlIGxpc3Qgb2YgZGlzanVuY3RpdmUgKG9yKSBmYWNldHMgdGhlIGhlbHBlciBjaGFuIGhhbmRsZS5cbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBmYWNldHMgYWxsIHRoZSBhdHRyaWJ1dGVzIG9mIHRoZSBhbGdvbGlhIHJlY29yZHMgdXNlZCBmb3IgZGlzanVuY3RpdmUgZmFjZXRpbmdcbiAgICogQHJldHVybiB7U2VhcmNoUGFyYW1ldGVyc30gbmV3IGluc3RhbmNlXG4gICAqL1xuICBzZXREaXNqdW5jdGl2ZUZhY2V0czogZnVuY3Rpb24gc2V0RGlzanVuY3RpdmVGYWNldHMoZmFjZXRzKSB7XG4gICAgcmV0dXJuIHRoaXMuc2V0UXVlcnlQYXJhbWV0ZXJzKHtcbiAgICAgIGRpc2p1bmN0aXZlRmFjZXRzOiBmYWNldHMsXG4gICAgfSk7XG4gIH0sXG4gIC8qKlxuICAgKiBIaXRzUGVyUGFnZSBzZXR0ZXJcbiAgICogSGl0cyBwZXIgcGFnZSByZXByZXNlbnRzIHRoZSBudW1iZXIgb2YgaGl0cyByZXRyaWV2ZWQgZm9yIHRoaXMgcXVlcnlcbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0ge251bWJlcn0gbiBudW1iZXIgb2YgaGl0cyByZXRyaWV2ZWQgcGVyIHBhZ2Ugb2YgcmVzdWx0c1xuICAgKiBAcmV0dXJuIHtTZWFyY2hQYXJhbWV0ZXJzfSBuZXcgaW5zdGFuY2VcbiAgICovXG4gIHNldEhpdHNQZXJQYWdlOiBmdW5jdGlvbiBzZXRIaXRzUGVyUGFnZShuKSB7XG4gICAgaWYgKHRoaXMuaGl0c1BlclBhZ2UgPT09IG4pIHJldHVybiB0aGlzO1xuXG4gICAgcmV0dXJuIHRoaXMuc2V0UXVlcnlQYXJhbWV0ZXJzKHtcbiAgICAgIGhpdHNQZXJQYWdlOiBuLFxuICAgIH0pO1xuICB9LFxuICAvKipcbiAgICogdHlwb1RvbGVyYW5jZSBzZXR0ZXJcbiAgICogU2V0IHRoZSB2YWx1ZSBvZiB0eXBvVG9sZXJhbmNlXG4gICAqIEBtZXRob2RcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cG9Ub2xlcmFuY2UgbmV3IHZhbHVlIG9mIHR5cG9Ub2xlcmFuY2UgKFwidHJ1ZVwiLCBcImZhbHNlXCIsIFwibWluXCIgb3IgXCJzdHJpY3RcIilcbiAgICogQHJldHVybiB7U2VhcmNoUGFyYW1ldGVyc30gbmV3IGluc3RhbmNlXG4gICAqL1xuICBzZXRUeXBvVG9sZXJhbmNlOiBmdW5jdGlvbiBzZXRUeXBvVG9sZXJhbmNlKHR5cG9Ub2xlcmFuY2UpIHtcbiAgICBpZiAodGhpcy50eXBvVG9sZXJhbmNlID09PSB0eXBvVG9sZXJhbmNlKSByZXR1cm4gdGhpcztcblxuICAgIHJldHVybiB0aGlzLnNldFF1ZXJ5UGFyYW1ldGVycyh7XG4gICAgICB0eXBvVG9sZXJhbmNlOiB0eXBvVG9sZXJhbmNlLFxuICAgIH0pO1xuICB9LFxuICAvKipcbiAgICogQWRkIGEgbnVtZXJpYyBmaWx0ZXIgZm9yIGEgZ2l2ZW4gYXR0cmlidXRlXG4gICAqIFdoZW4gdmFsdWUgaXMgYW4gYXJyYXksIHRoZXkgYXJlIGNvbWJpbmVkIHdpdGggT1JcbiAgICogV2hlbiB2YWx1ZSBpcyBhIHNpbmdsZSB2YWx1ZSwgaXQgd2lsbCBjb21iaW5lZCB3aXRoIEFORFxuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGUgYXR0cmlidXRlIHRvIHNldCB0aGUgZmlsdGVyIG9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcGVyYXRvciBvcGVyYXRvciBvZiB0aGUgZmlsdGVyIChwb3NzaWJsZSB2YWx1ZXM6ID0sID4sID49LCA8LCA8PSwgIT0pXG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgbnVtYmVyW119IHZhbHVlIHZhbHVlIG9mIHRoZSBmaWx0ZXJcbiAgICogQHJldHVybiB7U2VhcmNoUGFyYW1ldGVyc30gbmV3IGluc3RhbmNlXG4gICAqIEBleGFtcGxlXG4gICAqIC8vIGZvciBwcmljZSA9IDUwIG9yIDQwXG4gICAqIHN0YXRlLmFkZE51bWVyaWNSZWZpbmVtZW50KCdwcmljZScsICc9JywgWzUwLCA0MF0pO1xuICAgKiBAZXhhbXBsZVxuICAgKiAvLyBmb3Igc2l6ZSA9IDM4IGFuZCA0MFxuICAgKiBzdGF0ZS5hZGROdW1lcmljUmVmaW5lbWVudCgnc2l6ZScsICc9JywgMzgpO1xuICAgKiBzdGF0ZS5hZGROdW1lcmljUmVmaW5lbWVudCgnc2l6ZScsICc9JywgNDApO1xuICAgKi9cbiAgYWRkTnVtZXJpY1JlZmluZW1lbnQ6IGZ1bmN0aW9uIChhdHRyaWJ1dGUsIG9wZXJhdG9yLCB2YWx1ZSkge1xuICAgIHZhciB2YWwgPSB2YWxUb051bWJlcih2YWx1ZSk7XG5cbiAgICBpZiAodGhpcy5pc051bWVyaWNSZWZpbmVkKGF0dHJpYnV0ZSwgb3BlcmF0b3IsIHZhbCkpIHJldHVybiB0aGlzO1xuXG4gICAgdmFyIG1vZCA9IG1lcmdlKHt9LCB0aGlzLm51bWVyaWNSZWZpbmVtZW50cyk7XG5cbiAgICBtb2RbYXR0cmlidXRlXSA9IG1lcmdlKHt9LCBtb2RbYXR0cmlidXRlXSk7XG5cbiAgICBpZiAobW9kW2F0dHJpYnV0ZV1bb3BlcmF0b3JdKSB7XG4gICAgICAvLyBBcnJheSBjb3B5XG4gICAgICBtb2RbYXR0cmlidXRlXVtvcGVyYXRvcl0gPSBtb2RbYXR0cmlidXRlXVtvcGVyYXRvcl0uc2xpY2UoKTtcbiAgICAgIC8vIEFkZCB0aGUgZWxlbWVudC4gQ29uY2F0IGNhbid0IGJlIHVzZWQgaGVyZSBiZWNhdXNlIHZhbHVlIGNhbiBiZSBhbiBhcnJheS5cbiAgICAgIG1vZFthdHRyaWJ1dGVdW29wZXJhdG9yXS5wdXNoKHZhbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1vZFthdHRyaWJ1dGVdW29wZXJhdG9yXSA9IFt2YWxdO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnNldFF1ZXJ5UGFyYW1ldGVycyh7XG4gICAgICBudW1lcmljUmVmaW5lbWVudHM6IG1vZCxcbiAgICB9KTtcbiAgfSxcbiAgLyoqXG4gICAqIEdldCB0aGUgbGlzdCBvZiBjb25qdW5jdGl2ZSByZWZpbmVtZW50cyBmb3IgYSBzaW5nbGUgZmFjZXRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhY2V0TmFtZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgdXNlZCBmb3IgZmFjZXRpbmdcbiAgICogQHJldHVybiB7c3RyaW5nW119IGxpc3Qgb2YgcmVmaW5lbWVudHNcbiAgICovXG4gIGdldENvbmp1bmN0aXZlUmVmaW5lbWVudHM6IGZ1bmN0aW9uIChmYWNldE5hbWUpIHtcbiAgICBpZiAoIXRoaXMuaXNDb25qdW5jdGl2ZUZhY2V0KGZhY2V0TmFtZSkpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZmFjZXRzUmVmaW5lbWVudHNbZmFjZXROYW1lXSB8fCBbXTtcbiAgfSxcbiAgLyoqXG4gICAqIEdldCB0aGUgbGlzdCBvZiBkaXNqdW5jdGl2ZSByZWZpbmVtZW50cyBmb3IgYSBzaW5nbGUgZmFjZXRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhY2V0TmFtZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgdXNlZCBmb3IgZmFjZXRpbmdcbiAgICogQHJldHVybiB7c3RyaW5nW119IGxpc3Qgb2YgcmVmaW5lbWVudHNcbiAgICovXG4gIGdldERpc2p1bmN0aXZlUmVmaW5lbWVudHM6IGZ1bmN0aW9uIChmYWNldE5hbWUpIHtcbiAgICBpZiAoIXRoaXMuaXNEaXNqdW5jdGl2ZUZhY2V0KGZhY2V0TmFtZSkpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZGlzanVuY3RpdmVGYWNldHNSZWZpbmVtZW50c1tmYWNldE5hbWVdIHx8IFtdO1xuICB9LFxuICAvKipcbiAgICogR2V0IHRoZSBsaXN0IG9mIGhpZXJhcmNoaWNhbCByZWZpbmVtZW50cyBmb3IgYSBzaW5nbGUgZmFjZXRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhY2V0TmFtZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgdXNlZCBmb3IgZmFjZXRpbmdcbiAgICogQHJldHVybiB7c3RyaW5nW119IGxpc3Qgb2YgcmVmaW5lbWVudHNcbiAgICovXG4gIGdldEhpZXJhcmNoaWNhbFJlZmluZW1lbnQ6IGZ1bmN0aW9uIChmYWNldE5hbWUpIHtcbiAgICAvLyB3ZSBzZW5kIGFuIGFycmF5IGJ1dCB3ZSBjdXJyZW50bHkgZG8gbm90IHN1cHBvcnQgbXVsdGlwbGVcbiAgICAvLyBoaWVyYXJjaGljYWxSZWZpbmVtZW50cyBmb3IgYSBoaWVyYXJjaGljYWxGYWNldFxuICAgIHJldHVybiB0aGlzLmhpZXJhcmNoaWNhbEZhY2V0c1JlZmluZW1lbnRzW2ZhY2V0TmFtZV0gfHwgW107XG4gIH0sXG4gIC8qKlxuICAgKiBHZXQgdGhlIGxpc3Qgb2YgZXhjbHVkZSByZWZpbmVtZW50cyBmb3IgYSBzaW5nbGUgZmFjZXRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhY2V0TmFtZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgdXNlZCBmb3IgZmFjZXRpbmdcbiAgICogQHJldHVybiB7c3RyaW5nW119IGxpc3Qgb2YgcmVmaW5lbWVudHNcbiAgICovXG4gIGdldEV4Y2x1ZGVSZWZpbmVtZW50czogZnVuY3Rpb24gKGZhY2V0TmFtZSkge1xuICAgIGlmICghdGhpcy5pc0Nvbmp1bmN0aXZlRmFjZXQoZmFjZXROYW1lKSkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5mYWNldHNFeGNsdWRlc1tmYWNldE5hbWVdIHx8IFtdO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYWxsIHRoZSBudW1lcmljIGZpbHRlciBmb3IgYSBnaXZlbiAoYXR0cmlidXRlLCBvcGVyYXRvcilcbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlIGF0dHJpYnV0ZSB0byBzZXQgdGhlIGZpbHRlciBvblxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wZXJhdG9yXSBvcGVyYXRvciBvZiB0aGUgZmlsdGVyIChwb3NzaWJsZSB2YWx1ZXM6ID0sID4sID49LCA8LCA8PSwgIT0pXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbbnVtYmVyXSB0aGUgdmFsdWUgdG8gYmUgcmVtb3ZlZFxuICAgKiBAcmV0dXJuIHtTZWFyY2hQYXJhbWV0ZXJzfSBuZXcgaW5zdGFuY2VcbiAgICovXG4gIHJlbW92ZU51bWVyaWNSZWZpbmVtZW50OiBmdW5jdGlvbiAoYXR0cmlidXRlLCBvcGVyYXRvciwgbnVtYmVyKSB7XG4gICAgdmFyIHBhcmFtVmFsdWUgPSBudW1iZXI7XG4gICAgaWYgKHBhcmFtVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKCF0aGlzLmlzTnVtZXJpY1JlZmluZWQoYXR0cmlidXRlLCBvcGVyYXRvciwgcGFyYW1WYWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5zZXRRdWVyeVBhcmFtZXRlcnMoe1xuICAgICAgICBudW1lcmljUmVmaW5lbWVudHM6IHRoaXMuX2NsZWFyTnVtZXJpY1JlZmluZW1lbnRzKGZ1bmN0aW9uIChcbiAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICBrZXlcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGtleSA9PT0gYXR0cmlidXRlICYmXG4gICAgICAgICAgICB2YWx1ZS5vcCA9PT0gb3BlcmF0b3IgJiZcbiAgICAgICAgICAgIGlzRXF1YWxOdW1lcmljUmVmaW5lbWVudCh2YWx1ZS52YWwsIHZhbFRvTnVtYmVyKHBhcmFtVmFsdWUpKVxuICAgICAgICAgICk7XG4gICAgICAgIH0pLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoIXRoaXMuaXNOdW1lcmljUmVmaW5lZChhdHRyaWJ1dGUsIG9wZXJhdG9yKSkgcmV0dXJuIHRoaXM7XG4gICAgICByZXR1cm4gdGhpcy5zZXRRdWVyeVBhcmFtZXRlcnMoe1xuICAgICAgICBudW1lcmljUmVmaW5lbWVudHM6IHRoaXMuX2NsZWFyTnVtZXJpY1JlZmluZW1lbnRzKGZ1bmN0aW9uIChcbiAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICBrZXlcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIGtleSA9PT0gYXR0cmlidXRlICYmIHZhbHVlLm9wID09PSBvcGVyYXRvcjtcbiAgICAgICAgfSksXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaXNOdW1lcmljUmVmaW5lZChhdHRyaWJ1dGUpKSByZXR1cm4gdGhpcztcbiAgICByZXR1cm4gdGhpcy5zZXRRdWVyeVBhcmFtZXRlcnMoe1xuICAgICAgbnVtZXJpY1JlZmluZW1lbnRzOiB0aGlzLl9jbGVhck51bWVyaWNSZWZpbmVtZW50cyhmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgICByZXR1cm4ga2V5ID09PSBhdHRyaWJ1dGU7XG4gICAgICB9KSxcbiAgICB9KTtcbiAgfSxcbiAgLyoqXG4gICAqIEdldCB0aGUgbGlzdCBvZiBudW1lcmljIHJlZmluZW1lbnRzIGZvciBhIHNpbmdsZSBmYWNldFxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFjZXROYW1lIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB1c2VkIGZvciBmYWNldGluZ1xuICAgKiBAcmV0dXJuIHtTZWFyY2hQYXJhbWV0ZXJzLk9wZXJhdG9yTGlzdH0gbGlzdCBvZiByZWZpbmVtZW50c1xuICAgKi9cbiAgZ2V0TnVtZXJpY1JlZmluZW1lbnRzOiBmdW5jdGlvbiAoZmFjZXROYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMubnVtZXJpY1JlZmluZW1lbnRzW2ZhY2V0TmFtZV0gfHwge307XG4gIH0sXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGN1cnJlbnQgcmVmaW5lbWVudCBmb3IgdGhlIChhdHRyaWJ1dGUsIG9wZXJhdG9yKVxuICAgKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlIGF0dHJpYnV0ZSBpbiB0aGUgcmVjb3JkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcGVyYXRvciBvcGVyYXRvciBhcHBsaWVkIG9uIHRoZSByZWZpbmVkIHZhbHVlc1xuICAgKiBAcmV0dXJuIHtBcnJheS48bnVtYmVyfG51bWJlcltdPn0gcmVmaW5lZCB2YWx1ZXNcbiAgICovXG4gIGdldE51bWVyaWNSZWZpbmVtZW50OiBmdW5jdGlvbiAoYXR0cmlidXRlLCBvcGVyYXRvcikge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLm51bWVyaWNSZWZpbmVtZW50c1thdHRyaWJ1dGVdICYmXG4gICAgICB0aGlzLm51bWVyaWNSZWZpbmVtZW50c1thdHRyaWJ1dGVdW29wZXJhdG9yXVxuICAgICk7XG4gIH0sXG4gIC8qKlxuICAgKiBDbGVhciBudW1lcmljIGZpbHRlcnMuXG4gICAqIEBtZXRob2RcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd8U2VhcmNoUGFyYW1ldGVycy5jbGVhckNhbGxiYWNrfSBbYXR0cmlidXRlXSBvcHRpb25hbCBzdHJpbmcgb3IgZnVuY3Rpb25cbiAgICogLSBJZiBub3QgZ2l2ZW4sIG1lYW5zIHRvIGNsZWFyIGFsbCB0aGUgZmlsdGVycy5cbiAgICogLSBJZiBgc3RyaW5nYCwgbWVhbnMgdG8gY2xlYXIgYWxsIHJlZmluZW1lbnRzIGZvciB0aGUgYGF0dHJpYnV0ZWAgbmFtZWQgZmlsdGVyLlxuICAgKiAtIElmIGBmdW5jdGlvbmAsIG1lYW5zIHRvIGNsZWFyIGFsbCB0aGUgcmVmaW5lbWVudHMgdGhhdCByZXR1cm4gdHJ1dGh5IHZhbHVlcy5cbiAgICogQHJldHVybiB7T2JqZWN0LjxzdHJpbmcsIE9wZXJhdG9yTGlzdD59IG5ldyBudW1lcmljIHJlZmluZW1lbnRzXG4gICAqL1xuICBfY2xlYXJOdW1lcmljUmVmaW5lbWVudHM6IGZ1bmN0aW9uIF9jbGVhck51bWVyaWNSZWZpbmVtZW50cyhhdHRyaWJ1dGUpIHtcbiAgICBpZiAoYXR0cmlidXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmICghb2JqZWN0SGFzS2V5cyh0aGlzLm51bWVyaWNSZWZpbmVtZW50cykpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubnVtZXJpY1JlZmluZW1lbnRzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHt9O1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGF0dHJpYnV0ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBvbWl0KHRoaXMubnVtZXJpY1JlZmluZW1lbnRzLCBbYXR0cmlidXRlXSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgYXR0cmlidXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB2YXIgaGFzQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgdmFyIG51bWVyaWNSZWZpbmVtZW50cyA9IHRoaXMubnVtZXJpY1JlZmluZW1lbnRzO1xuICAgICAgdmFyIG5ld051bWVyaWNSZWZpbmVtZW50cyA9IE9iamVjdC5rZXlzKG51bWVyaWNSZWZpbmVtZW50cykucmVkdWNlKFxuICAgICAgICBmdW5jdGlvbiAobWVtbywga2V5KSB7XG4gICAgICAgICAgdmFyIG9wZXJhdG9ycyA9IG51bWVyaWNSZWZpbmVtZW50c1trZXldO1xuICAgICAgICAgIHZhciBvcGVyYXRvckxpc3QgPSB7fTtcblxuICAgICAgICAgIG9wZXJhdG9ycyA9IG9wZXJhdG9ycyB8fCB7fTtcbiAgICAgICAgICBPYmplY3Qua2V5cyhvcGVyYXRvcnMpLmZvckVhY2goZnVuY3Rpb24gKG9wZXJhdG9yKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWVzID0gb3BlcmF0b3JzW29wZXJhdG9yXSB8fCBbXTtcbiAgICAgICAgICAgIHZhciBvdXRWYWx1ZXMgPSBbXTtcbiAgICAgICAgICAgIHZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICB2YXIgcHJlZGljYXRlUmVzdWx0ID0gYXR0cmlidXRlKFxuICAgICAgICAgICAgICAgIHsgdmFsOiB2YWx1ZSwgb3A6IG9wZXJhdG9yIH0sXG4gICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICdudW1lcmljJ1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBpZiAoIXByZWRpY2F0ZVJlc3VsdCkgb3V0VmFsdWVzLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAob3V0VmFsdWVzLmxlbmd0aCAhPT0gdmFsdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICBoYXNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wZXJhdG9yTGlzdFtvcGVyYXRvcl0gPSBvdXRWYWx1ZXM7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBtZW1vW2tleV0gPSBvcGVyYXRvckxpc3Q7XG5cbiAgICAgICAgICByZXR1cm4gbWVtbztcbiAgICAgICAgfSxcbiAgICAgICAge31cbiAgICAgICk7XG5cbiAgICAgIGlmIChoYXNDaGFuZ2VkKSByZXR1cm4gbmV3TnVtZXJpY1JlZmluZW1lbnRzO1xuICAgICAgcmV0dXJuIHRoaXMubnVtZXJpY1JlZmluZW1lbnRzO1xuICAgIH1cblxuICAgIC8vIFdlIHJldHVybiBub3RoaW5nIGlmIHRoZSBhdHRyaWJ1dGUgaXMgbm90IHVuZGVmaW5lZCwgYSBzdHJpbmcgb3IgYSBmdW5jdGlvbixcbiAgICAvLyBhcyBpdCBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3IgYSByZWZpbmVtZW50XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSxcbiAgLyoqXG4gICAqIEFkZCBhIGZhY2V0IHRvIHRoZSBmYWNldHMgYXR0cmlidXRlIG9mIHRoZSBoZWxwZXIgY29uZmlndXJhdGlvbiwgaWYgaXRcbiAgICogaXNuJ3QgYWxyZWFkeSBwcmVzZW50LlxuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWNldCBmYWNldCBuYW1lIHRvIGFkZFxuICAgKiBAcmV0dXJuIHtTZWFyY2hQYXJhbWV0ZXJzfSBuZXcgaW5zdGFuY2VcbiAgICovXG4gIGFkZEZhY2V0OiBmdW5jdGlvbiBhZGRGYWNldChmYWNldCkge1xuICAgIGlmICh0aGlzLmlzQ29uanVuY3RpdmVGYWNldChmYWNldCkpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnNldFF1ZXJ5UGFyYW1ldGVycyh7XG4gICAgICBmYWNldHM6IHRoaXMuZmFjZXRzLmNvbmNhdChbZmFjZXRdKSxcbiAgICB9KTtcbiAgfSxcbiAgLyoqXG4gICAqIEFkZCBhIGRpc2p1bmN0aXZlIGZhY2V0IHRvIHRoZSBkaXNqdW5jdGl2ZUZhY2V0cyBhdHRyaWJ1dGUgb2YgdGhlIGhlbHBlclxuICAgKiBjb25maWd1cmF0aW9uLCBpZiBpdCBpc24ndCBhbHJlYWR5IHByZXNlbnQuXG4gICAqIEBtZXRob2RcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhY2V0IGRpc2p1bmN0aXZlIGZhY2V0IG5hbWUgdG8gYWRkXG4gICAqIEByZXR1cm4ge1NlYXJjaFBhcmFtZXRlcnN9IG5ldyBpbnN0YW5jZVxuICAgKi9cbiAgYWRkRGlzanVuY3RpdmVGYWNldDogZnVuY3Rpb24gYWRkRGlzanVuY3RpdmVGYWNldChmYWNldCkge1xuICAgIGlmICh0aGlzLmlzRGlzanVuY3RpdmVGYWNldChmYWNldCkpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnNldFF1ZXJ5UGFyYW1ldGVycyh7XG4gICAgICBkaXNqdW5jdGl2ZUZhY2V0czogdGhpcy5kaXNqdW5jdGl2ZUZhY2V0cy5jb25jYXQoW2ZhY2V0XSksXG4gICAgfSk7XG4gIH0sXG4gIC8qKlxuICAgKiBBZGQgYSBoaWVyYXJjaGljYWwgZmFjZXQgdG8gdGhlIGhpZXJhcmNoaWNhbEZhY2V0cyBhdHRyaWJ1dGUgb2YgdGhlIGhlbHBlclxuICAgKiBjb25maWd1cmF0aW9uLlxuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBoaWVyYXJjaGljYWxGYWNldCBoaWVyYXJjaGljYWwgZmFjZXQgdG8gYWRkXG4gICAqIEByZXR1cm4ge1NlYXJjaFBhcmFtZXRlcnN9IG5ldyBpbnN0YW5jZVxuICAgKiBAdGhyb3dzIHdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgYSBoaWVyYXJjaGljYWwgZmFjZXQgd2l0aCB0aGUgc2FtZSBuYW1lIHdhcyBhbHJlYWR5IGRlY2xhcmVkXG4gICAqL1xuICBhZGRIaWVyYXJjaGljYWxGYWNldDogZnVuY3Rpb24gYWRkSGllcmFyY2hpY2FsRmFjZXQoaGllcmFyY2hpY2FsRmFjZXQpIHtcbiAgICBpZiAodGhpcy5pc0hpZXJhcmNoaWNhbEZhY2V0KGhpZXJhcmNoaWNhbEZhY2V0Lm5hbWUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdDYW5ub3QgZGVjbGFyZSB0d28gaGllcmFyY2hpY2FsIGZhY2V0cyB3aXRoIHRoZSBzYW1lIG5hbWU6IGAnICtcbiAgICAgICAgICBoaWVyYXJjaGljYWxGYWNldC5uYW1lICtcbiAgICAgICAgICAnYCdcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc2V0UXVlcnlQYXJhbWV0ZXJzKHtcbiAgICAgIGhpZXJhcmNoaWNhbEZhY2V0czogdGhpcy5oaWVyYXJjaGljYWxGYWNldHMuY29uY2F0KFtoaWVyYXJjaGljYWxGYWNldF0pLFxuICAgIH0pO1xuICB9LFxuICAvKipcbiAgICogQWRkIGEgcmVmaW5lbWVudCBvbiBhIFwibm9ybWFsXCIgZmFjZXRcbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFjZXQgYXR0cmlidXRlIHRvIGFwcGx5IHRoZSBmYWNldGluZyBvblxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgdmFsdWUgb2YgdGhlIGF0dHJpYnV0ZSAod2lsbCBiZSBjb252ZXJ0ZWQgdG8gc3RyaW5nKVxuICAgKiBAcmV0dXJuIHtTZWFyY2hQYXJhbWV0ZXJzfSBuZXcgaW5zdGFuY2VcbiAgICovXG4gIGFkZEZhY2V0UmVmaW5lbWVudDogZnVuY3Rpb24gYWRkRmFjZXRSZWZpbmVtZW50KGZhY2V0LCB2YWx1ZSkge1xuICAgIGlmICghdGhpcy5pc0Nvbmp1bmN0aXZlRmFjZXQoZmFjZXQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGZhY2V0ICtcbiAgICAgICAgICAnIGlzIG5vdCBkZWZpbmVkIGluIHRoZSBmYWNldHMgYXR0cmlidXRlIG9mIHRoZSBoZWxwZXIgY29uZmlndXJhdGlvbidcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChSZWZpbmVtZW50TGlzdC5pc1JlZmluZWQodGhpcy5mYWNldHNSZWZpbmVtZW50cywgZmFjZXQsIHZhbHVlKSlcbiAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgcmV0dXJuIHRoaXMuc2V0UXVlcnlQYXJhbWV0ZXJzKHtcbiAgICAgIGZhY2V0c1JlZmluZW1lbnRzOiBSZWZpbmVtZW50TGlzdC5hZGRSZWZpbmVtZW50KFxuICAgICAgICB0aGlzLmZhY2V0c1JlZmluZW1lbnRzLFxuICAgICAgICBmYWNldCxcbiAgICAgICAgdmFsdWVcbiAgICAgICksXG4gICAgfSk7XG4gIH0sXG4gIC8qKlxuICAgKiBFeGNsdWRlIGEgdmFsdWUgZnJvbSBhIFwibm9ybWFsXCIgZmFjZXRcbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFjZXQgYXR0cmlidXRlIHRvIGFwcGx5IHRoZSBleGNsdXNpb24gb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIHZhbHVlIG9mIHRoZSBhdHRyaWJ1dGUgKHdpbGwgYmUgY29udmVydGVkIHRvIHN0cmluZylcbiAgICogQHJldHVybiB7U2VhcmNoUGFyYW1ldGVyc30gbmV3IGluc3RhbmNlXG4gICAqL1xuICBhZGRFeGNsdWRlUmVmaW5lbWVudDogZnVuY3Rpb24gYWRkRXhjbHVkZVJlZmluZW1lbnQoZmFjZXQsIHZhbHVlKSB7XG4gICAgaWYgKCF0aGlzLmlzQ29uanVuY3RpdmVGYWNldChmYWNldCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgZmFjZXQgK1xuICAgICAgICAgICcgaXMgbm90IGRlZmluZWQgaW4gdGhlIGZhY2V0cyBhdHRyaWJ1dGUgb2YgdGhlIGhlbHBlciBjb25maWd1cmF0aW9uJ1xuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKFJlZmluZW1lbnRMaXN0LmlzUmVmaW5lZCh0aGlzLmZhY2V0c0V4Y2x1ZGVzLCBmYWNldCwgdmFsdWUpKVxuICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICByZXR1cm4gdGhpcy5zZXRRdWVyeVBhcmFtZXRlcnMoe1xuICAgICAgZmFjZXRzRXhjbHVkZXM6IFJlZmluZW1lbnRMaXN0LmFkZFJlZmluZW1lbnQoXG4gICAgICAgIHRoaXMuZmFjZXRzRXhjbHVkZXMsXG4gICAgICAgIGZhY2V0LFxuICAgICAgICB2YWx1ZVxuICAgICAgKSxcbiAgICB9KTtcbiAgfSxcbiAgLyoqXG4gICAqIEFkZHMgYSByZWZpbmVtZW50IG9uIGEgZGlzanVuY3RpdmUgZmFjZXQuXG4gICAqIEBtZXRob2RcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhY2V0IGF0dHJpYnV0ZSB0byBhcHBseSB0aGUgZmFjZXRpbmcgb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIHZhbHVlIG9mIHRoZSBhdHRyaWJ1dGUgKHdpbGwgYmUgY29udmVydGVkIHRvIHN0cmluZylcbiAgICogQHJldHVybiB7U2VhcmNoUGFyYW1ldGVyc30gbmV3IGluc3RhbmNlXG4gICAqL1xuICBhZGREaXNqdW5jdGl2ZUZhY2V0UmVmaW5lbWVudDogZnVuY3Rpb24gYWRkRGlzanVuY3RpdmVGYWNldFJlZmluZW1lbnQoXG4gICAgZmFjZXQsXG4gICAgdmFsdWVcbiAgKSB7XG4gICAgaWYgKCF0aGlzLmlzRGlzanVuY3RpdmVGYWNldChmYWNldCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgZmFjZXQgK1xuICAgICAgICAgICcgaXMgbm90IGRlZmluZWQgaW4gdGhlIGRpc2p1bmN0aXZlRmFjZXRzIGF0dHJpYnV0ZSBvZiB0aGUgaGVscGVyIGNvbmZpZ3VyYXRpb24nXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIFJlZmluZW1lbnRMaXN0LmlzUmVmaW5lZCh0aGlzLmRpc2p1bmN0aXZlRmFjZXRzUmVmaW5lbWVudHMsIGZhY2V0LCB2YWx1ZSlcbiAgICApXG4gICAgICByZXR1cm4gdGhpcztcblxuICAgIHJldHVybiB0aGlzLnNldFF1ZXJ5UGFyYW1ldGVycyh7XG4gICAgICBkaXNqdW5jdGl2ZUZhY2V0c1JlZmluZW1lbnRzOiBSZWZpbmVtZW50TGlzdC5hZGRSZWZpbmVtZW50KFxuICAgICAgICB0aGlzLmRpc2p1bmN0aXZlRmFjZXRzUmVmaW5lbWVudHMsXG4gICAgICAgIGZhY2V0LFxuICAgICAgICB2YWx1ZVxuICAgICAgKSxcbiAgICB9KTtcbiAgfSxcbiAgLyoqXG4gICAqIGFkZFRhZ1JlZmluZW1lbnQgYWRkcyBhIHRhZyB0byB0aGUgbGlzdCB1c2VkIHRvIGZpbHRlciB0aGUgcmVzdWx0c1xuICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnIHRhZyB0byBiZSBhZGRlZFxuICAgKiBAcmV0dXJuIHtTZWFyY2hQYXJhbWV0ZXJzfSBuZXcgaW5zdGFuY2VcbiAgICovXG4gIGFkZFRhZ1JlZmluZW1lbnQ6IGZ1bmN0aW9uIGFkZFRhZ1JlZmluZW1lbnQodGFnKSB7XG4gICAgaWYgKHRoaXMuaXNUYWdSZWZpbmVkKHRhZykpIHJldHVybiB0aGlzO1xuXG4gICAgdmFyIG1vZGlmaWNhdGlvbiA9IHtcbiAgICAgIHRhZ1JlZmluZW1lbnRzOiB0aGlzLnRhZ1JlZmluZW1lbnRzLmNvbmNhdCh0YWcpLFxuICAgIH07XG5cbiAgICByZXR1cm4gdGhpcy5zZXRRdWVyeVBhcmFtZXRlcnMobW9kaWZpY2F0aW9uKTtcbiAgfSxcbiAgLyoqXG4gICAqIFJlbW92ZSBhIGZhY2V0IGZyb20gdGhlIGZhY2V0cyBhdHRyaWJ1dGUgb2YgdGhlIGhlbHBlciBjb25maWd1cmF0aW9uLCBpZiBpdFxuICAgKiBpcyBwcmVzZW50LlxuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWNldCBmYWNldCBuYW1lIHRvIHJlbW92ZVxuICAgKiBAcmV0dXJuIHtTZWFyY2hQYXJhbWV0ZXJzfSBuZXcgaW5zdGFuY2VcbiAgICovXG4gIHJlbW92ZUZhY2V0OiBmdW5jdGlvbiByZW1vdmVGYWNldChmYWNldCkge1xuICAgIGlmICghdGhpcy5pc0Nvbmp1bmN0aXZlRmFjZXQoZmFjZXQpKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5jbGVhclJlZmluZW1lbnRzKGZhY2V0KS5zZXRRdWVyeVBhcmFtZXRlcnMoe1xuICAgICAgZmFjZXRzOiB0aGlzLmZhY2V0cy5maWx0ZXIoZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgcmV0dXJuIGYgIT09IGZhY2V0O1xuICAgICAgfSksXG4gICAgfSk7XG4gIH0sXG4gIC8qKlxuICAgKiBSZW1vdmUgYSBkaXNqdW5jdGl2ZSBmYWNldCBmcm9tIHRoZSBkaXNqdW5jdGl2ZUZhY2V0cyBhdHRyaWJ1dGUgb2YgdGhlXG4gICAqIGhlbHBlciBjb25maWd1cmF0aW9uLCBpZiBpdCBpcyBwcmVzZW50LlxuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWNldCBkaXNqdW5jdGl2ZSBmYWNldCBuYW1lIHRvIHJlbW92ZVxuICAgKiBAcmV0dXJuIHtTZWFyY2hQYXJhbWV0ZXJzfSBuZXcgaW5zdGFuY2VcbiAgICovXG4gIHJlbW92ZURpc2p1bmN0aXZlRmFjZXQ6IGZ1bmN0aW9uIHJlbW92ZURpc2p1bmN0aXZlRmFjZXQoZmFjZXQpIHtcbiAgICBpZiAoIXRoaXMuaXNEaXNqdW5jdGl2ZUZhY2V0KGZhY2V0KSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY2xlYXJSZWZpbmVtZW50cyhmYWNldCkuc2V0UXVlcnlQYXJhbWV0ZXJzKHtcbiAgICAgIGRpc2p1bmN0aXZlRmFjZXRzOiB0aGlzLmRpc2p1bmN0aXZlRmFjZXRzLmZpbHRlcihmdW5jdGlvbiAoZikge1xuICAgICAgICByZXR1cm4gZiAhPT0gZmFjZXQ7XG4gICAgICB9KSxcbiAgICB9KTtcbiAgfSxcbiAgLyoqXG4gICAqIFJlbW92ZSBhIGhpZXJhcmNoaWNhbCBmYWNldCBmcm9tIHRoZSBoaWVyYXJjaGljYWxGYWNldHMgYXR0cmlidXRlIG9mIHRoZVxuICAgKiBoZWxwZXIgY29uZmlndXJhdGlvbiwgaWYgaXQgaXMgcHJlc2VudC5cbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFjZXQgaGllcmFyY2hpY2FsIGZhY2V0IG5hbWUgdG8gcmVtb3ZlXG4gICAqIEByZXR1cm4ge1NlYXJjaFBhcmFtZXRlcnN9IG5ldyBpbnN0YW5jZVxuICAgKi9cbiAgcmVtb3ZlSGllcmFyY2hpY2FsRmFjZXQ6IGZ1bmN0aW9uIHJlbW92ZUhpZXJhcmNoaWNhbEZhY2V0KGZhY2V0KSB7XG4gICAgaWYgKCF0aGlzLmlzSGllcmFyY2hpY2FsRmFjZXQoZmFjZXQpKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5jbGVhclJlZmluZW1lbnRzKGZhY2V0KS5zZXRRdWVyeVBhcmFtZXRlcnMoe1xuICAgICAgaGllcmFyY2hpY2FsRmFjZXRzOiB0aGlzLmhpZXJhcmNoaWNhbEZhY2V0cy5maWx0ZXIoZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgcmV0dXJuIGYubmFtZSAhPT0gZmFjZXQ7XG4gICAgICB9KSxcbiAgICB9KTtcbiAgfSxcbiAgLyoqXG4gICAqIFJlbW92ZSBhIHJlZmluZW1lbnQgc2V0IG9uIGZhY2V0LiBJZiBhIHZhbHVlIGlzIHByb3ZpZGVkLCBpdCB3aWxsIGNsZWFyIHRoZVxuICAgKiByZWZpbmVtZW50IGZvciB0aGUgZ2l2ZW4gdmFsdWUsIG90aGVyd2lzZSBpdCB3aWxsIGNsZWFyIGFsbCB0aGUgcmVmaW5lbWVudFxuICAgKiB2YWx1ZXMgZm9yIHRoZSBmYWNldGVkIGF0dHJpYnV0ZS5cbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFjZXQgbmFtZSBvZiB0aGUgYXR0cmlidXRlIHVzZWQgZm9yIGZhY2V0aW5nXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbdmFsdWVdIHZhbHVlIHVzZWQgdG8gZmlsdGVyXG4gICAqIEByZXR1cm4ge1NlYXJjaFBhcmFtZXRlcnN9IG5ldyBpbnN0YW5jZVxuICAgKi9cbiAgcmVtb3ZlRmFjZXRSZWZpbmVtZW50OiBmdW5jdGlvbiByZW1vdmVGYWNldFJlZmluZW1lbnQoZmFjZXQsIHZhbHVlKSB7XG4gICAgaWYgKCF0aGlzLmlzQ29uanVuY3RpdmVGYWNldChmYWNldCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgZmFjZXQgK1xuICAgICAgICAgICcgaXMgbm90IGRlZmluZWQgaW4gdGhlIGZhY2V0cyBhdHRyaWJ1dGUgb2YgdGhlIGhlbHBlciBjb25maWd1cmF0aW9uJ1xuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKCFSZWZpbmVtZW50TGlzdC5pc1JlZmluZWQodGhpcy5mYWNldHNSZWZpbmVtZW50cywgZmFjZXQsIHZhbHVlKSlcbiAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgcmV0dXJuIHRoaXMuc2V0UXVlcnlQYXJhbWV0ZXJzKHtcbiAgICAgIGZhY2V0c1JlZmluZW1lbnRzOiBSZWZpbmVtZW50TGlzdC5yZW1vdmVSZWZpbmVtZW50KFxuICAgICAgICB0aGlzLmZhY2V0c1JlZmluZW1lbnRzLFxuICAgICAgICBmYWNldCxcbiAgICAgICAgdmFsdWVcbiAgICAgICksXG4gICAgfSk7XG4gIH0sXG4gIC8qKlxuICAgKiBSZW1vdmUgYSBuZWdhdGl2ZSByZWZpbmVtZW50IG9uIGEgZmFjZXRcbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFjZXQgbmFtZSBvZiB0aGUgYXR0cmlidXRlIHVzZWQgZm9yIGZhY2V0aW5nXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSB2YWx1ZSB1c2VkIHRvIGZpbHRlclxuICAgKiBAcmV0dXJuIHtTZWFyY2hQYXJhbWV0ZXJzfSBuZXcgaW5zdGFuY2VcbiAgICovXG4gIHJlbW92ZUV4Y2x1ZGVSZWZpbmVtZW50OiBmdW5jdGlvbiByZW1vdmVFeGNsdWRlUmVmaW5lbWVudChmYWNldCwgdmFsdWUpIHtcbiAgICBpZiAoIXRoaXMuaXNDb25qdW5jdGl2ZUZhY2V0KGZhY2V0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBmYWNldCArXG4gICAgICAgICAgJyBpcyBub3QgZGVmaW5lZCBpbiB0aGUgZmFjZXRzIGF0dHJpYnV0ZSBvZiB0aGUgaGVscGVyIGNvbmZpZ3VyYXRpb24nXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoIVJlZmluZW1lbnRMaXN0LmlzUmVmaW5lZCh0aGlzLmZhY2V0c0V4Y2x1ZGVzLCBmYWNldCwgdmFsdWUpKVxuICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICByZXR1cm4gdGhpcy5zZXRRdWVyeVBhcmFtZXRlcnMoe1xuICAgICAgZmFjZXRzRXhjbHVkZXM6IFJlZmluZW1lbnRMaXN0LnJlbW92ZVJlZmluZW1lbnQoXG4gICAgICAgIHRoaXMuZmFjZXRzRXhjbHVkZXMsXG4gICAgICAgIGZhY2V0LFxuICAgICAgICB2YWx1ZVxuICAgICAgKSxcbiAgICB9KTtcbiAgfSxcbiAgLyoqXG4gICAqIFJlbW92ZSBhIHJlZmluZW1lbnQgb24gYSBkaXNqdW5jdGl2ZSBmYWNldFxuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWNldCBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgdXNlZCBmb3IgZmFjZXRpbmdcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIHZhbHVlIHVzZWQgdG8gZmlsdGVyXG4gICAqIEByZXR1cm4ge1NlYXJjaFBhcmFtZXRlcnN9IG5ldyBpbnN0YW5jZVxuICAgKi9cbiAgcmVtb3ZlRGlzanVuY3RpdmVGYWNldFJlZmluZW1lbnQ6IGZ1bmN0aW9uIHJlbW92ZURpc2p1bmN0aXZlRmFjZXRSZWZpbmVtZW50KFxuICAgIGZhY2V0LFxuICAgIHZhbHVlXG4gICkge1xuICAgIGlmICghdGhpcy5pc0Rpc2p1bmN0aXZlRmFjZXQoZmFjZXQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGZhY2V0ICtcbiAgICAgICAgICAnIGlzIG5vdCBkZWZpbmVkIGluIHRoZSBkaXNqdW5jdGl2ZUZhY2V0cyBhdHRyaWJ1dGUgb2YgdGhlIGhlbHBlciBjb25maWd1cmF0aW9uJ1xuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgIVJlZmluZW1lbnRMaXN0LmlzUmVmaW5lZCh0aGlzLmRpc2p1bmN0aXZlRmFjZXRzUmVmaW5lbWVudHMsIGZhY2V0LCB2YWx1ZSlcbiAgICApXG4gICAgICByZXR1cm4gdGhpcztcblxuICAgIHJldHVybiB0aGlzLnNldFF1ZXJ5UGFyYW1ldGVycyh7XG4gICAgICBkaXNqdW5jdGl2ZUZhY2V0c1JlZmluZW1lbnRzOiBSZWZpbmVtZW50TGlzdC5yZW1vdmVSZWZpbmVtZW50KFxuICAgICAgICB0aGlzLmRpc2p1bmN0aXZlRmFjZXRzUmVmaW5lbWVudHMsXG4gICAgICAgIGZhY2V0LFxuICAgICAgICB2YWx1ZVxuICAgICAgKSxcbiAgICB9KTtcbiAgfSxcbiAgLyoqXG4gICAqIFJlbW92ZSBhIHRhZyBmcm9tIHRoZSBsaXN0IG9mIHRhZyByZWZpbmVtZW50c1xuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgdGhlIHRhZyB0byByZW1vdmVcbiAgICogQHJldHVybiB7U2VhcmNoUGFyYW1ldGVyc30gbmV3IGluc3RhbmNlXG4gICAqL1xuICByZW1vdmVUYWdSZWZpbmVtZW50OiBmdW5jdGlvbiByZW1vdmVUYWdSZWZpbmVtZW50KHRhZykge1xuICAgIGlmICghdGhpcy5pc1RhZ1JlZmluZWQodGFnKSkgcmV0dXJuIHRoaXM7XG5cbiAgICB2YXIgbW9kaWZpY2F0aW9uID0ge1xuICAgICAgdGFnUmVmaW5lbWVudHM6IHRoaXMudGFnUmVmaW5lbWVudHMuZmlsdGVyKGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIHJldHVybiB0ICE9PSB0YWc7XG4gICAgICB9KSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIHRoaXMuc2V0UXVlcnlQYXJhbWV0ZXJzKG1vZGlmaWNhdGlvbik7XG4gIH0sXG4gIC8qKlxuICAgKiBHZW5lcmljIHRvZ2dsZSByZWZpbmVtZW50IG1ldGhvZCB0byB1c2Ugd2l0aCBmYWNldCwgZGlzanVuY3RpdmUgZmFjZXRzXG4gICAqIGFuZCBoaWVyYXJjaGljYWwgZmFjZXRzXG4gICAqIEBwYXJhbSAge3N0cmluZ30gZmFjZXQgdGhlIGZhY2V0IHRvIHJlZmluZVxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IHZhbHVlIHRoZSBhc3NvY2lhdGVkIHZhbHVlXG4gICAqIEByZXR1cm4ge1NlYXJjaFBhcmFtZXRlcnN9IG5ldyBpbnN0YW5jZVxuICAgKiBAdGhyb3dzIHdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIGZhY2V0IGlzIG5vdCBkZWNsYXJlZCBpbiB0aGUgc2V0dGluZ3Mgb2YgdGhlIGhlbHBlclxuICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDIuMTkuMCwgc2VlIHtAbGluayBTZWFyY2hQYXJhbWV0ZXJzI3RvZ2dsZUZhY2V0UmVmaW5lbWVudH1cbiAgICovXG4gIHRvZ2dsZVJlZmluZW1lbnQ6IGZ1bmN0aW9uIHRvZ2dsZVJlZmluZW1lbnQoZmFjZXQsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMudG9nZ2xlRmFjZXRSZWZpbmVtZW50KGZhY2V0LCB2YWx1ZSk7XG4gIH0sXG4gIC8qKlxuICAgKiBHZW5lcmljIHRvZ2dsZSByZWZpbmVtZW50IG1ldGhvZCB0byB1c2Ugd2l0aCBmYWNldCwgZGlzanVuY3RpdmUgZmFjZXRzXG4gICAqIGFuZCBoaWVyYXJjaGljYWwgZmFjZXRzXG4gICAqIEBwYXJhbSAge3N0cmluZ30gZmFjZXQgdGhlIGZhY2V0IHRvIHJlZmluZVxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IHZhbHVlIHRoZSBhc3NvY2lhdGVkIHZhbHVlXG4gICAqIEByZXR1cm4ge1NlYXJjaFBhcmFtZXRlcnN9IG5ldyBpbnN0YW5jZVxuICAgKiBAdGhyb3dzIHdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIGZhY2V0IGlzIG5vdCBkZWNsYXJlZCBpbiB0aGUgc2V0dGluZ3Mgb2YgdGhlIGhlbHBlclxuICAgKi9cbiAgdG9nZ2xlRmFjZXRSZWZpbmVtZW50OiBmdW5jdGlvbiB0b2dnbGVGYWNldFJlZmluZW1lbnQoZmFjZXQsIHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuaXNIaWVyYXJjaGljYWxGYWNldChmYWNldCkpIHtcbiAgICAgIHJldHVybiB0aGlzLnRvZ2dsZUhpZXJhcmNoaWNhbEZhY2V0UmVmaW5lbWVudChmYWNldCwgdmFsdWUpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5pc0Nvbmp1bmN0aXZlRmFjZXQoZmFjZXQpKSB7XG4gICAgICByZXR1cm4gdGhpcy50b2dnbGVDb25qdW5jdGl2ZUZhY2V0UmVmaW5lbWVudChmYWNldCwgdmFsdWUpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5pc0Rpc2p1bmN0aXZlRmFjZXQoZmFjZXQpKSB7XG4gICAgICByZXR1cm4gdGhpcy50b2dnbGVEaXNqdW5jdGl2ZUZhY2V0UmVmaW5lbWVudChmYWNldCwgdmFsdWUpO1xuICAgIH1cblxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdDYW5ub3QgcmVmaW5lIHRoZSB1bmRlY2xhcmVkIGZhY2V0ICcgK1xuICAgICAgICBmYWNldCArXG4gICAgICAgICc7IGl0IHNob3VsZCBiZSBhZGRlZCB0byB0aGUgaGVscGVyIG9wdGlvbnMgZmFjZXRzLCBkaXNqdW5jdGl2ZUZhY2V0cyBvciBoaWVyYXJjaGljYWxGYWNldHMnXG4gICAgKTtcbiAgfSxcbiAgLyoqXG4gICAqIFN3aXRjaCB0aGUgcmVmaW5lbWVudCBhcHBsaWVkIG92ZXIgYSBmYWNldC92YWx1ZVxuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWNldCBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgdXNlZCBmb3IgZmFjZXRpbmdcbiAgICogQHBhcmFtIHt2YWx1ZX0gdmFsdWUgdmFsdWUgdXNlZCBmb3IgZmlsdGVyaW5nXG4gICAqIEByZXR1cm4ge1NlYXJjaFBhcmFtZXRlcnN9IG5ldyBpbnN0YW5jZVxuICAgKi9cbiAgdG9nZ2xlQ29uanVuY3RpdmVGYWNldFJlZmluZW1lbnQ6IGZ1bmN0aW9uIHRvZ2dsZUNvbmp1bmN0aXZlRmFjZXRSZWZpbmVtZW50KFxuICAgIGZhY2V0LFxuICAgIHZhbHVlXG4gICkge1xuICAgIGlmICghdGhpcy5pc0Nvbmp1bmN0aXZlRmFjZXQoZmFjZXQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGZhY2V0ICtcbiAgICAgICAgICAnIGlzIG5vdCBkZWZpbmVkIGluIHRoZSBmYWNldHMgYXR0cmlidXRlIG9mIHRoZSBoZWxwZXIgY29uZmlndXJhdGlvbidcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc2V0UXVlcnlQYXJhbWV0ZXJzKHtcbiAgICAgIGZhY2V0c1JlZmluZW1lbnRzOiBSZWZpbmVtZW50TGlzdC50b2dnbGVSZWZpbmVtZW50KFxuICAgICAgICB0aGlzLmZhY2V0c1JlZmluZW1lbnRzLFxuICAgICAgICBmYWNldCxcbiAgICAgICAgdmFsdWVcbiAgICAgICksXG4gICAgfSk7XG4gIH0sXG4gIC8qKlxuICAgKiBTd2l0Y2ggdGhlIHJlZmluZW1lbnQgYXBwbGllZCBvdmVyIGEgZmFjZXQvdmFsdWVcbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFjZXQgbmFtZSBvZiB0aGUgYXR0cmlidXRlIHVzZWQgZm9yIGZhY2V0aW5nXG4gICAqIEBwYXJhbSB7dmFsdWV9IHZhbHVlIHZhbHVlIHVzZWQgZm9yIGZpbHRlcmluZ1xuICAgKiBAcmV0dXJuIHtTZWFyY2hQYXJhbWV0ZXJzfSBuZXcgaW5zdGFuY2VcbiAgICovXG4gIHRvZ2dsZUV4Y2x1ZGVGYWNldFJlZmluZW1lbnQ6IGZ1bmN0aW9uIHRvZ2dsZUV4Y2x1ZGVGYWNldFJlZmluZW1lbnQoXG4gICAgZmFjZXQsXG4gICAgdmFsdWVcbiAgKSB7XG4gICAgaWYgKCF0aGlzLmlzQ29uanVuY3RpdmVGYWNldChmYWNldCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgZmFjZXQgK1xuICAgICAgICAgICcgaXMgbm90IGRlZmluZWQgaW4gdGhlIGZhY2V0cyBhdHRyaWJ1dGUgb2YgdGhlIGhlbHBlciBjb25maWd1cmF0aW9uJ1xuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zZXRRdWVyeVBhcmFtZXRlcnMoe1xuICAgICAgZmFjZXRzRXhjbHVkZXM6IFJlZmluZW1lbnRMaXN0LnRvZ2dsZVJlZmluZW1lbnQoXG4gICAgICAgIHRoaXMuZmFjZXRzRXhjbHVkZXMsXG4gICAgICAgIGZhY2V0LFxuICAgICAgICB2YWx1ZVxuICAgICAgKSxcbiAgICB9KTtcbiAgfSxcbiAgLyoqXG4gICAqIFN3aXRjaCB0aGUgcmVmaW5lbWVudCBhcHBsaWVkIG92ZXIgYSBmYWNldC92YWx1ZVxuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWNldCBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgdXNlZCBmb3IgZmFjZXRpbmdcbiAgICogQHBhcmFtIHt2YWx1ZX0gdmFsdWUgdmFsdWUgdXNlZCBmb3IgZmlsdGVyaW5nXG4gICAqIEByZXR1cm4ge1NlYXJjaFBhcmFtZXRlcnN9IG5ldyBpbnN0YW5jZVxuICAgKi9cbiAgdG9nZ2xlRGlzanVuY3RpdmVGYWNldFJlZmluZW1lbnQ6IGZ1bmN0aW9uIHRvZ2dsZURpc2p1bmN0aXZlRmFjZXRSZWZpbmVtZW50KFxuICAgIGZhY2V0LFxuICAgIHZhbHVlXG4gICkge1xuICAgIGlmICghdGhpcy5pc0Rpc2p1bmN0aXZlRmFjZXQoZmFjZXQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGZhY2V0ICtcbiAgICAgICAgICAnIGlzIG5vdCBkZWZpbmVkIGluIHRoZSBkaXNqdW5jdGl2ZUZhY2V0cyBhdHRyaWJ1dGUgb2YgdGhlIGhlbHBlciBjb25maWd1cmF0aW9uJ1xuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zZXRRdWVyeVBhcmFtZXRlcnMoe1xuICAgICAgZGlzanVuY3RpdmVGYWNldHNSZWZpbmVtZW50czogUmVmaW5lbWVudExpc3QudG9nZ2xlUmVmaW5lbWVudChcbiAgICAgICAgdGhpcy5kaXNqdW5jdGl2ZUZhY2V0c1JlZmluZW1lbnRzLFxuICAgICAgICBmYWNldCxcbiAgICAgICAgdmFsdWVcbiAgICAgICksXG4gICAgfSk7XG4gIH0sXG4gIC8qKlxuICAgKiBTd2l0Y2ggdGhlIHJlZmluZW1lbnQgYXBwbGllZCBvdmVyIGEgZmFjZXQvdmFsdWVcbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFjZXQgbmFtZSBvZiB0aGUgYXR0cmlidXRlIHVzZWQgZm9yIGZhY2V0aW5nXG4gICAqIEBwYXJhbSB7dmFsdWV9IHZhbHVlIHZhbHVlIHVzZWQgZm9yIGZpbHRlcmluZ1xuICAgKiBAcmV0dXJuIHtTZWFyY2hQYXJhbWV0ZXJzfSBuZXcgaW5zdGFuY2VcbiAgICovXG4gIHRvZ2dsZUhpZXJhcmNoaWNhbEZhY2V0UmVmaW5lbWVudDogZnVuY3Rpb24gdG9nZ2xlSGllcmFyY2hpY2FsRmFjZXRSZWZpbmVtZW50KFxuICAgIGZhY2V0LFxuICAgIHZhbHVlXG4gICkge1xuICAgIGlmICghdGhpcy5pc0hpZXJhcmNoaWNhbEZhY2V0KGZhY2V0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBmYWNldCArXG4gICAgICAgICAgJyBpcyBub3QgZGVmaW5lZCBpbiB0aGUgaGllcmFyY2hpY2FsRmFjZXRzIGF0dHJpYnV0ZSBvZiB0aGUgaGVscGVyIGNvbmZpZ3VyYXRpb24nXG4gICAgICApO1xuICAgIH1cblxuICAgIHZhciBzZXBhcmF0b3IgPSB0aGlzLl9nZXRIaWVyYXJjaGljYWxGYWNldFNlcGFyYXRvcihcbiAgICAgIHRoaXMuZ2V0SGllcmFyY2hpY2FsRmFjZXRCeU5hbWUoZmFjZXQpXG4gICAgKTtcblxuICAgIHZhciBtb2QgPSB7fTtcblxuICAgIHZhciB1cE9uZU9yTXVsdGlwbGVMZXZlbCA9XG4gICAgICB0aGlzLmhpZXJhcmNoaWNhbEZhY2V0c1JlZmluZW1lbnRzW2ZhY2V0XSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICB0aGlzLmhpZXJhcmNoaWNhbEZhY2V0c1JlZmluZW1lbnRzW2ZhY2V0XS5sZW5ndGggPiAwICYmXG4gICAgICAvLyByZW1vdmUgY3VycmVudCByZWZpbmVtZW50OlxuICAgICAgLy8gcmVmaW5lbWVudCB3YXMgJ2JlZXIgPiBJUEEnLCBjYWxsIGlzIHRvZ2dsZVJlZmluZSgnYmVlciA+IElQQScpLCByZWZpbmVtZW50IHNob3VsZCBiZSBgYmVlcmBcbiAgICAgICh0aGlzLmhpZXJhcmNoaWNhbEZhY2V0c1JlZmluZW1lbnRzW2ZhY2V0XVswXSA9PT0gdmFsdWUgfHxcbiAgICAgICAgLy8gcmVtb3ZlIGEgcGFyZW50IHJlZmluZW1lbnQgb2YgdGhlIGN1cnJlbnQgcmVmaW5lbWVudDpcbiAgICAgICAgLy8gIC0gcmVmaW5lbWVudCB3YXMgJ2JlZXIgPiBJUEEgPiBGbHlpbmcgZG9nJ1xuICAgICAgICAvLyAgLSBjYWxsIGlzIHRvZ2dsZVJlZmluZSgnYmVlciA+IElQQScpXG4gICAgICAgIC8vICAtIHJlZmluZW1lbnQgc2hvdWxkIGJlIGBiZWVyYFxuICAgICAgICB0aGlzLmhpZXJhcmNoaWNhbEZhY2V0c1JlZmluZW1lbnRzW2ZhY2V0XVswXS5pbmRleE9mKFxuICAgICAgICAgIHZhbHVlICsgc2VwYXJhdG9yXG4gICAgICAgICkgPT09IDApO1xuXG4gICAgaWYgKHVwT25lT3JNdWx0aXBsZUxldmVsKSB7XG4gICAgICBpZiAodmFsdWUuaW5kZXhPZihzZXBhcmF0b3IpID09PSAtMSkge1xuICAgICAgICAvLyBnbyBiYWNrIHRvIHJvb3QgbGV2ZWxcbiAgICAgICAgbW9kW2ZhY2V0XSA9IFtdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbW9kW2ZhY2V0XSA9IFt2YWx1ZS5zbGljZSgwLCB2YWx1ZS5sYXN0SW5kZXhPZihzZXBhcmF0b3IpKV07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG1vZFtmYWNldF0gPSBbdmFsdWVdO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnNldFF1ZXJ5UGFyYW1ldGVycyh7XG4gICAgICBoaWVyYXJjaGljYWxGYWNldHNSZWZpbmVtZW50czogZGVmYXVsdHNQdXJlKFxuICAgICAgICB7fSxcbiAgICAgICAgbW9kLFxuICAgICAgICB0aGlzLmhpZXJhcmNoaWNhbEZhY2V0c1JlZmluZW1lbnRzXG4gICAgICApLFxuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBBZGRzIGEgcmVmaW5lbWVudCBvbiBhIGhpZXJhcmNoaWNhbCBmYWNldC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhY2V0IHRoZSBmYWNldCBuYW1lXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIHRoZSBoaWVyYXJjaGljYWwgZmFjZXQgcGF0aFxuICAgKiBAcmV0dXJuIHtTZWFyY2hQYXJhbWV0ZXJ9IHRoZSBuZXcgc3RhdGVcbiAgICogQHRocm93cyBFcnJvciBpZiB0aGUgZmFjZXQgaXMgbm90IGRlZmluZWQgb3IgaWYgdGhlIGZhY2V0IGlzIHJlZmluZWRcbiAgICovXG4gIGFkZEhpZXJhcmNoaWNhbEZhY2V0UmVmaW5lbWVudDogZnVuY3Rpb24gKGZhY2V0LCBwYXRoKSB7XG4gICAgaWYgKHRoaXMuaXNIaWVyYXJjaGljYWxGYWNldFJlZmluZWQoZmFjZXQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZmFjZXQgKyAnIGlzIGFscmVhZHkgcmVmaW5lZC4nKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmlzSGllcmFyY2hpY2FsRmFjZXQoZmFjZXQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGZhY2V0ICtcbiAgICAgICAgICAnIGlzIG5vdCBkZWZpbmVkIGluIHRoZSBoaWVyYXJjaGljYWxGYWNldHMgYXR0cmlidXRlIG9mIHRoZSBoZWxwZXIgY29uZmlndXJhdGlvbi4nXG4gICAgICApO1xuICAgIH1cbiAgICB2YXIgbW9kID0ge307XG4gICAgbW9kW2ZhY2V0XSA9IFtwYXRoXTtcbiAgICByZXR1cm4gdGhpcy5zZXRRdWVyeVBhcmFtZXRlcnMoe1xuICAgICAgaGllcmFyY2hpY2FsRmFjZXRzUmVmaW5lbWVudHM6IGRlZmF1bHRzUHVyZShcbiAgICAgICAge30sXG4gICAgICAgIG1vZCxcbiAgICAgICAgdGhpcy5oaWVyYXJjaGljYWxGYWNldHNSZWZpbmVtZW50c1xuICAgICAgKSxcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogUmVtb3ZlcyB0aGUgcmVmaW5lbWVudCBzZXQgb24gYSBoaWVyYXJjaGljYWwgZmFjZXQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWNldCB0aGUgZmFjZXQgbmFtZVxuICAgKiBAcmV0dXJuIHtTZWFyY2hQYXJhbWV0ZXJ9IHRoZSBuZXcgc3RhdGVcbiAgICogQHRocm93cyBFcnJvciBpZiB0aGUgZmFjZXQgaXMgbm90IGRlZmluZWQgb3IgaWYgdGhlIGZhY2V0IGlzIG5vdCByZWZpbmVkXG4gICAqL1xuICByZW1vdmVIaWVyYXJjaGljYWxGYWNldFJlZmluZW1lbnQ6IGZ1bmN0aW9uIChmYWNldCkge1xuICAgIGlmICghdGhpcy5pc0hpZXJhcmNoaWNhbEZhY2V0UmVmaW5lZChmYWNldCkpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB2YXIgbW9kID0ge307XG4gICAgbW9kW2ZhY2V0XSA9IFtdO1xuICAgIHJldHVybiB0aGlzLnNldFF1ZXJ5UGFyYW1ldGVycyh7XG4gICAgICBoaWVyYXJjaGljYWxGYWNldHNSZWZpbmVtZW50czogZGVmYXVsdHNQdXJlKFxuICAgICAgICB7fSxcbiAgICAgICAgbW9kLFxuICAgICAgICB0aGlzLmhpZXJhcmNoaWNhbEZhY2V0c1JlZmluZW1lbnRzXG4gICAgICApLFxuICAgIH0pO1xuICB9LFxuICAvKipcbiAgICogU3dpdGNoIHRoZSB0YWcgcmVmaW5lbWVudFxuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgdGhlIHRhZyB0byByZW1vdmUgb3IgYWRkXG4gICAqIEByZXR1cm4ge1NlYXJjaFBhcmFtZXRlcnN9IG5ldyBpbnN0YW5jZVxuICAgKi9cbiAgdG9nZ2xlVGFnUmVmaW5lbWVudDogZnVuY3Rpb24gdG9nZ2xlVGFnUmVmaW5lbWVudCh0YWcpIHtcbiAgICBpZiAodGhpcy5pc1RhZ1JlZmluZWQodGFnKSkge1xuICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlVGFnUmVmaW5lbWVudCh0YWcpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmFkZFRhZ1JlZmluZW1lbnQodGFnKTtcbiAgfSxcbiAgLyoqXG4gICAqIFRlc3QgaWYgdGhlIGZhY2V0IG5hbWUgaXMgZnJvbSBvbmUgb2YgdGhlIGRpc2p1bmN0aXZlIGZhY2V0c1xuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWNldCBmYWNldCBuYW1lIHRvIHRlc3RcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiBmYWNldCBpcyBhIGRpc2p1bmN0aXZlIGZhY2V0XG4gICAqL1xuICBpc0Rpc2p1bmN0aXZlRmFjZXQ6IGZ1bmN0aW9uIChmYWNldCkge1xuICAgIHJldHVybiB0aGlzLmRpc2p1bmN0aXZlRmFjZXRzLmluZGV4T2YoZmFjZXQpID4gLTE7XG4gIH0sXG4gIC8qKlxuICAgKiBUZXN0IGlmIHRoZSBmYWNldCBuYW1lIGlzIGZyb20gb25lIG9mIHRoZSBoaWVyYXJjaGljYWwgZmFjZXRzXG4gICAqIEBtZXRob2RcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhY2V0TmFtZSBmYWNldCBuYW1lIHRvIHRlc3RcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiBmYWNldE5hbWUgaXMgYSBoaWVyYXJjaGljYWwgZmFjZXRcbiAgICovXG4gIGlzSGllcmFyY2hpY2FsRmFjZXQ6IGZ1bmN0aW9uIChmYWNldE5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRIaWVyYXJjaGljYWxGYWNldEJ5TmFtZShmYWNldE5hbWUpICE9PSB1bmRlZmluZWQ7XG4gIH0sXG4gIC8qKlxuICAgKiBUZXN0IGlmIHRoZSBmYWNldCBuYW1lIGlzIGZyb20gb25lIG9mIHRoZSBjb25qdW5jdGl2ZS9ub3JtYWwgZmFjZXRzXG4gICAqIEBtZXRob2RcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhY2V0IGZhY2V0IG5hbWUgdG8gdGVzdFxuICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIGZhY2V0IGlzIGEgY29uanVuY3RpdmUgZmFjZXRcbiAgICovXG4gIGlzQ29uanVuY3RpdmVGYWNldDogZnVuY3Rpb24gKGZhY2V0KSB7XG4gICAgcmV0dXJuIHRoaXMuZmFjZXRzLmluZGV4T2YoZmFjZXQpID4gLTE7XG4gIH0sXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGZhY2V0IGlzIHJlZmluZWQsIGVpdGhlciBmb3IgYSBzcGVjaWZpYyB2YWx1ZSBvciBpblxuICAgKiBnZW5lcmFsLlxuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWNldCBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgZm9yIHVzZWQgZm9yIGZhY2V0aW5nXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSwgb3B0aW9uYWwgdmFsdWUuIElmIHBhc3NlZCB3aWxsIHRlc3QgdGhhdCB0aGlzIHZhbHVlXG4gICAqIGlzIGZpbHRlcmluZyB0aGUgZ2l2ZW4gZmFjZXQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IHJldHVybnMgdHJ1ZSBpZiByZWZpbmVkXG4gICAqL1xuICBpc0ZhY2V0UmVmaW5lZDogZnVuY3Rpb24gaXNGYWNldFJlZmluZWQoZmFjZXQsIHZhbHVlKSB7XG4gICAgaWYgKCF0aGlzLmlzQ29uanVuY3RpdmVGYWNldChmYWNldCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIFJlZmluZW1lbnRMaXN0LmlzUmVmaW5lZCh0aGlzLmZhY2V0c1JlZmluZW1lbnRzLCBmYWNldCwgdmFsdWUpO1xuICB9LFxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBmYWNldCBjb250YWlucyBleGNsdXNpb25zIG9yIGlmIGEgc3BlY2lmaWMgdmFsdWUgaXNcbiAgICogZXhjbHVkZWQuXG4gICAqXG4gICAqIEBtZXRob2RcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhY2V0IG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSBmb3IgdXNlZCBmb3IgZmFjZXRpbmdcbiAgICogQHBhcmFtIHtzdHJpbmd9IFt2YWx1ZV0gb3B0aW9uYWwgdmFsdWUuIElmIHBhc3NlZCB3aWxsIHRlc3QgdGhhdCB0aGlzIHZhbHVlXG4gICAqIGlzIGZpbHRlcmluZyB0aGUgZ2l2ZW4gZmFjZXQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IHJldHVybnMgdHJ1ZSBpZiByZWZpbmVkXG4gICAqL1xuICBpc0V4Y2x1ZGVSZWZpbmVkOiBmdW5jdGlvbiBpc0V4Y2x1ZGVSZWZpbmVkKGZhY2V0LCB2YWx1ZSkge1xuICAgIGlmICghdGhpcy5pc0Nvbmp1bmN0aXZlRmFjZXQoZmFjZXQpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBSZWZpbmVtZW50TGlzdC5pc1JlZmluZWQodGhpcy5mYWNldHNFeGNsdWRlcywgZmFjZXQsIHZhbHVlKTtcbiAgfSxcbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZmFjZXQgY29udGFpbnMgYSByZWZpbmVtZW50LCBvciBpZiBhIHZhbHVlIHBhc3NlZCBpcyBhXG4gICAqIHJlZmluZW1lbnQgZm9yIHRoZSBmYWNldC5cbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFjZXQgbmFtZSBvZiB0aGUgYXR0cmlidXRlIGZvciB1c2VkIGZvciBmYWNldGluZ1xuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgb3B0aW9uYWwsIHdpbGwgdGVzdCBpZiB0aGUgdmFsdWUgaXMgdXNlZCBmb3IgcmVmaW5lbWVudFxuICAgKiBpZiB0aGVyZSBpcyBvbmUsIG90aGVyd2lzZSB3aWxsIHRlc3QgaWYgdGhlIGZhY2V0IGNvbnRhaW5zIGFueSByZWZpbmVtZW50XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgdGhlIGZhY2V0IGlzIHJlZmluZWRcbiAgICovXG4gIGlzRGlzanVuY3RpdmVGYWNldFJlZmluZWQ6IGZ1bmN0aW9uIGlzRGlzanVuY3RpdmVGYWNldFJlZmluZWQoZmFjZXQsIHZhbHVlKSB7XG4gICAgaWYgKCF0aGlzLmlzRGlzanVuY3RpdmVGYWNldChmYWNldCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIFJlZmluZW1lbnRMaXN0LmlzUmVmaW5lZChcbiAgICAgIHRoaXMuZGlzanVuY3RpdmVGYWNldHNSZWZpbmVtZW50cyxcbiAgICAgIGZhY2V0LFxuICAgICAgdmFsdWVcbiAgICApO1xuICB9LFxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBmYWNldCBjb250YWlucyBhIHJlZmluZW1lbnQsIG9yIGlmIGEgdmFsdWUgcGFzc2VkIGlzIGFcbiAgICogcmVmaW5lbWVudCBmb3IgdGhlIGZhY2V0LlxuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWNldCBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgZm9yIHVzZWQgZm9yIGZhY2V0aW5nXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBvcHRpb25hbCwgd2lsbCB0ZXN0IGlmIHRoZSB2YWx1ZSBpcyB1c2VkIGZvciByZWZpbmVtZW50XG4gICAqIGlmIHRoZXJlIGlzIG9uZSwgb3RoZXJ3aXNlIHdpbGwgdGVzdCBpZiB0aGUgZmFjZXQgY29udGFpbnMgYW55IHJlZmluZW1lbnRcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgZmFjZXQgaXMgcmVmaW5lZFxuICAgKi9cbiAgaXNIaWVyYXJjaGljYWxGYWNldFJlZmluZWQ6IGZ1bmN0aW9uIGlzSGllcmFyY2hpY2FsRmFjZXRSZWZpbmVkKFxuICAgIGZhY2V0LFxuICAgIHZhbHVlXG4gICkge1xuICAgIGlmICghdGhpcy5pc0hpZXJhcmNoaWNhbEZhY2V0KGZhY2V0KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciByZWZpbmVtZW50cyA9IHRoaXMuZ2V0SGllcmFyY2hpY2FsUmVmaW5lbWVudChmYWNldCk7XG5cbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICByZXR1cm4gcmVmaW5lbWVudHMubGVuZ3RoID4gMDtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVmaW5lbWVudHMuaW5kZXhPZih2YWx1ZSkgIT09IC0xO1xuICB9LFxuICAvKipcbiAgICogVGVzdCBpZiB0aGUgdHJpcGxlIChhdHRyaWJ1dGUsIG9wZXJhdG9yLCB2YWx1ZSkgaXMgYWxyZWFkeSByZWZpbmVkLlxuICAgKiBJZiBvbmx5IHRoZSBhdHRyaWJ1dGUgYW5kIHRoZSBvcGVyYXRvciBhcmUgcHJvdmlkZWQsIGl0IHRlc3RzIGlmIHRoZVxuICAgKiBjb250YWlucyBhbnkgcmVmaW5lbWVudCB2YWx1ZS5cbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlIGF0dHJpYnV0ZSBmb3Igd2hpY2ggdGhlIHJlZmluZW1lbnQgaXMgYXBwbGllZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wZXJhdG9yXSBvcGVyYXRvciBvZiB0aGUgcmVmaW5lbWVudFxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3ZhbHVlXSB2YWx1ZSBvZiB0aGUgcmVmaW5lbWVudFxuICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIGl0IGlzIHJlZmluZWRcbiAgICovXG4gIGlzTnVtZXJpY1JlZmluZWQ6IGZ1bmN0aW9uIGlzTnVtZXJpY1JlZmluZWQoYXR0cmlidXRlLCBvcGVyYXRvciwgdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiBvcGVyYXRvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gQm9vbGVhbih0aGlzLm51bWVyaWNSZWZpbmVtZW50c1thdHRyaWJ1dGVdKTtcbiAgICB9XG5cbiAgICB2YXIgaXNPcGVyYXRvckRlZmluZWQgPVxuICAgICAgdGhpcy5udW1lcmljUmVmaW5lbWVudHNbYXR0cmlidXRlXSAmJlxuICAgICAgdGhpcy5udW1lcmljUmVmaW5lbWVudHNbYXR0cmlidXRlXVtvcGVyYXRvcl0gIT09IHVuZGVmaW5lZDtcblxuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8ICFpc09wZXJhdG9yRGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGlzT3BlcmF0b3JEZWZpbmVkO1xuICAgIH1cblxuICAgIHZhciBwYXJzZWRWYWx1ZSA9IHZhbFRvTnVtYmVyKHZhbHVlKTtcbiAgICB2YXIgaXNBdHRyaWJ1dGVWYWx1ZURlZmluZWQgPVxuICAgICAgZmluZEFycmF5KHRoaXMubnVtZXJpY1JlZmluZW1lbnRzW2F0dHJpYnV0ZV1bb3BlcmF0b3JdLCBwYXJzZWRWYWx1ZSkgIT09XG4gICAgICB1bmRlZmluZWQ7XG5cbiAgICByZXR1cm4gaXNPcGVyYXRvckRlZmluZWQgJiYgaXNBdHRyaWJ1dGVWYWx1ZURlZmluZWQ7XG4gIH0sXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHRhZyByZWZpbmVkLCBmYWxzZSBvdGhlcndpc2VcbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnIHRoZSB0YWcgdG8gY2hlY2tcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0YWcgaXMgcmVmaW5lZFxuICAgKi9cbiAgaXNUYWdSZWZpbmVkOiBmdW5jdGlvbiBpc1RhZ1JlZmluZWQodGFnKSB7XG4gICAgcmV0dXJuIHRoaXMudGFnUmVmaW5lbWVudHMuaW5kZXhPZih0YWcpICE9PSAtMTtcbiAgfSxcbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGxpc3Qgb2YgYWxsIGRpc2p1bmN0aXZlIGZhY2V0cyByZWZpbmVkXG4gICAqIEBtZXRob2RcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhY2V0IG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB1c2VkIGZvciBmYWNldGluZ1xuICAgKiBAcGFyYW0ge3ZhbHVlfSB2YWx1ZSB2YWx1ZSB1c2VkIGZvciBmaWx0ZXJpbmdcbiAgICogQHJldHVybiB7c3RyaW5nW119IHJldHVybnMgdGhlIGxpc3Qgb2YgcmVmaW5lbWVudHNcbiAgICovXG4gIGdldFJlZmluZWREaXNqdW5jdGl2ZUZhY2V0czogZnVuY3Rpb24gZ2V0UmVmaW5lZERpc2p1bmN0aXZlRmFjZXRzKCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXRoaXNcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBhdHRyaWJ1dGVzIHVzZWQgZm9yIG51bWVyaWMgZmlsdGVyIGNhbiBhbHNvIGJlIGRpc2p1bmN0aXZlXG4gICAgdmFyIGRpc2p1bmN0aXZlTnVtZXJpY1JlZmluZWRGYWNldHMgPSBpbnRlcnNlY3Rpb24oXG4gICAgICBPYmplY3Qua2V5cyh0aGlzLm51bWVyaWNSZWZpbmVtZW50cykuZmlsdGVyKGZ1bmN0aW9uIChmYWNldCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoc2VsZi5udW1lcmljUmVmaW5lbWVudHNbZmFjZXRdKS5sZW5ndGggPiAwO1xuICAgICAgfSksXG4gICAgICB0aGlzLmRpc2p1bmN0aXZlRmFjZXRzXG4gICAgKTtcblxuICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLmRpc2p1bmN0aXZlRmFjZXRzUmVmaW5lbWVudHMpXG4gICAgICAuZmlsdGVyKGZ1bmN0aW9uIChmYWNldCkge1xuICAgICAgICByZXR1cm4gc2VsZi5kaXNqdW5jdGl2ZUZhY2V0c1JlZmluZW1lbnRzW2ZhY2V0XS5sZW5ndGggPiAwO1xuICAgICAgfSlcbiAgICAgIC5jb25jYXQoZGlzanVuY3RpdmVOdW1lcmljUmVmaW5lZEZhY2V0cylcbiAgICAgIC5jb25jYXQodGhpcy5nZXRSZWZpbmVkSGllcmFyY2hpY2FsRmFjZXRzKCkpXG4gICAgICAuc29ydCgpO1xuICB9LFxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbGlzdCBvZiBhbGwgZGlzanVuY3RpdmUgZmFjZXRzIHJlZmluZWRcbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFjZXQgbmFtZSBvZiB0aGUgYXR0cmlidXRlIHVzZWQgZm9yIGZhY2V0aW5nXG4gICAqIEBwYXJhbSB7dmFsdWV9IHZhbHVlIHZhbHVlIHVzZWQgZm9yIGZpbHRlcmluZ1xuICAgKiBAcmV0dXJuIHtzdHJpbmdbXX0gcmV0dXJucyB0aGUgbGlzdCBvZiByZWZpbmVtZW50c1xuICAgKi9cbiAgZ2V0UmVmaW5lZEhpZXJhcmNoaWNhbEZhY2V0czogZnVuY3Rpb24gZ2V0UmVmaW5lZEhpZXJhcmNoaWNhbEZhY2V0cygpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC10aGlzXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBpbnRlcnNlY3Rpb24oXG4gICAgICAvLyBlbmZvcmNlIHRoZSBvcmRlciBiZXR3ZWVuIHRoZSB0d28gYXJyYXlzLFxuICAgICAgLy8gc28gdGhhdCByZWZpbmVtZW50IG5hbWUgaW5kZXggPT09IGhpZXJhcmNoaWNhbCBmYWNldCBpbmRleFxuICAgICAgdGhpcy5oaWVyYXJjaGljYWxGYWNldHMubWFwKGZ1bmN0aW9uIChmYWNldCkge1xuICAgICAgICByZXR1cm4gZmFjZXQubmFtZTtcbiAgICAgIH0pLFxuICAgICAgT2JqZWN0LmtleXModGhpcy5oaWVyYXJjaGljYWxGYWNldHNSZWZpbmVtZW50cykuZmlsdGVyKGZ1bmN0aW9uIChmYWNldCkge1xuICAgICAgICByZXR1cm4gc2VsZi5oaWVyYXJjaGljYWxGYWNldHNSZWZpbmVtZW50c1tmYWNldF0ubGVuZ3RoID4gMDtcbiAgICAgIH0pXG4gICAgKS5zb3J0KCk7XG4gIH0sXG4gIC8qKlxuICAgKiBSZXR1cm5lZCB0aGUgbGlzdCBvZiBhbGwgZGlzanVuY3RpdmUgZmFjZXRzIG5vdCByZWZpbmVkXG4gICAqIEBtZXRob2RcbiAgICogQHJldHVybiB7c3RyaW5nW119IHJldHVybnMgdGhlIGxpc3Qgb2YgZmFjZXRzIHRoYXQgYXJlIG5vdCByZWZpbmVkXG4gICAqL1xuICBnZXRVbnJlZmluZWREaXNqdW5jdGl2ZUZhY2V0czogZnVuY3Rpb24gKCkge1xuICAgIHZhciByZWZpbmVkRmFjZXRzID0gdGhpcy5nZXRSZWZpbmVkRGlzanVuY3RpdmVGYWNldHMoKTtcblxuICAgIHJldHVybiB0aGlzLmRpc2p1bmN0aXZlRmFjZXRzLmZpbHRlcihmdW5jdGlvbiAoZikge1xuICAgICAgcmV0dXJuIHJlZmluZWRGYWNldHMuaW5kZXhPZihmKSA9PT0gLTE7XG4gICAgfSk7XG4gIH0sXG5cbiAgbWFuYWdlZFBhcmFtZXRlcnM6IFtcbiAgICAnaW5kZXgnLFxuXG4gICAgJ2ZhY2V0cycsXG4gICAgJ2Rpc2p1bmN0aXZlRmFjZXRzJyxcbiAgICAnZmFjZXRzUmVmaW5lbWVudHMnLFxuICAgICdoaWVyYXJjaGljYWxGYWNldHMnLFxuICAgICdmYWNldHNFeGNsdWRlcycsXG5cbiAgICAnZGlzanVuY3RpdmVGYWNldHNSZWZpbmVtZW50cycsXG4gICAgJ251bWVyaWNSZWZpbmVtZW50cycsXG4gICAgJ3RhZ1JlZmluZW1lbnRzJyxcbiAgICAnaGllcmFyY2hpY2FsRmFjZXRzUmVmaW5lbWVudHMnLFxuICBdLFxuXG4gIGdldFF1ZXJ5UGFyYW1zOiBmdW5jdGlvbiBnZXRRdWVyeVBhcmFtcygpIHtcbiAgICB2YXIgbWFuYWdlZFBhcmFtZXRlcnMgPSB0aGlzLm1hbmFnZWRQYXJhbWV0ZXJzO1xuXG4gICAgdmFyIHF1ZXJ5UGFyYW1zID0ge307XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC10aGlzXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIE9iamVjdC5rZXlzKHRoaXMpLmZvckVhY2goZnVuY3Rpb24gKHBhcmFtTmFtZSkge1xuICAgICAgdmFyIHBhcmFtVmFsdWUgPSBzZWxmW3BhcmFtTmFtZV07XG4gICAgICBpZiAoXG4gICAgICAgIG1hbmFnZWRQYXJhbWV0ZXJzLmluZGV4T2YocGFyYW1OYW1lKSA9PT0gLTEgJiZcbiAgICAgICAgcGFyYW1WYWx1ZSAhPT0gdW5kZWZpbmVkXG4gICAgICApIHtcbiAgICAgICAgcXVlcnlQYXJhbXNbcGFyYW1OYW1lXSA9IHBhcmFtVmFsdWU7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcXVlcnlQYXJhbXM7XG4gIH0sXG4gIC8qKlxuICAgKiBMZXQgdGhlIHVzZXIgc2V0IGEgc3BlY2lmaWMgdmFsdWUgZm9yIGEgZ2l2ZW4gcGFyYW1ldGVyLiBXaWxsIHJldHVybiB0aGVcbiAgICogc2FtZSBpbnN0YW5jZSBpZiB0aGUgcGFyYW1ldGVyIGlzIGludmFsaWQgb3IgaWYgdGhlIHZhbHVlIGlzIHRoZSBzYW1lIGFzIHRoZVxuICAgKiBwcmV2aW91cyBvbmUuXG4gICAqIEBtZXRob2RcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtZXRlciB0aGUgcGFyYW1ldGVyIG5hbWVcbiAgICogQHBhcmFtIHthbnl9IHZhbHVlIHRoZSB2YWx1ZSB0byBiZSBzZXQsIG11c3QgYmUgY29tcGxpYW50IHdpdGggdGhlIGRlZmluaXRpb25cbiAgICogb2YgdGhlIGF0dHJpYnV0ZSBvbiB0aGUgb2JqZWN0XG4gICAqIEByZXR1cm4ge1NlYXJjaFBhcmFtZXRlcnN9IHRoZSB1cGRhdGVkIHN0YXRlXG4gICAqL1xuICBzZXRRdWVyeVBhcmFtZXRlcjogZnVuY3Rpb24gc2V0UGFyYW1ldGVyKHBhcmFtZXRlciwgdmFsdWUpIHtcbiAgICBpZiAodGhpc1twYXJhbWV0ZXJdID09PSB2YWx1ZSkgcmV0dXJuIHRoaXM7XG5cbiAgICB2YXIgbW9kaWZpY2F0aW9uID0ge307XG5cbiAgICBtb2RpZmljYXRpb25bcGFyYW1ldGVyXSA9IHZhbHVlO1xuXG4gICAgcmV0dXJuIHRoaXMuc2V0UXVlcnlQYXJhbWV0ZXJzKG1vZGlmaWNhdGlvbik7XG4gIH0sXG4gIC8qKlxuICAgKiBMZXQgdGhlIHVzZXIgc2V0IGFueSBvZiB0aGUgcGFyYW1ldGVycyB3aXRoIGEgcGxhaW4gb2JqZWN0LlxuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbXMgYWxsIHRoZSBrZXlzIGFuZCB0aGUgdmFsdWVzIHRvIGJlIHVwZGF0ZWRcbiAgICogQHJldHVybiB7U2VhcmNoUGFyYW1ldGVyc30gYSBuZXcgdXBkYXRlZCBpbnN0YW5jZVxuICAgKi9cbiAgc2V0UXVlcnlQYXJhbWV0ZXJzOiBmdW5jdGlvbiBzZXRRdWVyeVBhcmFtZXRlcnMocGFyYW1zKSB7XG4gICAgaWYgKCFwYXJhbXMpIHJldHVybiB0aGlzO1xuXG4gICAgdmFyIGVycm9yID0gU2VhcmNoUGFyYW1ldGVycy52YWxpZGF0ZSh0aGlzLCBwYXJhbXMpO1xuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC10aGlzXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBuZXh0V2l0aE51bWJlcnMgPSBTZWFyY2hQYXJhbWV0ZXJzLl9wYXJzZU51bWJlcnMocGFyYW1zKTtcbiAgICB2YXIgcHJldmlvdXNQbGFpbk9iamVjdCA9IE9iamVjdC5rZXlzKHRoaXMpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHtcbiAgICAgIGFjY1trZXldID0gc2VsZltrZXldO1xuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG5cbiAgICB2YXIgbmV4dFBsYWluT2JqZWN0ID0gT2JqZWN0LmtleXMobmV4dFdpdGhOdW1iZXJzKS5yZWR1Y2UoZnVuY3Rpb24gKFxuICAgICAgcHJldmlvdXMsXG4gICAgICBrZXlcbiAgICApIHtcbiAgICAgIHZhciBpc1ByZXZpb3VzVmFsdWVEZWZpbmVkID0gcHJldmlvdXNba2V5XSAhPT0gdW5kZWZpbmVkO1xuICAgICAgdmFyIGlzTmV4dFZhbHVlRGVmaW5lZCA9IG5leHRXaXRoTnVtYmVyc1trZXldICE9PSB1bmRlZmluZWQ7XG5cbiAgICAgIGlmIChpc1ByZXZpb3VzVmFsdWVEZWZpbmVkICYmICFpc05leHRWYWx1ZURlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIG9taXQocHJldmlvdXMsIFtrZXldKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzTmV4dFZhbHVlRGVmaW5lZCkge1xuICAgICAgICBwcmV2aW91c1trZXldID0gbmV4dFdpdGhOdW1iZXJzW2tleV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcmV2aW91cztcbiAgICB9LFxuICAgIHByZXZpb3VzUGxhaW5PYmplY3QpO1xuXG4gICAgcmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKG5leHRQbGFpbk9iamVjdCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBuZXcgaW5zdGFuY2Ugd2l0aCB0aGUgcGFnZSByZXNldC4gVHdvIHNjZW5hcmlvcyBwb3NzaWJsZTpcbiAgICogdGhlIHBhZ2UgaXMgb21pdHRlZCAtPiByZXR1cm4gdGhlIGdpdmVuIGluc3RhbmNlXG4gICAqIHRoZSBwYWdlIGlzIHNldCAtPiByZXR1cm4gYSBuZXcgaW5zdGFuY2Ugd2l0aCBhIHBhZ2Ugb2YgMFxuICAgKiBAcmV0dXJuIHtTZWFyY2hQYXJhbWV0ZXJzfSBhIG5ldyB1cGRhdGVkIGluc3RhbmNlXG4gICAqL1xuICByZXNldFBhZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5wYWdlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnNldFBhZ2UoMCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgdGhlIGhpZXJhcmNoaWNhbEZhY2V0IHNlcGFyYXRvciBvciB0aGUgZGVmYXVsdCBvbmUgKGA+YClcbiAgICogQHBhcmFtICB7b2JqZWN0fSBoaWVyYXJjaGljYWxGYWNldCB0aGUgaGllcmFyY2hpY2FsRmFjZXQgb2JqZWN0XG4gICAqIEByZXR1cm4ge3N0cmluZ30gcmV0dXJucyB0aGUgaGllcmFyY2hpY2FsRmFjZXQuc2VwYXJhdG9yIG9yIGA+YCBhcyBkZWZhdWx0XG4gICAqL1xuICBfZ2V0SGllcmFyY2hpY2FsRmFjZXRTb3J0Qnk6IGZ1bmN0aW9uIChoaWVyYXJjaGljYWxGYWNldCkge1xuICAgIHJldHVybiBoaWVyYXJjaGljYWxGYWNldC5zb3J0QnkgfHwgWydpc1JlZmluZWQ6ZGVzYycsICduYW1lOmFzYyddO1xuICB9LFxuXG4gIC8qKlxuICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IHRoZSBoaWVyYXJjaGljYWxGYWNldCBzZXBhcmF0b3Igb3IgdGhlIGRlZmF1bHQgb25lIChgPmApXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSAge29iamVjdH0gaGllcmFyY2hpY2FsRmFjZXQgdGhlIGhpZXJhcmNoaWNhbEZhY2V0IG9iamVjdFxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHJldHVybnMgdGhlIGhpZXJhcmNoaWNhbEZhY2V0LnNlcGFyYXRvciBvciBgPmAgYXMgZGVmYXVsdFxuICAgKi9cbiAgX2dldEhpZXJhcmNoaWNhbEZhY2V0U2VwYXJhdG9yOiBmdW5jdGlvbiAoaGllcmFyY2hpY2FsRmFjZXQpIHtcbiAgICByZXR1cm4gaGllcmFyY2hpY2FsRmFjZXQuc2VwYXJhdG9yIHx8ICcgPiAnO1xuICB9LFxuXG4gIC8qKlxuICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IHRoZSBoaWVyYXJjaGljYWxGYWNldCBwcmVmaXggcGF0aCBvciBudWxsXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSAge29iamVjdH0gaGllcmFyY2hpY2FsRmFjZXQgdGhlIGhpZXJhcmNoaWNhbEZhY2V0IG9iamVjdFxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHJldHVybnMgdGhlIGhpZXJhcmNoaWNhbEZhY2V0LnJvb3RQYXRoIG9yIG51bGwgYXMgZGVmYXVsdFxuICAgKi9cbiAgX2dldEhpZXJhcmNoaWNhbFJvb3RQYXRoOiBmdW5jdGlvbiAoaGllcmFyY2hpY2FsRmFjZXQpIHtcbiAgICByZXR1cm4gaGllcmFyY2hpY2FsRmFjZXQucm9vdFBhdGggfHwgbnVsbDtcbiAgfSxcblxuICAvKipcbiAgICogSGVscGVyIGZ1bmN0aW9uIHRvIGNoZWNrIGlmIHdlIHNob3cgdGhlIHBhcmVudCBsZXZlbCBvZiB0aGUgaGllcmFyY2hpY2FsRmFjZXRcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtICB7b2JqZWN0fSBoaWVyYXJjaGljYWxGYWNldCB0aGUgaGllcmFyY2hpY2FsRmFjZXQgb2JqZWN0XG4gICAqIEByZXR1cm4ge3N0cmluZ30gcmV0dXJucyB0aGUgaGllcmFyY2hpY2FsRmFjZXQuc2hvd1BhcmVudExldmVsIG9yIHRydWUgYXMgZGVmYXVsdFxuICAgKi9cbiAgX2dldEhpZXJhcmNoaWNhbFNob3dQYXJlbnRMZXZlbDogZnVuY3Rpb24gKGhpZXJhcmNoaWNhbEZhY2V0KSB7XG4gICAgaWYgKHR5cGVvZiBoaWVyYXJjaGljYWxGYWNldC5zaG93UGFyZW50TGV2ZWwgPT09ICdib29sZWFuJykge1xuICAgICAgcmV0dXJuIGhpZXJhcmNoaWNhbEZhY2V0LnNob3dQYXJlbnRMZXZlbDtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgdGhlIGhpZXJhcmNoaWNhbEZhY2V0IGJ5IGl0J3MgbmFtZVxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IGhpZXJhcmNoaWNhbEZhY2V0TmFtZSB0aGUgaGllcmFyY2hpY2FsRmFjZXQgbmFtZVxuICAgKiBAcmV0dXJuIHtvYmplY3R9IGEgaGllcmFyY2hpY2FsRmFjZXRcbiAgICovXG4gIGdldEhpZXJhcmNoaWNhbEZhY2V0QnlOYW1lOiBmdW5jdGlvbiAoaGllcmFyY2hpY2FsRmFjZXROYW1lKSB7XG4gICAgcmV0dXJuIGZpbmQodGhpcy5oaWVyYXJjaGljYWxGYWNldHMsIGZ1bmN0aW9uIChmKSB7XG4gICAgICByZXR1cm4gZi5uYW1lID09PSBoaWVyYXJjaGljYWxGYWNldE5hbWU7XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3VycmVudCBicmVhZGNydW1iIGZvciBhIGhpZXJhcmNoaWNhbCBmYWNldCwgYXMgYW4gYXJyYXlcbiAgICogQHBhcmFtICB7c3RyaW5nfSBmYWNldE5hbWUgSGllcmFyY2hpY2FsIGZhY2V0IG5hbWVcbiAgICogQHJldHVybiB7YXJyYXkuPHN0cmluZz59IHRoZSBwYXRoIGFzIGFuIGFycmF5IG9mIHN0cmluZ1xuICAgKi9cbiAgZ2V0SGllcmFyY2hpY2FsRmFjZXRCcmVhZGNydW1iOiBmdW5jdGlvbiAoZmFjZXROYW1lKSB7XG4gICAgaWYgKCF0aGlzLmlzSGllcmFyY2hpY2FsRmFjZXQoZmFjZXROYW1lKSkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIHZhciByZWZpbmVtZW50ID0gdGhpcy5nZXRIaWVyYXJjaGljYWxSZWZpbmVtZW50KGZhY2V0TmFtZSlbMF07XG4gICAgaWYgKCFyZWZpbmVtZW50KSByZXR1cm4gW107XG5cbiAgICB2YXIgc2VwYXJhdG9yID0gdGhpcy5fZ2V0SGllcmFyY2hpY2FsRmFjZXRTZXBhcmF0b3IoXG4gICAgICB0aGlzLmdldEhpZXJhcmNoaWNhbEZhY2V0QnlOYW1lKGZhY2V0TmFtZSlcbiAgICApO1xuICAgIHZhciBwYXRoID0gcmVmaW5lbWVudC5zcGxpdChzZXBhcmF0b3IpO1xuICAgIHJldHVybiBwYXRoLm1hcChmdW5jdGlvbiAocGFydCkge1xuICAgICAgcmV0dXJuIHBhcnQudHJpbSgpO1xuICAgIH0pO1xuICB9LFxuXG4gIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMsIG51bGwsIDIpO1xuICB9LFxufTtcblxuLyoqXG4gKiBDYWxsYmFjayB1c2VkIGZvciBjbGVhclJlZmluZW1lbnQgbWV0aG9kXG4gKiBAY2FsbGJhY2sgU2VhcmNoUGFyYW1ldGVycy5jbGVhckNhbGxiYWNrXG4gKiBAcGFyYW0ge09wZXJhdG9yTGlzdHxGYWNldExpc3R9IHZhbHVlIHRoZSB2YWx1ZSBvZiB0aGUgZmlsdGVyXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IHRoZSBjdXJyZW50IGF0dHJpYnV0ZSBuYW1lXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBgbnVtZXJpY2AsIGBkaXNqdW5jdGl2ZUZhY2V0YCwgYGNvbmp1bmN0aXZlRmFjZXRgLCBgaGllcmFyY2hpY2FsRmFjZXRgIG9yIGBleGNsdWRlYFxuICogZGVwZW5kaW5nIG9uIHRoZSB0eXBlIG9mIGZhY2V0XG4gKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIGVsZW1lbnQgc2hvdWxkIGJlIHJlbW92ZWQuIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IFNlYXJjaFBhcmFtZXRlcnM7XG4iXSwibmFtZXMiOlsiZGVmYXVsdHNQdXJlIiwicmVxdWlyZSIsImZpbmQiLCJpbnRlcnNlY3Rpb24iLCJtZXJnZSIsIm9iamVjdEhhc0tleXMiLCJvbWl0IiwidmFsVG9OdW1iZXIiLCJpc1ZhbGlkVXNlclRva2VuIiwiUmVmaW5lbWVudExpc3QiLCJpc0VxdWFsTnVtZXJpY1JlZmluZW1lbnQiLCJhIiwiYiIsIkFycmF5IiwiaXNBcnJheSIsImxlbmd0aCIsImV2ZXJ5IiwiZWwiLCJpIiwiZmluZEFycmF5IiwiYXJyYXkiLCJzZWFyY2hlZFZhbHVlIiwiY3VycmVudFZhbHVlIiwiU2VhcmNoUGFyYW1ldGVycyIsIm5ld1BhcmFtZXRlcnMiLCJwYXJhbXMiLCJfcGFyc2VOdW1iZXJzIiwidXNlclRva2VuIiwidW5kZWZpbmVkIiwiY29uc29sZSIsIndhcm4iLCJmYWNldHMiLCJkaXNqdW5jdGl2ZUZhY2V0cyIsImhpZXJhcmNoaWNhbEZhY2V0cyIsImZhY2V0c1JlZmluZW1lbnRzIiwiZmFjZXRzRXhjbHVkZXMiLCJkaXNqdW5jdGl2ZUZhY2V0c1JlZmluZW1lbnRzIiwibnVtZXJpY1JlZmluZW1lbnRzIiwidGFnUmVmaW5lbWVudHMiLCJoaWVyYXJjaGljYWxGYWNldHNSZWZpbmVtZW50cyIsInNlbGYiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsInBhcmFtTmFtZSIsImlzS2V5S25vd24iLCJQQVJBTUVURVJTIiwiaW5kZXhPZiIsImlzVmFsdWVEZWZpbmVkIiwicGFydGlhbFN0YXRlIiwibnVtYmVycyIsIm51bWJlcktleXMiLCJrIiwidmFsdWUiLCJwYXJzZWRWYWx1ZSIsInBhcnNlRmxvYXQiLCJpc05hTiIsImluc2lkZUJvdW5kaW5nQm94IiwibWFwIiwiZ2VvUmVjdCIsImF0dHJpYnV0ZSIsIm9wZXJhdG9ycyIsIm9wZXJhdG9yIiwidmFsdWVzIiwicGFyc2VkVmFsdWVzIiwidiIsInZQcmltZSIsIm1ha2UiLCJtYWtlU2VhcmNoUGFyYW1ldGVycyIsImluc3RhbmNlIiwiZmFjZXQiLCJyb290UGF0aCIsImN1cnJlbnRSZWZpbmVtZW50IiwiZ2V0SGllcmFyY2hpY2FsUmVmaW5lbWVudCIsIm5hbWUiLCJjbGVhclJlZmluZW1lbnRzIiwidG9nZ2xlSGllcmFyY2hpY2FsRmFjZXRSZWZpbmVtZW50IiwidmFsaWRhdGUiLCJjdXJyZW50U3RhdGUiLCJwYXJhbWV0ZXJzIiwidGFnRmlsdGVycyIsIkVycm9yIiwibnVtZXJpY0ZpbHRlcnMiLCJwcm90b3R5cGUiLCJjb25zdHJ1Y3RvciIsInBhdGNoIiwiX2NsZWFyTnVtZXJpY1JlZmluZW1lbnRzIiwiY2xlYXJSZWZpbmVtZW50Iiwic2V0UXVlcnlQYXJhbWV0ZXJzIiwiY2xlYXJUYWdzIiwic2V0SW5kZXgiLCJpbmRleCIsInNldFF1ZXJ5IiwibmV3UXVlcnkiLCJxdWVyeSIsInNldFBhZ2UiLCJuZXdQYWdlIiwicGFnZSIsInNldEZhY2V0cyIsInNldERpc2p1bmN0aXZlRmFjZXRzIiwic2V0SGl0c1BlclBhZ2UiLCJuIiwiaGl0c1BlclBhZ2UiLCJzZXRUeXBvVG9sZXJhbmNlIiwidHlwb1RvbGVyYW5jZSIsImFkZE51bWVyaWNSZWZpbmVtZW50IiwidmFsIiwiaXNOdW1lcmljUmVmaW5lZCIsIm1vZCIsInNsaWNlIiwicHVzaCIsImdldENvbmp1bmN0aXZlUmVmaW5lbWVudHMiLCJmYWNldE5hbWUiLCJpc0Nvbmp1bmN0aXZlRmFjZXQiLCJnZXREaXNqdW5jdGl2ZVJlZmluZW1lbnRzIiwiaXNEaXNqdW5jdGl2ZUZhY2V0IiwiZ2V0RXhjbHVkZVJlZmluZW1lbnRzIiwicmVtb3ZlTnVtZXJpY1JlZmluZW1lbnQiLCJudW1iZXIiLCJwYXJhbVZhbHVlIiwia2V5Iiwib3AiLCJnZXROdW1lcmljUmVmaW5lbWVudHMiLCJnZXROdW1lcmljUmVmaW5lbWVudCIsImhhc0NoYW5nZWQiLCJuZXdOdW1lcmljUmVmaW5lbWVudHMiLCJyZWR1Y2UiLCJtZW1vIiwib3BlcmF0b3JMaXN0Iiwib3V0VmFsdWVzIiwicHJlZGljYXRlUmVzdWx0IiwiYWRkRmFjZXQiLCJjb25jYXQiLCJhZGREaXNqdW5jdGl2ZUZhY2V0IiwiYWRkSGllcmFyY2hpY2FsRmFjZXQiLCJoaWVyYXJjaGljYWxGYWNldCIsImlzSGllcmFyY2hpY2FsRmFjZXQiLCJhZGRGYWNldFJlZmluZW1lbnQiLCJpc1JlZmluZWQiLCJhZGRSZWZpbmVtZW50IiwiYWRkRXhjbHVkZVJlZmluZW1lbnQiLCJhZGREaXNqdW5jdGl2ZUZhY2V0UmVmaW5lbWVudCIsImFkZFRhZ1JlZmluZW1lbnQiLCJ0YWciLCJpc1RhZ1JlZmluZWQiLCJtb2RpZmljYXRpb24iLCJyZW1vdmVGYWNldCIsImZpbHRlciIsImYiLCJyZW1vdmVEaXNqdW5jdGl2ZUZhY2V0IiwicmVtb3ZlSGllcmFyY2hpY2FsRmFjZXQiLCJyZW1vdmVGYWNldFJlZmluZW1lbnQiLCJyZW1vdmVSZWZpbmVtZW50IiwicmVtb3ZlRXhjbHVkZVJlZmluZW1lbnQiLCJyZW1vdmVEaXNqdW5jdGl2ZUZhY2V0UmVmaW5lbWVudCIsInJlbW92ZVRhZ1JlZmluZW1lbnQiLCJ0IiwidG9nZ2xlUmVmaW5lbWVudCIsInRvZ2dsZUZhY2V0UmVmaW5lbWVudCIsInRvZ2dsZUNvbmp1bmN0aXZlRmFjZXRSZWZpbmVtZW50IiwidG9nZ2xlRGlzanVuY3RpdmVGYWNldFJlZmluZW1lbnQiLCJ0b2dnbGVFeGNsdWRlRmFjZXRSZWZpbmVtZW50Iiwic2VwYXJhdG9yIiwiX2dldEhpZXJhcmNoaWNhbEZhY2V0U2VwYXJhdG9yIiwiZ2V0SGllcmFyY2hpY2FsRmFjZXRCeU5hbWUiLCJ1cE9uZU9yTXVsdGlwbGVMZXZlbCIsImxhc3RJbmRleE9mIiwiYWRkSGllcmFyY2hpY2FsRmFjZXRSZWZpbmVtZW50IiwicGF0aCIsImlzSGllcmFyY2hpY2FsRmFjZXRSZWZpbmVkIiwicmVtb3ZlSGllcmFyY2hpY2FsRmFjZXRSZWZpbmVtZW50IiwidG9nZ2xlVGFnUmVmaW5lbWVudCIsImlzRmFjZXRSZWZpbmVkIiwiaXNFeGNsdWRlUmVmaW5lZCIsImlzRGlzanVuY3RpdmVGYWNldFJlZmluZWQiLCJyZWZpbmVtZW50cyIsIkJvb2xlYW4iLCJpc09wZXJhdG9yRGVmaW5lZCIsImlzQXR0cmlidXRlVmFsdWVEZWZpbmVkIiwiZ2V0UmVmaW5lZERpc2p1bmN0aXZlRmFjZXRzIiwiZGlzanVuY3RpdmVOdW1lcmljUmVmaW5lZEZhY2V0cyIsImdldFJlZmluZWRIaWVyYXJjaGljYWxGYWNldHMiLCJzb3J0IiwiZ2V0VW5yZWZpbmVkRGlzanVuY3RpdmVGYWNldHMiLCJyZWZpbmVkRmFjZXRzIiwibWFuYWdlZFBhcmFtZXRlcnMiLCJnZXRRdWVyeVBhcmFtcyIsInF1ZXJ5UGFyYW1zIiwic2V0UXVlcnlQYXJhbWV0ZXIiLCJzZXRQYXJhbWV0ZXIiLCJwYXJhbWV0ZXIiLCJlcnJvciIsIm5leHRXaXRoTnVtYmVycyIsInByZXZpb3VzUGxhaW5PYmplY3QiLCJhY2MiLCJuZXh0UGxhaW5PYmplY3QiLCJwcmV2aW91cyIsImlzUHJldmlvdXNWYWx1ZURlZmluZWQiLCJpc05leHRWYWx1ZURlZmluZWQiLCJyZXNldFBhZ2UiLCJfZ2V0SGllcmFyY2hpY2FsRmFjZXRTb3J0QnkiLCJzb3J0QnkiLCJfZ2V0SGllcmFyY2hpY2FsUm9vdFBhdGgiLCJfZ2V0SGllcmFyY2hpY2FsU2hvd1BhcmVudExldmVsIiwic2hvd1BhcmVudExldmVsIiwiaGllcmFyY2hpY2FsRmFjZXROYW1lIiwiZ2V0SGllcmFyY2hpY2FsRmFjZXRCcmVhZGNydW1iIiwicmVmaW5lbWVudCIsInNwbGl0IiwicGFydCIsInRyaW0iLCJ0b1N0cmluZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/SearchParameters/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/SearchResults/generate-hierarchical-tree.js":
/*!**********************************************************************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/SearchResults/generate-hierarchical-tree.js ***!
  \**********************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nmodule.exports = generateTrees;\nvar fv = __webpack_require__(/*! ../functions/escapeFacetValue */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/escapeFacetValue.js\");\nvar find = __webpack_require__(/*! ../functions/find */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/find.js\");\nvar prepareHierarchicalFacetSortBy = __webpack_require__(/*! ../functions/formatSort */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/formatSort.js\");\nvar orderBy = __webpack_require__(/*! ../functions/orderBy */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/orderBy.js\");\nvar escapeFacetValue = fv.escapeFacetValue;\nvar unescapeFacetValue = fv.unescapeFacetValue;\nfunction generateTrees(state) {\n    return function generate(hierarchicalFacetResult, hierarchicalFacetIndex) {\n        var hierarchicalFacet = state.hierarchicalFacets[hierarchicalFacetIndex];\n        var hierarchicalFacetRefinement = state.hierarchicalFacetsRefinements[hierarchicalFacet.name] && state.hierarchicalFacetsRefinements[hierarchicalFacet.name][0] || \"\";\n        var hierarchicalSeparator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n        var hierarchicalRootPath = state._getHierarchicalRootPath(hierarchicalFacet);\n        var hierarchicalShowParentLevel = state._getHierarchicalShowParentLevel(hierarchicalFacet);\n        var sortBy = prepareHierarchicalFacetSortBy(state._getHierarchicalFacetSortBy(hierarchicalFacet));\n        var rootExhaustive = hierarchicalFacetResult.every(function(facetResult) {\n            return facetResult.exhaustive;\n        });\n        var generateTreeFn = generateHierarchicalTree(sortBy, hierarchicalSeparator, hierarchicalRootPath, hierarchicalShowParentLevel, hierarchicalFacetRefinement);\n        var results = hierarchicalFacetResult;\n        if (hierarchicalRootPath) {\n            results = hierarchicalFacetResult.slice(hierarchicalRootPath.split(hierarchicalSeparator).length);\n        }\n        return results.reduce(generateTreeFn, {\n            name: state.hierarchicalFacets[hierarchicalFacetIndex].name,\n            count: null,\n            isRefined: true,\n            path: null,\n            escapedValue: null,\n            exhaustive: rootExhaustive,\n            data: null\n        });\n    };\n}\nfunction generateHierarchicalTree(sortBy, hierarchicalSeparator, hierarchicalRootPath, hierarchicalShowParentLevel, currentRefinement) {\n    return function generateTree(hierarchicalTree, hierarchicalFacetResult, currentHierarchicalLevel) {\n        var parent = hierarchicalTree;\n        if (currentHierarchicalLevel > 0) {\n            var level = 0;\n            parent = hierarchicalTree;\n            while(level < currentHierarchicalLevel){\n                /**\n         * @type {object[]]} hierarchical data\n         */ var data = parent && Array.isArray(parent.data) ? parent.data : [];\n                parent = find(data, function(subtree) {\n                    return subtree.isRefined;\n                });\n                level++;\n            }\n        }\n        // we found a refined parent, let's add current level data under it\n        if (parent) {\n            // filter values in case an object has multiple categories:\n            //   {\n            //     categories: {\n            //       level0: ['beers', 'bières'],\n            //       level1: ['beers > IPA', 'bières > Belges']\n            //     }\n            //   }\n            //\n            // If parent refinement is `beers`, then we do not want to have `bières > Belges`\n            // showing up\n            var picked = Object.keys(hierarchicalFacetResult.data).map(function(facetValue) {\n                return [\n                    facetValue,\n                    hierarchicalFacetResult.data[facetValue]\n                ];\n            }).filter(function(tuple) {\n                var facetValue = tuple[0];\n                return onlyMatchingTree(facetValue, parent.path || hierarchicalRootPath, currentRefinement, hierarchicalSeparator, hierarchicalRootPath, hierarchicalShowParentLevel);\n            });\n            parent.data = orderBy(picked.map(function(tuple) {\n                var facetValue = tuple[0];\n                var facetCount = tuple[1];\n                return format(facetCount, facetValue, hierarchicalSeparator, unescapeFacetValue(currentRefinement), hierarchicalFacetResult.exhaustive);\n            }), sortBy[0], sortBy[1]);\n        }\n        return hierarchicalTree;\n    };\n}\n// eslint-disable-next-line max-params\nfunction onlyMatchingTree(facetValue, parentPath, currentRefinement, hierarchicalSeparator, hierarchicalRootPath, hierarchicalShowParentLevel) {\n    // we want the facetValue is a child of hierarchicalRootPath\n    if (hierarchicalRootPath && (facetValue.indexOf(hierarchicalRootPath) !== 0 || hierarchicalRootPath === facetValue)) {\n        return false;\n    }\n    // we always want root levels (only when there is no prefix path)\n    return !hierarchicalRootPath && facetValue.indexOf(hierarchicalSeparator) === -1 || // if there is a rootPath, being root level mean 1 level under rootPath\n    hierarchicalRootPath && facetValue.split(hierarchicalSeparator).length - hierarchicalRootPath.split(hierarchicalSeparator).length === 1 || // if current refinement is a root level and current facetValue is a root level,\n    // keep the facetValue\n    facetValue.indexOf(hierarchicalSeparator) === -1 && currentRefinement.indexOf(hierarchicalSeparator) === -1 || // currentRefinement is a child of the facet value\n    currentRefinement.indexOf(facetValue) === 0 || // facetValue is a child of the current parent, add it\n    facetValue.indexOf(parentPath + hierarchicalSeparator) === 0 && (hierarchicalShowParentLevel || facetValue.indexOf(currentRefinement) === 0);\n}\nfunction format(facetCount, facetValue, hierarchicalSeparator, currentRefinement, exhaustive) {\n    var parts = facetValue.split(hierarchicalSeparator);\n    return {\n        name: parts[parts.length - 1].trim(),\n        path: facetValue,\n        escapedValue: escapeFacetValue(facetValue),\n        count: facetCount,\n        isRefined: currentRefinement === facetValue || currentRefinement.indexOf(facetValue + hierarchicalSeparator) === 0,\n        exhaustive: exhaustive,\n        data: null\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9ub2RlX21vZHVsZXMvYWxnb2xpYXNlYXJjaC1oZWxwZXIvc3JjL1NlYXJjaFJlc3VsdHMvZ2VuZXJhdGUtaGllcmFyY2hpY2FsLXRyZWUuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFFQUEsT0FBT0MsT0FBTyxHQUFHQztBQUVqQixJQUFJQyxLQUFLQyxtQkFBT0EsQ0FBQztBQUNqQixJQUFJQyxPQUFPRCxtQkFBT0EsQ0FBQztBQUNuQixJQUFJRSxpQ0FBaUNGLG1CQUFPQSxDQUFDO0FBQzdDLElBQUlHLFVBQVVILG1CQUFPQSxDQUFDO0FBQ3RCLElBQUlJLG1CQUFtQkwsR0FBR0ssZ0JBQWdCO0FBQzFDLElBQUlDLHFCQUFxQk4sR0FBR00sa0JBQWtCO0FBRTlDLFNBQVNQLGNBQWNRLEtBQUs7SUFDMUIsT0FBTyxTQUFTQyxTQUFTQyx1QkFBdUIsRUFBRUMsc0JBQXNCO1FBQ3RFLElBQUlDLG9CQUFvQkosTUFBTUssa0JBQWtCLENBQUNGLHVCQUF1QjtRQUN4RSxJQUFJRyw4QkFDRixNQUFPQyw2QkFBNkIsQ0FBQ0gsa0JBQWtCSSxJQUFJLENBQUMsSUFDMURSLE1BQU1PLDZCQUE2QixDQUFDSCxrQkFBa0JJLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFDaEU7UUFDRixJQUFJQyx3QkFDRlQsTUFBTVUsOEJBQThCLENBQUNOO1FBQ3ZDLElBQUlPLHVCQUNGWCxNQUFNWSx3QkFBd0IsQ0FBQ1I7UUFDakMsSUFBSVMsOEJBQ0ZiLE1BQU1jLCtCQUErQixDQUFDVjtRQUN4QyxJQUFJVyxTQUFTbkIsK0JBQ1hJLE1BQU1nQiwyQkFBMkIsQ0FBQ1o7UUFHcEMsSUFBSWEsaUJBQWlCZix3QkFBd0JnQixLQUFLLENBQUMsU0FBVUMsV0FBVztZQUN0RSxPQUFPQSxZQUFZQyxVQUFVO1FBQy9CO1FBRUEsSUFBSUMsaUJBQWlCQyx5QkFDbkJQLFFBQ0FOLHVCQUNBRSxzQkFDQUUsNkJBQ0FQO1FB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Q3JCb0IsV0FBV08sT0FBTyxDQUFDNUMsMkJBQTJCLENBQUMsS0FDOUN3QixrQkFBa0JvQixPQUFPLENBQUM1QywyQkFBMkIsQ0FBQyxLQUN4RCxrREFBa0Q7SUFDbER3QixrQkFBa0JvQixPQUFPLENBQUNQLGdCQUFnQixLQUMxQyxzREFBc0Q7SUFDckRBLFdBQVdPLE9BQU8sQ0FBQ0QsYUFBYTNDLDJCQUEyQixLQUN6REksQ0FBQUEsK0JBQ0NpQyxXQUFXTyxPQUFPLENBQUNwQix1QkFBdUI7QUFFbEQ7QUFFQSxTQUFTa0IsT0FDUEQsVUFBVSxFQUNWSixVQUFVLEVBQ1ZyQyxxQkFBcUIsRUFDckJ3QixpQkFBaUIsRUFDakJiLFVBQVU7SUFFVixJQUFJa0MsUUFBUVIsV0FBV3JCLEtBQUssQ0FBQ2hCO0lBQzdCLE9BQU87UUFDTEQsTUFBTThDLEtBQUssQ0FBQ0EsTUFBTTVCLE1BQU0sR0FBRyxFQUFFLENBQUM2QixJQUFJO1FBQ2xDekIsTUFBTWdCO1FBQ05mLGNBQWNqQyxpQkFBaUJnRDtRQUMvQmxCLE9BQU9zQjtRQUNQckIsV0FDRUksc0JBQXNCYSxjQUN0QmIsa0JBQWtCb0IsT0FBTyxDQUFDUCxhQUFhckMsMkJBQTJCO1FBQ3BFVyxZQUFZQTtRQUNaWSxNQUFNO0lBQ1I7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL21lZHVzYS1uZXh0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LWluc3RhbnRzZWFyY2gtaG9va3Mvbm9kZV9tb2R1bGVzL2FsZ29saWFzZWFyY2gtaGVscGVyL3NyYy9TZWFyY2hSZXN1bHRzL2dlbmVyYXRlLWhpZXJhcmNoaWNhbC10cmVlLmpzP2RhYjMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdlbmVyYXRlVHJlZXM7XG5cbnZhciBmdiA9IHJlcXVpcmUoJy4uL2Z1bmN0aW9ucy9lc2NhcGVGYWNldFZhbHVlJyk7XG52YXIgZmluZCA9IHJlcXVpcmUoJy4uL2Z1bmN0aW9ucy9maW5kJyk7XG52YXIgcHJlcGFyZUhpZXJhcmNoaWNhbEZhY2V0U29ydEJ5ID0gcmVxdWlyZSgnLi4vZnVuY3Rpb25zL2Zvcm1hdFNvcnQnKTtcbnZhciBvcmRlckJ5ID0gcmVxdWlyZSgnLi4vZnVuY3Rpb25zL29yZGVyQnknKTtcbnZhciBlc2NhcGVGYWNldFZhbHVlID0gZnYuZXNjYXBlRmFjZXRWYWx1ZTtcbnZhciB1bmVzY2FwZUZhY2V0VmFsdWUgPSBmdi51bmVzY2FwZUZhY2V0VmFsdWU7XG5cbmZ1bmN0aW9uIGdlbmVyYXRlVHJlZXMoc3RhdGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGdlbmVyYXRlKGhpZXJhcmNoaWNhbEZhY2V0UmVzdWx0LCBoaWVyYXJjaGljYWxGYWNldEluZGV4KSB7XG4gICAgdmFyIGhpZXJhcmNoaWNhbEZhY2V0ID0gc3RhdGUuaGllcmFyY2hpY2FsRmFjZXRzW2hpZXJhcmNoaWNhbEZhY2V0SW5kZXhdO1xuICAgIHZhciBoaWVyYXJjaGljYWxGYWNldFJlZmluZW1lbnQgPVxuICAgICAgKHN0YXRlLmhpZXJhcmNoaWNhbEZhY2V0c1JlZmluZW1lbnRzW2hpZXJhcmNoaWNhbEZhY2V0Lm5hbWVdICYmXG4gICAgICAgIHN0YXRlLmhpZXJhcmNoaWNhbEZhY2V0c1JlZmluZW1lbnRzW2hpZXJhcmNoaWNhbEZhY2V0Lm5hbWVdWzBdKSB8fFxuICAgICAgJyc7XG4gICAgdmFyIGhpZXJhcmNoaWNhbFNlcGFyYXRvciA9XG4gICAgICBzdGF0ZS5fZ2V0SGllcmFyY2hpY2FsRmFjZXRTZXBhcmF0b3IoaGllcmFyY2hpY2FsRmFjZXQpO1xuICAgIHZhciBoaWVyYXJjaGljYWxSb290UGF0aCA9XG4gICAgICBzdGF0ZS5fZ2V0SGllcmFyY2hpY2FsUm9vdFBhdGgoaGllcmFyY2hpY2FsRmFjZXQpO1xuICAgIHZhciBoaWVyYXJjaGljYWxTaG93UGFyZW50TGV2ZWwgPVxuICAgICAgc3RhdGUuX2dldEhpZXJhcmNoaWNhbFNob3dQYXJlbnRMZXZlbChoaWVyYXJjaGljYWxGYWNldCk7XG4gICAgdmFyIHNvcnRCeSA9IHByZXBhcmVIaWVyYXJjaGljYWxGYWNldFNvcnRCeShcbiAgICAgIHN0YXRlLl9nZXRIaWVyYXJjaGljYWxGYWNldFNvcnRCeShoaWVyYXJjaGljYWxGYWNldClcbiAgICApO1xuXG4gICAgdmFyIHJvb3RFeGhhdXN0aXZlID0gaGllcmFyY2hpY2FsRmFjZXRSZXN1bHQuZXZlcnkoZnVuY3Rpb24gKGZhY2V0UmVzdWx0KSB7XG4gICAgICByZXR1cm4gZmFjZXRSZXN1bHQuZXhoYXVzdGl2ZTtcbiAgICB9KTtcblxuICAgIHZhciBnZW5lcmF0ZVRyZWVGbiA9IGdlbmVyYXRlSGllcmFyY2hpY2FsVHJlZShcbiAgICAgIHNvcnRCeSxcbiAgICAgIGhpZXJhcmNoaWNhbFNlcGFyYXRvcixcbiAgICAgIGhpZXJhcmNoaWNhbFJvb3RQYXRoLFxuICAgICAgaGllcmFyY2hpY2FsU2hvd1BhcmVudExldmVsLFxuICAgICAgaGllcmFyY2hpY2FsRmFjZXRSZWZpbmVtZW50XG4gICAgKTtcblxuICAgIHZhciByZXN1bHRzID0gaGllcmFyY2hpY2FsRmFjZXRSZXN1bHQ7XG5cbiAgICBpZiAoaGllcmFyY2hpY2FsUm9vdFBhdGgpIHtcbiAgICAgIHJlc3VsdHMgPSBoaWVyYXJjaGljYWxGYWNldFJlc3VsdC5zbGljZShcbiAgICAgICAgaGllcmFyY2hpY2FsUm9vdFBhdGguc3BsaXQoaGllcmFyY2hpY2FsU2VwYXJhdG9yKS5sZW5ndGhcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdHMucmVkdWNlKGdlbmVyYXRlVHJlZUZuLCB7XG4gICAgICBuYW1lOiBzdGF0ZS5oaWVyYXJjaGljYWxGYWNldHNbaGllcmFyY2hpY2FsRmFjZXRJbmRleF0ubmFtZSxcbiAgICAgIGNvdW50OiBudWxsLCAvLyByb290IGxldmVsLCBubyBjb3VudFxuICAgICAgaXNSZWZpbmVkOiB0cnVlLCAvLyByb290IGxldmVsLCBhbHdheXMgcmVmaW5lZFxuICAgICAgcGF0aDogbnVsbCwgLy8gcm9vdCBsZXZlbCwgbm8gcGF0aFxuICAgICAgZXNjYXBlZFZhbHVlOiBudWxsLFxuICAgICAgZXhoYXVzdGl2ZTogcm9vdEV4aGF1c3RpdmUsXG4gICAgICBkYXRhOiBudWxsLFxuICAgIH0pO1xuICB9O1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZUhpZXJhcmNoaWNhbFRyZWUoXG4gIHNvcnRCeSxcbiAgaGllcmFyY2hpY2FsU2VwYXJhdG9yLFxuICBoaWVyYXJjaGljYWxSb290UGF0aCxcbiAgaGllcmFyY2hpY2FsU2hvd1BhcmVudExldmVsLFxuICBjdXJyZW50UmVmaW5lbWVudFxuKSB7XG4gIHJldHVybiBmdW5jdGlvbiBnZW5lcmF0ZVRyZWUoXG4gICAgaGllcmFyY2hpY2FsVHJlZSxcbiAgICBoaWVyYXJjaGljYWxGYWNldFJlc3VsdCxcbiAgICBjdXJyZW50SGllcmFyY2hpY2FsTGV2ZWxcbiAgKSB7XG4gICAgdmFyIHBhcmVudCA9IGhpZXJhcmNoaWNhbFRyZWU7XG5cbiAgICBpZiAoY3VycmVudEhpZXJhcmNoaWNhbExldmVsID4gMCkge1xuICAgICAgdmFyIGxldmVsID0gMDtcblxuICAgICAgcGFyZW50ID0gaGllcmFyY2hpY2FsVHJlZTtcblxuICAgICAgd2hpbGUgKGxldmVsIDwgY3VycmVudEhpZXJhcmNoaWNhbExldmVsKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7b2JqZWN0W11dfSBoaWVyYXJjaGljYWwgZGF0YVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIGRhdGEgPSBwYXJlbnQgJiYgQXJyYXkuaXNBcnJheShwYXJlbnQuZGF0YSkgPyBwYXJlbnQuZGF0YSA6IFtdO1xuICAgICAgICBwYXJlbnQgPSBmaW5kKGRhdGEsIGZ1bmN0aW9uIChzdWJ0cmVlKSB7XG4gICAgICAgICAgcmV0dXJuIHN1YnRyZWUuaXNSZWZpbmVkO1xuICAgICAgICB9KTtcbiAgICAgICAgbGV2ZWwrKztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB3ZSBmb3VuZCBhIHJlZmluZWQgcGFyZW50LCBsZXQncyBhZGQgY3VycmVudCBsZXZlbCBkYXRhIHVuZGVyIGl0XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgLy8gZmlsdGVyIHZhbHVlcyBpbiBjYXNlIGFuIG9iamVjdCBoYXMgbXVsdGlwbGUgY2F0ZWdvcmllczpcbiAgICAgIC8vICAge1xuICAgICAgLy8gICAgIGNhdGVnb3JpZXM6IHtcbiAgICAgIC8vICAgICAgIGxldmVsMDogWydiZWVycycsICdiacOocmVzJ10sXG4gICAgICAvLyAgICAgICBsZXZlbDE6IFsnYmVlcnMgPiBJUEEnLCAnYmnDqHJlcyA+IEJlbGdlcyddXG4gICAgICAvLyAgICAgfVxuICAgICAgLy8gICB9XG4gICAgICAvL1xuICAgICAgLy8gSWYgcGFyZW50IHJlZmluZW1lbnQgaXMgYGJlZXJzYCwgdGhlbiB3ZSBkbyBub3Qgd2FudCB0byBoYXZlIGBiacOocmVzID4gQmVsZ2VzYFxuICAgICAgLy8gc2hvd2luZyB1cFxuXG4gICAgICB2YXIgcGlja2VkID0gT2JqZWN0LmtleXMoaGllcmFyY2hpY2FsRmFjZXRSZXN1bHQuZGF0YSlcbiAgICAgICAgLm1hcChmdW5jdGlvbiAoZmFjZXRWYWx1ZSkge1xuICAgICAgICAgIHJldHVybiBbZmFjZXRWYWx1ZSwgaGllcmFyY2hpY2FsRmFjZXRSZXN1bHQuZGF0YVtmYWNldFZhbHVlXV07XG4gICAgICAgIH0pXG4gICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHR1cGxlKSB7XG4gICAgICAgICAgdmFyIGZhY2V0VmFsdWUgPSB0dXBsZVswXTtcbiAgICAgICAgICByZXR1cm4gb25seU1hdGNoaW5nVHJlZShcbiAgICAgICAgICAgIGZhY2V0VmFsdWUsXG4gICAgICAgICAgICBwYXJlbnQucGF0aCB8fCBoaWVyYXJjaGljYWxSb290UGF0aCxcbiAgICAgICAgICAgIGN1cnJlbnRSZWZpbmVtZW50LFxuICAgICAgICAgICAgaGllcmFyY2hpY2FsU2VwYXJhdG9yLFxuICAgICAgICAgICAgaGllcmFyY2hpY2FsUm9vdFBhdGgsXG4gICAgICAgICAgICBoaWVyYXJjaGljYWxTaG93UGFyZW50TGV2ZWxcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcblxuICAgICAgcGFyZW50LmRhdGEgPSBvcmRlckJ5KFxuICAgICAgICBwaWNrZWQubWFwKGZ1bmN0aW9uICh0dXBsZSkge1xuICAgICAgICAgIHZhciBmYWNldFZhbHVlID0gdHVwbGVbMF07XG4gICAgICAgICAgdmFyIGZhY2V0Q291bnQgPSB0dXBsZVsxXTtcblxuICAgICAgICAgIHJldHVybiBmb3JtYXQoXG4gICAgICAgICAgICBmYWNldENvdW50LFxuICAgICAgICAgICAgZmFjZXRWYWx1ZSxcbiAgICAgICAgICAgIGhpZXJhcmNoaWNhbFNlcGFyYXRvcixcbiAgICAgICAgICAgIHVuZXNjYXBlRmFjZXRWYWx1ZShjdXJyZW50UmVmaW5lbWVudCksXG4gICAgICAgICAgICBoaWVyYXJjaGljYWxGYWNldFJlc3VsdC5leGhhdXN0aXZlXG4gICAgICAgICAgKTtcbiAgICAgICAgfSksXG4gICAgICAgIHNvcnRCeVswXSxcbiAgICAgICAgc29ydEJ5WzFdXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBoaWVyYXJjaGljYWxUcmVlO1xuICB9O1xufVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LXBhcmFtc1xuZnVuY3Rpb24gb25seU1hdGNoaW5nVHJlZShcbiAgZmFjZXRWYWx1ZSxcbiAgcGFyZW50UGF0aCxcbiAgY3VycmVudFJlZmluZW1lbnQsXG4gIGhpZXJhcmNoaWNhbFNlcGFyYXRvcixcbiAgaGllcmFyY2hpY2FsUm9vdFBhdGgsXG4gIGhpZXJhcmNoaWNhbFNob3dQYXJlbnRMZXZlbFxuKSB7XG4gIC8vIHdlIHdhbnQgdGhlIGZhY2V0VmFsdWUgaXMgYSBjaGlsZCBvZiBoaWVyYXJjaGljYWxSb290UGF0aFxuICBpZiAoXG4gICAgaGllcmFyY2hpY2FsUm9vdFBhdGggJiZcbiAgICAoZmFjZXRWYWx1ZS5pbmRleE9mKGhpZXJhcmNoaWNhbFJvb3RQYXRoKSAhPT0gMCB8fFxuICAgICAgaGllcmFyY2hpY2FsUm9vdFBhdGggPT09IGZhY2V0VmFsdWUpXG4gICkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIHdlIGFsd2F5cyB3YW50IHJvb3QgbGV2ZWxzIChvbmx5IHdoZW4gdGhlcmUgaXMgbm8gcHJlZml4IHBhdGgpXG4gIHJldHVybiAoXG4gICAgKCFoaWVyYXJjaGljYWxSb290UGF0aCAmJlxuICAgICAgZmFjZXRWYWx1ZS5pbmRleE9mKGhpZXJhcmNoaWNhbFNlcGFyYXRvcikgPT09IC0xKSB8fFxuICAgIC8vIGlmIHRoZXJlIGlzIGEgcm9vdFBhdGgsIGJlaW5nIHJvb3QgbGV2ZWwgbWVhbiAxIGxldmVsIHVuZGVyIHJvb3RQYXRoXG4gICAgKGhpZXJhcmNoaWNhbFJvb3RQYXRoICYmXG4gICAgICBmYWNldFZhbHVlLnNwbGl0KGhpZXJhcmNoaWNhbFNlcGFyYXRvcikubGVuZ3RoIC1cbiAgICAgICAgaGllcmFyY2hpY2FsUm9vdFBhdGguc3BsaXQoaGllcmFyY2hpY2FsU2VwYXJhdG9yKS5sZW5ndGggPT09XG4gICAgICAgIDEpIHx8XG4gICAgLy8gaWYgY3VycmVudCByZWZpbmVtZW50IGlzIGEgcm9vdCBsZXZlbCBhbmQgY3VycmVudCBmYWNldFZhbHVlIGlzIGEgcm9vdCBsZXZlbCxcbiAgICAvLyBrZWVwIHRoZSBmYWNldFZhbHVlXG4gICAgKGZhY2V0VmFsdWUuaW5kZXhPZihoaWVyYXJjaGljYWxTZXBhcmF0b3IpID09PSAtMSAmJlxuICAgICAgY3VycmVudFJlZmluZW1lbnQuaW5kZXhPZihoaWVyYXJjaGljYWxTZXBhcmF0b3IpID09PSAtMSkgfHxcbiAgICAvLyBjdXJyZW50UmVmaW5lbWVudCBpcyBhIGNoaWxkIG9mIHRoZSBmYWNldCB2YWx1ZVxuICAgIGN1cnJlbnRSZWZpbmVtZW50LmluZGV4T2YoZmFjZXRWYWx1ZSkgPT09IDAgfHxcbiAgICAvLyBmYWNldFZhbHVlIGlzIGEgY2hpbGQgb2YgdGhlIGN1cnJlbnQgcGFyZW50LCBhZGQgaXRcbiAgICAoZmFjZXRWYWx1ZS5pbmRleE9mKHBhcmVudFBhdGggKyBoaWVyYXJjaGljYWxTZXBhcmF0b3IpID09PSAwICYmXG4gICAgICAoaGllcmFyY2hpY2FsU2hvd1BhcmVudExldmVsIHx8XG4gICAgICAgIGZhY2V0VmFsdWUuaW5kZXhPZihjdXJyZW50UmVmaW5lbWVudCkgPT09IDApKVxuICApO1xufVxuXG5mdW5jdGlvbiBmb3JtYXQoXG4gIGZhY2V0Q291bnQsXG4gIGZhY2V0VmFsdWUsXG4gIGhpZXJhcmNoaWNhbFNlcGFyYXRvcixcbiAgY3VycmVudFJlZmluZW1lbnQsXG4gIGV4aGF1c3RpdmVcbikge1xuICB2YXIgcGFydHMgPSBmYWNldFZhbHVlLnNwbGl0KGhpZXJhcmNoaWNhbFNlcGFyYXRvcik7XG4gIHJldHVybiB7XG4gICAgbmFtZTogcGFydHNbcGFydHMubGVuZ3RoIC0gMV0udHJpbSgpLFxuICAgIHBhdGg6IGZhY2V0VmFsdWUsXG4gICAgZXNjYXBlZFZhbHVlOiBlc2NhcGVGYWNldFZhbHVlKGZhY2V0VmFsdWUpLFxuICAgIGNvdW50OiBmYWNldENvdW50LFxuICAgIGlzUmVmaW5lZDpcbiAgICAgIGN1cnJlbnRSZWZpbmVtZW50ID09PSBmYWNldFZhbHVlIHx8XG4gICAgICBjdXJyZW50UmVmaW5lbWVudC5pbmRleE9mKGZhY2V0VmFsdWUgKyBoaWVyYXJjaGljYWxTZXBhcmF0b3IpID09PSAwLFxuICAgIGV4aGF1c3RpdmU6IGV4aGF1c3RpdmUsXG4gICAgZGF0YTogbnVsbCxcbiAgfTtcbn1cbiJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiZ2VuZXJhdGVUcmVlcyIsImZ2IiwicmVxdWlyZSIsImZpbmQiLCJwcmVwYXJlSGllcmFyY2hpY2FsRmFjZXRTb3J0QnkiLCJvcmRlckJ5IiwiZXNjYXBlRmFjZXRWYWx1ZSIsInVuZXNjYXBlRmFjZXRWYWx1ZSIsInN0YXRlIiwiZ2VuZXJhdGUiLCJoaWVyYXJjaGljYWxGYWNldFJlc3VsdCIsImhpZXJhcmNoaWNhbEZhY2V0SW5kZXgiLCJoaWVyYXJjaGljYWxGYWNldCIsImhpZXJhcmNoaWNhbEZhY2V0cyIsImhpZXJhcmNoaWNhbEZhY2V0UmVmaW5lbWVudCIsImhpZXJhcmNoaWNhbEZhY2V0c1JlZmluZW1lbnRzIiwibmFtZSIsImhpZXJhcmNoaWNhbFNlcGFyYXRvciIsIl9nZXRIaWVyYXJjaGljYWxGYWNldFNlcGFyYXRvciIsImhpZXJhcmNoaWNhbFJvb3RQYXRoIiwiX2dldEhpZXJhcmNoaWNhbFJvb3RQYXRoIiwiaGllcmFyY2hpY2FsU2hvd1BhcmVudExldmVsIiwiX2dldEhpZXJhcmNoaWNhbFNob3dQYXJlbnRMZXZlbCIsInNvcnRCeSIsIl9nZXRIaWVyYXJjaGljYWxGYWNldFNvcnRCeSIsInJvb3RFeGhhdXN0aXZlIiwiZXZlcnkiLCJmYWNldFJlc3VsdCIsImV4aGF1c3RpdmUiLCJnZW5lcmF0ZVRyZWVGbiIsImdlbmVyYXRlSGllcmFyY2hpY2FsVHJlZSIsInJlc3VsdHMiLCJzbGljZSIsInNwbGl0IiwibGVuZ3RoIiwicmVkdWNlIiwiY291bnQiLCJpc1JlZmluZWQiLCJwYXRoIiwiZXNjYXBlZFZhbHVlIiwiZGF0YSIsImN1cnJlbnRSZWZpbmVtZW50IiwiZ2VuZXJhdGVUcmVlIiwiaGllcmFyY2hpY2FsVHJlZSIsImN1cnJlbnRIaWVyYXJjaGljYWxMZXZlbCIsInBhcmVudCIsImxldmVsIiwiQXJyYXkiLCJpc0FycmF5Iiwic3VidHJlZSIsInBpY2tlZCIsIk9iamVjdCIsImtleXMiLCJtYXAiLCJmYWNldFZhbHVlIiwiZmlsdGVyIiwidHVwbGUiLCJvbmx5TWF0Y2hpbmdUcmVlIiwiZmFjZXRDb3VudCIsImZvcm1hdCIsInBhcmVudFBhdGgiLCJpbmRleE9mIiwicGFydHMiLCJ0cmltIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/SearchResults/generate-hierarchical-tree.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/SearchResults/index.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/SearchResults/index.js ***!
  \*************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nvar compact = __webpack_require__(/*! ../functions/compact */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/compact.js\");\nvar defaultsPure = __webpack_require__(/*! ../functions/defaultsPure */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/defaultsPure.js\");\nvar fv = __webpack_require__(/*! ../functions/escapeFacetValue */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/escapeFacetValue.js\");\nvar find = __webpack_require__(/*! ../functions/find */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/find.js\");\nvar findIndex = __webpack_require__(/*! ../functions/findIndex */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/findIndex.js\");\nvar formatSort = __webpack_require__(/*! ../functions/formatSort */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/formatSort.js\");\nvar merge = __webpack_require__(/*! ../functions/merge */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/merge.js\");\nvar orderBy = __webpack_require__(/*! ../functions/orderBy */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/orderBy.js\");\nvar escapeFacetValue = fv.escapeFacetValue;\nvar unescapeFacetValue = fv.unescapeFacetValue;\nvar generateHierarchicalTree = __webpack_require__(/*! ./generate-hierarchical-tree */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/SearchResults/generate-hierarchical-tree.js\");\n/**\n * @typedef SearchResults.Facet\n * @type {object}\n * @property {string} name name of the attribute in the record\n * @property {object} data the faceting data: value, number of entries\n * @property {object} stats undefined unless facet_stats is retrieved from algolia\n */ /**\n * @typedef SearchResults.HierarchicalFacet\n * @type {object}\n * @property {string} name name of the current value given the hierarchical level, trimmed.\n * If root node, you get the facet name\n * @property {number} count number of objects matching this hierarchical value\n * @property {string} path the current hierarchical value full path\n * @property {boolean} isRefined `true` if the current value was refined, `false` otherwise\n * @property {HierarchicalFacet[]} data sub values for the current level\n */ /**\n * @typedef SearchResults.FacetValue\n * @type {object}\n * @property {string} name the facet value itself\n * @property {number} count times this facet appears in the results\n * @property {boolean} isRefined is the facet currently selected\n * @property {boolean} isExcluded is the facet currently excluded (only for conjunctive facets)\n */ /**\n * @typedef Refinement\n * @type {object}\n * @property {string} type the type of filter used:\n * `numeric`, `facet`, `exclude`, `disjunctive`, `hierarchical`\n * @property {string} attributeName name of the attribute used for filtering\n * @property {string} name the value of the filter\n * @property {number} numericValue the value as a number. Only for numeric filters.\n * @property {string} operator the operator used. Only for numeric filters.\n * @property {number} count the number of computed hits for this filter. Only on facets.\n * @property {boolean} exhaustive if the count is exhaustive\n */ /**\n * Turn an array of attributes in an object of attributes with their position in the array as value\n * @param {string[]} attributes the list of attributes in the record\n * @return {object} the list of attributes indexed by attribute name\n */ function getIndices(attributes) {\n    var indices = {};\n    attributes.forEach(function(val, idx) {\n        indices[val] = idx;\n    });\n    return indices;\n}\nfunction assignFacetStats(dest, facetStats, key) {\n    if (facetStats && facetStats[key]) {\n        dest.stats = facetStats[key];\n    }\n}\n/**\n * @typedef {Object} HierarchicalFacet\n * @property {string} name\n * @property {string[]} attributes\n */ /**\n * @param {HierarchicalFacet[]} hierarchicalFacets All hierarchical facets\n * @param {string} hierarchicalAttributeName The name of the hierarchical attribute\n * @return {HierarchicalFacet} The hierarchical facet matching the attribute name\n */ function findMatchingHierarchicalFacetFromAttributeName(hierarchicalFacets, hierarchicalAttributeName) {\n    return find(hierarchicalFacets, function facetKeyMatchesAttribute(hierarchicalFacet) {\n        var facetNames = hierarchicalFacet.attributes || [];\n        return facetNames.indexOf(hierarchicalAttributeName) > -1;\n    });\n}\n// eslint-disable-next-line valid-jsdoc\n/**\n * Constructor for SearchResults\n * @class\n * @classdesc SearchResults contains the results of a query to Algolia using the\n * {@link AlgoliaSearchHelper}.\n * @param {SearchParameters} state state that led to the response\n * @param {array.<object>} results the results from algolia client\n * @example <caption>SearchResults of the first query in\n * <a href=\"http://demos.algolia.com/instant-search-demo\">the instant search demo</a></caption>\n{\n   \"hitsPerPage\": 10,\n   \"processingTimeMS\": 2,\n   \"facets\": [\n      {\n         \"name\": \"type\",\n         \"data\": {\n            \"HardGood\": 6627,\n            \"BlackTie\": 550,\n            \"Music\": 665,\n            \"Software\": 131,\n            \"Game\": 456,\n            \"Movie\": 1571\n         },\n         \"exhaustive\": false\n      },\n      {\n         \"exhaustive\": false,\n         \"data\": {\n            \"Free shipping\": 5507\n         },\n         \"name\": \"shipping\"\n      }\n  ],\n   \"hits\": [\n      {\n         \"thumbnailImage\": \"http://img.bbystatic.com/BestBuy_US/images/products/1688/1688832_54x108_s.gif\",\n         \"_highlightResult\": {\n            \"shortDescription\": {\n               \"matchLevel\": \"none\",\n               \"value\": \"Safeguard your PC, Mac, Android and iOS devices with comprehensive Internet protection\",\n               \"matchedWords\": []\n            },\n            \"category\": {\n               \"matchLevel\": \"none\",\n               \"value\": \"Computer Security Software\",\n               \"matchedWords\": []\n            },\n            \"manufacturer\": {\n               \"matchedWords\": [],\n               \"value\": \"Webroot\",\n               \"matchLevel\": \"none\"\n            },\n            \"name\": {\n               \"value\": \"Webroot SecureAnywhere Internet Security (3-Device) (1-Year Subscription) - Mac/Windows\",\n               \"matchedWords\": [],\n               \"matchLevel\": \"none\"\n            }\n         },\n         \"image\": \"http://img.bbystatic.com/BestBuy_US/images/products/1688/1688832_105x210_sc.jpg\",\n         \"shipping\": \"Free shipping\",\n         \"bestSellingRank\": 4,\n         \"shortDescription\": \"Safeguard your PC, Mac, Android and iOS devices with comprehensive Internet protection\",\n         \"url\": \"http://www.bestbuy.com/site/webroot-secureanywhere-internet-security-3-devi…d=1219060687969&skuId=1688832&cmp=RMX&ky=2d3GfEmNIzjA0vkzveHdZEBgpPCyMnLTJ\",\n         \"name\": \"Webroot SecureAnywhere Internet Security (3-Device) (1-Year Subscription) - Mac/Windows\",\n         \"category\": \"Computer Security Software\",\n         \"salePrice_range\": \"1 - 50\",\n         \"objectID\": \"1688832\",\n         \"type\": \"Software\",\n         \"customerReviewCount\": 5980,\n         \"salePrice\": 49.99,\n         \"manufacturer\": \"Webroot\"\n      },\n      ....\n  ],\n   \"nbHits\": 10000,\n   \"disjunctiveFacets\": [\n      {\n         \"exhaustive\": false,\n         \"data\": {\n            \"5\": 183,\n            \"12\": 112,\n            \"7\": 149,\n            ...\n         },\n         \"name\": \"customerReviewCount\",\n         \"stats\": {\n            \"max\": 7461,\n            \"avg\": 157.939,\n            \"min\": 1\n         }\n      },\n      {\n         \"data\": {\n            \"Printer Ink\": 142,\n            \"Wireless Speakers\": 60,\n            \"Point & Shoot Cameras\": 48,\n            ...\n         },\n         \"name\": \"category\",\n         \"exhaustive\": false\n      },\n      {\n         \"exhaustive\": false,\n         \"data\": {\n            \"> 5000\": 2,\n            \"1 - 50\": 6524,\n            \"501 - 2000\": 566,\n            \"201 - 500\": 1501,\n            \"101 - 200\": 1360,\n            \"2001 - 5000\": 47\n         },\n         \"name\": \"salePrice_range\"\n      },\n      {\n         \"data\": {\n            \"Dynex™\": 202,\n            \"Insignia™\": 230,\n            \"PNY\": 72,\n            ...\n         },\n         \"name\": \"manufacturer\",\n         \"exhaustive\": false\n      }\n  ],\n   \"query\": \"\",\n   \"nbPages\": 100,\n   \"page\": 0,\n   \"index\": \"bestbuy\"\n}\n **/ function SearchResults(state, results, options) {\n    var mainSubResponse = results[0];\n    this._rawResults = results;\n    // eslint-disable-next-line consistent-this\n    var self = this;\n    // https://www.algolia.com/doc/api-reference/api-methods/search/#response\n    Object.keys(mainSubResponse).forEach(function(key) {\n        self[key] = mainSubResponse[key];\n    });\n    // Make every key of the result options reachable from the instance\n    Object.keys(options || {}).forEach(function(key) {\n        self[key] = options[key];\n    });\n    /**\n   * query used to generate the results\n   * @name query\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */ /**\n   * The query as parsed by the engine given all the rules.\n   * @name parsedQuery\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */ /**\n   * all the records that match the search parameters. Each record is\n   * augmented with a new attribute `_highlightResult`\n   * which is an object keyed by attribute and with the following properties:\n   * - `value` : the value of the facet highlighted (html)\n   * - `matchLevel`: `full`, `partial` or `none`, depending on how the query terms match\n   * @name hits\n   * @member {object[]}\n   * @memberof SearchResults\n   * @instance\n   */ /**\n   * index where the results come from\n   * @name index\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */ /**\n   * number of hits per page requested\n   * @name hitsPerPage\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */ /**\n   * total number of hits of this query on the index\n   * @name nbHits\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */ /**\n   * total number of pages with respect to the number of hits per page and the total number of hits\n   * @name nbPages\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */ /**\n   * current page\n   * @name page\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */ /**\n   * The position if the position was guessed by IP.\n   * @name aroundLatLng\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   * @example \"48.8637,2.3615\",\n   */ /**\n   * The radius computed by Algolia.\n   * @name automaticRadius\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   * @example \"126792922\",\n   */ /**\n   * String identifying the server used to serve this request.\n   *\n   * getRankingInfo needs to be set to `true` for this to be returned\n   *\n   * @name serverUsed\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   * @example \"c7-use-2.algolia.net\",\n   */ /**\n   * Boolean that indicates if the computation of the counts did time out.\n   * @deprecated\n   * @name timeoutCounts\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */ /**\n   * Boolean that indicates if the computation of the hits did time out.\n   * @deprecated\n   * @name timeoutHits\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */ /**\n   * True if the counts of the facets is exhaustive\n   * @name exhaustiveFacetsCount\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */ /**\n   * True if the number of hits is exhaustive\n   * @name exhaustiveNbHits\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */ /**\n   * Contains the userData if they are set by a [query rule](https://www.algolia.com/doc/guides/query-rules/query-rules-overview/).\n   * @name userData\n   * @member {object[]}\n   * @memberof SearchResults\n   * @instance\n   */ /**\n   * queryID is the unique identifier of the query used to generate the current search results.\n   * This value is only available if the `clickAnalytics` search parameter is set to `true`.\n   * @name queryID\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */ /**\n   * sum of the processing time of all the queries\n   * @name processingTimeMS\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */ this.processingTimeMS = results.reduce(function(sum, result) {\n        return result.processingTimeMS === undefined ? sum : sum + result.processingTimeMS;\n    }, 0);\n    /**\n   * disjunctive facets results\n   * @member {SearchResults.Facet[]}\n   */ this.disjunctiveFacets = [];\n    /**\n   * disjunctive facets results\n   * @member {SearchResults.HierarchicalFacet[]}\n   */ this.hierarchicalFacets = state.hierarchicalFacets.map(function initFutureTree() {\n        return [];\n    });\n    /**\n   * other facets results\n   * @member {SearchResults.Facet[]}\n   */ this.facets = [];\n    var disjunctiveFacets = state.getRefinedDisjunctiveFacets();\n    var facetsIndices = getIndices(state.facets);\n    var disjunctiveFacetsIndices = getIndices(state.disjunctiveFacets);\n    var nextDisjunctiveResult = 1;\n    // Since we send request only for disjunctive facets that have been refined,\n    // we get the facets information from the first, general, response.\n    var mainFacets = mainSubResponse.facets || {};\n    Object.keys(mainFacets).forEach(function(facetKey) {\n        var facetValueObject = mainFacets[facetKey];\n        var hierarchicalFacet = findMatchingHierarchicalFacetFromAttributeName(state.hierarchicalFacets, facetKey);\n        if (hierarchicalFacet) {\n            // Place the hierarchicalFacet data at the correct index depending on\n            // the attributes order that was defined at the helper initialization\n            var facetIndex = hierarchicalFacet.attributes.indexOf(facetKey);\n            var idxAttributeName = findIndex(state.hierarchicalFacets, function(f) {\n                return f.name === hierarchicalFacet.name;\n            });\n            self.hierarchicalFacets[idxAttributeName][facetIndex] = {\n                attribute: facetKey,\n                data: facetValueObject,\n                exhaustive: mainSubResponse.exhaustiveFacetsCount\n            };\n        } else {\n            var isFacetDisjunctive = state.disjunctiveFacets.indexOf(facetKey) !== -1;\n            var isFacetConjunctive = state.facets.indexOf(facetKey) !== -1;\n            var position;\n            if (isFacetDisjunctive) {\n                position = disjunctiveFacetsIndices[facetKey];\n                self.disjunctiveFacets[position] = {\n                    name: facetKey,\n                    data: facetValueObject,\n                    exhaustive: mainSubResponse.exhaustiveFacetsCount\n                };\n                assignFacetStats(self.disjunctiveFacets[position], mainSubResponse.facets_stats, facetKey);\n            }\n            if (isFacetConjunctive) {\n                position = facetsIndices[facetKey];\n                self.facets[position] = {\n                    name: facetKey,\n                    data: facetValueObject,\n                    exhaustive: mainSubResponse.exhaustiveFacetsCount\n                };\n                assignFacetStats(self.facets[position], mainSubResponse.facets_stats, facetKey);\n            }\n        }\n    });\n    // Make sure we do not keep holes within the hierarchical facets\n    this.hierarchicalFacets = compact(this.hierarchicalFacets);\n    // aggregate the refined disjunctive facets\n    disjunctiveFacets.forEach(function(disjunctiveFacet) {\n        var result = results[nextDisjunctiveResult];\n        var facets = result && result.facets ? result.facets : {};\n        var hierarchicalFacet = state.getHierarchicalFacetByName(disjunctiveFacet);\n        // There should be only item in facets.\n        Object.keys(facets).forEach(function(dfacet) {\n            var facetResults = facets[dfacet];\n            var position;\n            if (hierarchicalFacet) {\n                position = findIndex(state.hierarchicalFacets, function(f) {\n                    return f.name === hierarchicalFacet.name;\n                });\n                var attributeIndex = findIndex(self.hierarchicalFacets[position], function(f) {\n                    return f.attribute === dfacet;\n                });\n                // previous refinements and no results so not able to find it\n                if (attributeIndex === -1) {\n                    return;\n                }\n                self.hierarchicalFacets[position][attributeIndex].data = merge({}, self.hierarchicalFacets[position][attributeIndex].data, facetResults);\n            } else {\n                position = disjunctiveFacetsIndices[dfacet];\n                var dataFromMainRequest = mainSubResponse.facets && mainSubResponse.facets[dfacet] || {};\n                self.disjunctiveFacets[position] = {\n                    name: dfacet,\n                    data: defaultsPure({}, facetResults, dataFromMainRequest),\n                    exhaustive: result.exhaustiveFacetsCount\n                };\n                assignFacetStats(self.disjunctiveFacets[position], result.facets_stats, dfacet);\n                if (state.disjunctiveFacetsRefinements[dfacet]) {\n                    state.disjunctiveFacetsRefinements[dfacet].forEach(function(refinementValue) {\n                        // add the disjunctive refinements if it is no more retrieved\n                        if (!self.disjunctiveFacets[position].data[refinementValue] && state.disjunctiveFacetsRefinements[dfacet].indexOf(unescapeFacetValue(refinementValue)) > -1) {\n                            self.disjunctiveFacets[position].data[refinementValue] = 0;\n                        }\n                    });\n                }\n            }\n        });\n        nextDisjunctiveResult++;\n    });\n    // if we have some parent level values for hierarchical facets, merge them\n    state.getRefinedHierarchicalFacets().forEach(function(refinedFacet) {\n        var hierarchicalFacet = state.getHierarchicalFacetByName(refinedFacet);\n        var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n        var currentRefinement = state.getHierarchicalRefinement(refinedFacet);\n        // if we are already at a root refinement (or no refinement at all), there is no\n        // root level values request\n        if (currentRefinement.length === 0 || currentRefinement[0].split(separator).length < 2) {\n            return;\n        }\n        results.slice(nextDisjunctiveResult).forEach(function(result) {\n            var facets = result && result.facets ? result.facets : {};\n            Object.keys(facets).forEach(function(dfacet) {\n                var facetResults = facets[dfacet];\n                var position = findIndex(state.hierarchicalFacets, function(f) {\n                    return f.name === hierarchicalFacet.name;\n                });\n                var attributeIndex = findIndex(self.hierarchicalFacets[position], function(f) {\n                    return f.attribute === dfacet;\n                });\n                // previous refinements and no results so not able to find it\n                if (attributeIndex === -1) {\n                    return;\n                }\n                // when we always get root levels, if the hits refinement is `beers > IPA` (count: 5),\n                // then the disjunctive values will be `beers` (count: 100),\n                // but we do not want to display\n                //   | beers (100)\n                //     > IPA (5)\n                // We want\n                //   | beers (5)\n                //     > IPA (5)\n                var defaultData = {};\n                if (currentRefinement.length > 0) {\n                    var root = currentRefinement[0].split(separator)[0];\n                    defaultData[root] = self.hierarchicalFacets[position][attributeIndex].data[root];\n                }\n                self.hierarchicalFacets[position][attributeIndex].data = defaultsPure(defaultData, facetResults, self.hierarchicalFacets[position][attributeIndex].data);\n            });\n            nextDisjunctiveResult++;\n        });\n    });\n    // add the excludes\n    Object.keys(state.facetsExcludes).forEach(function(facetName) {\n        var excludes = state.facetsExcludes[facetName];\n        var position = facetsIndices[facetName];\n        self.facets[position] = {\n            name: facetName,\n            data: mainFacets[facetName],\n            exhaustive: mainSubResponse.exhaustiveFacetsCount\n        };\n        excludes.forEach(function(facetValue) {\n            self.facets[position] = self.facets[position] || {\n                name: facetName\n            };\n            self.facets[position].data = self.facets[position].data || {};\n            self.facets[position].data[facetValue] = 0;\n        });\n    });\n    /**\n   * @type {Array}\n   */ this.hierarchicalFacets = this.hierarchicalFacets.map(generateHierarchicalTree(state));\n    /**\n   * @type {Array}\n   */ this.facets = compact(this.facets);\n    /**\n   * @type {Array}\n   */ this.disjunctiveFacets = compact(this.disjunctiveFacets);\n    this._state = state;\n}\n/**\n * Get a facet object with its name\n * @deprecated\n * @param {string} name name of the faceted attribute\n * @return {SearchResults.Facet} the facet object\n */ SearchResults.prototype.getFacetByName = function(name) {\n    function predicate(facet) {\n        return facet.name === name;\n    }\n    return find(this.facets, predicate) || find(this.disjunctiveFacets, predicate) || find(this.hierarchicalFacets, predicate);\n};\n/**\n * Get the facet values of a specified attribute from a SearchResults object.\n * @private\n * @param {SearchResults} results the search results to search in\n * @param {string} attribute name of the faceted attribute to search for\n * @return {array|object} facet values. For the hierarchical facets it is an object.\n */ function extractNormalizedFacetValues(results, attribute) {\n    function predicate(facet) {\n        return facet.name === attribute;\n    }\n    if (results._state.isConjunctiveFacet(attribute)) {\n        var facet = find(results.facets, predicate);\n        if (!facet) return [];\n        return Object.keys(facet.data).map(function(name) {\n            var value = escapeFacetValue(name);\n            return {\n                name: name,\n                escapedValue: value,\n                count: facet.data[name],\n                isRefined: results._state.isFacetRefined(attribute, value),\n                isExcluded: results._state.isExcludeRefined(attribute, name)\n            };\n        });\n    } else if (results._state.isDisjunctiveFacet(attribute)) {\n        var disjunctiveFacet = find(results.disjunctiveFacets, predicate);\n        if (!disjunctiveFacet) return [];\n        return Object.keys(disjunctiveFacet.data).map(function(name) {\n            var value = escapeFacetValue(name);\n            return {\n                name: name,\n                escapedValue: value,\n                count: disjunctiveFacet.data[name],\n                isRefined: results._state.isDisjunctiveFacetRefined(attribute, value)\n            };\n        });\n    } else if (results._state.isHierarchicalFacet(attribute)) {\n        var hierarchicalFacetValues = find(results.hierarchicalFacets, predicate);\n        if (!hierarchicalFacetValues) return hierarchicalFacetValues;\n        var hierarchicalFacet = results._state.getHierarchicalFacetByName(attribute);\n        var separator = results._state._getHierarchicalFacetSeparator(hierarchicalFacet);\n        var currentRefinement = unescapeFacetValue(results._state.getHierarchicalRefinement(attribute)[0] || \"\");\n        if (currentRefinement.indexOf(hierarchicalFacet.rootPath) === 0) {\n            currentRefinement = currentRefinement.replace(hierarchicalFacet.rootPath + separator, \"\");\n        }\n        var currentRefinementSplit = currentRefinement.split(separator);\n        currentRefinementSplit.unshift(attribute);\n        setIsRefined(hierarchicalFacetValues, currentRefinementSplit, 0);\n        return hierarchicalFacetValues;\n    }\n    return undefined;\n}\n/**\n * Set the isRefined of a hierarchical facet result based on the current state.\n * @param {SearchResults.HierarchicalFacet} item Hierarchical facet to fix\n * @param {string[]} currentRefinement array of parts of the current hierarchical refinement\n * @param {number} depth recursion depth in the currentRefinement\n * @return {undefined} function mutates the item\n */ function setIsRefined(item, currentRefinement, depth) {\n    item.isRefined = item.name === currentRefinement[depth];\n    if (item.data) {\n        item.data.forEach(function(child) {\n            setIsRefined(child, currentRefinement, depth + 1);\n        });\n    }\n}\n/**\n * Sort nodes of a hierarchical or disjunctive facet results\n * @private\n * @param {function} sortFn sort function to apply\n * @param {HierarchicalFacet|Array} node node upon which we want to apply the sort\n * @param {string[]} names attribute names\n * @param {number} [level=0] current index in the names array\n * @return {HierarchicalFacet|Array} sorted node\n */ function recSort(sortFn, node, names, level) {\n    level = level || 0;\n    if (Array.isArray(node)) {\n        return sortFn(node, names[level]);\n    }\n    if (!node.data || node.data.length === 0) {\n        return node;\n    }\n    var children = node.data.map(function(childNode) {\n        return recSort(sortFn, childNode, names, level + 1);\n    });\n    var sortedChildren = sortFn(children, names[level]);\n    var newNode = defaultsPure({\n        data: sortedChildren\n    }, node);\n    return newNode;\n}\nSearchResults.DEFAULT_SORT = [\n    \"isRefined:desc\",\n    \"count:desc\",\n    \"name:asc\"\n];\nfunction vanillaSortFn(order, data) {\n    return data.sort(order);\n}\n/**\n * @typedef FacetOrdering\n * @type {Object}\n * @property {string[]} [order]\n * @property {'count' | 'alpha' | 'hidden'} [sortRemainingBy]\n */ /**\n * Sorts facet arrays via their facet ordering\n * @param {Array} facetValues the values\n * @param {FacetOrdering} facetOrdering the ordering\n * @returns {Array} the sorted facet values\n */ function sortViaFacetOrdering(facetValues, facetOrdering) {\n    var orderedFacets = [];\n    var remainingFacets = [];\n    var order = facetOrdering.order || [];\n    /**\n   * an object with the keys being the values in order, the values their index:\n   * ['one', 'two'] -> { one: 0, two: 1 }\n   */ var reverseOrder = order.reduce(function(acc, name, i) {\n        acc[name] = i;\n        return acc;\n    }, {});\n    facetValues.forEach(function(item) {\n        // hierarchical facets get sorted using their raw name\n        var name = item.path || item.name;\n        if (reverseOrder[name] !== undefined) {\n            orderedFacets[reverseOrder[name]] = item;\n        } else {\n            remainingFacets.push(item);\n        }\n    });\n    orderedFacets = orderedFacets.filter(function(facet) {\n        return facet;\n    });\n    var sortRemainingBy = facetOrdering.sortRemainingBy;\n    var ordering;\n    if (sortRemainingBy === \"hidden\") {\n        return orderedFacets;\n    } else if (sortRemainingBy === \"alpha\") {\n        ordering = [\n            [\n                \"path\",\n                \"name\"\n            ],\n            [\n                \"asc\",\n                \"asc\"\n            ]\n        ];\n    } else {\n        ordering = [\n            [\n                \"count\"\n            ],\n            [\n                \"desc\"\n            ]\n        ];\n    }\n    return orderedFacets.concat(orderBy(remainingFacets, ordering[0], ordering[1]));\n}\n/**\n * @param {SearchResults} results the search results class\n * @param {string} attribute the attribute to retrieve ordering of\n * @returns {FacetOrdering | undefined} the facet ordering\n */ function getFacetOrdering(results, attribute) {\n    return results.renderingContent && results.renderingContent.facetOrdering && results.renderingContent.facetOrdering.values && results.renderingContent.facetOrdering.values[attribute];\n}\n/**\n * Get a the list of values for a given facet attribute. Those values are sorted\n * refinement first, descending count (bigger value on top), and name ascending\n * (alphabetical order). The sort formula can overridden using either string based\n * predicates or a function.\n *\n * This method will return all the values returned by the Algolia engine plus all\n * the values already refined. This means that it can happen that the\n * `maxValuesPerFacet` [configuration](https://www.algolia.com/doc/rest-api/search#param-maxValuesPerFacet)\n * might not be respected if you have facet values that are already refined.\n * @param {string} attribute attribute name\n * @param {object} opts configuration options.\n * @param {boolean} [opts.facetOrdering]\n * Force the use of facetOrdering from the result if a sortBy is present. If\n * sortBy isn't present, facetOrdering will be used automatically.\n * @param {Array.<string> | function} opts.sortBy\n * When using strings, it consists of\n * the name of the [FacetValue](#SearchResults.FacetValue) or the\n * [HierarchicalFacet](#SearchResults.HierarchicalFacet) attributes with the\n * order (`asc` or `desc`). For example to order the value by count, the\n * argument would be `['count:asc']`.\n *\n * If only the attribute name is specified, the ordering defaults to the one\n * specified in the default value for this attribute.\n *\n * When not specified, the order is\n * ascending.  This parameter can also be a function which takes two facet\n * values and should return a number, 0 if equal, 1 if the first argument is\n * bigger or -1 otherwise.\n *\n * The default value for this attribute `['isRefined:desc', 'count:desc', 'name:asc']`\n * @return {FacetValue[]|HierarchicalFacet|undefined} depending on the type of facet of\n * the attribute requested (hierarchical, disjunctive or conjunctive)\n * @example\n * helper.on('result', function(event){\n *   //get values ordered only by name ascending using the string predicate\n *   event.results.getFacetValues('city', {sortBy: ['name:asc']});\n *   //get values  ordered only by count ascending using a function\n *   event.results.getFacetValues('city', {\n *     // this is equivalent to ['count:asc']\n *     sortBy: function(a, b) {\n *       if (a.count === b.count) return 0;\n *       if (a.count > b.count)   return 1;\n *       if (b.count > a.count)   return -1;\n *     }\n *   });\n * });\n */ SearchResults.prototype.getFacetValues = function(attribute, opts) {\n    var facetValues = extractNormalizedFacetValues(this, attribute);\n    if (!facetValues) {\n        return undefined;\n    }\n    var options = defaultsPure({}, opts, {\n        sortBy: SearchResults.DEFAULT_SORT,\n        // if no sortBy is given, attempt to sort based on facetOrdering\n        // if it is given, we still allow to sort via facet ordering first\n        facetOrdering: !(opts && opts.sortBy)\n    });\n    // eslint-disable-next-line consistent-this\n    var results = this;\n    var attributes;\n    if (Array.isArray(facetValues)) {\n        attributes = [\n            attribute\n        ];\n    } else {\n        var config = results._state.getHierarchicalFacetByName(facetValues.name);\n        attributes = config.attributes;\n    }\n    return recSort(function(data, facetName) {\n        if (options.facetOrdering) {\n            var facetOrdering = getFacetOrdering(results, facetName);\n            if (facetOrdering) {\n                return sortViaFacetOrdering(data, facetOrdering);\n            }\n        }\n        if (Array.isArray(options.sortBy)) {\n            var order = formatSort(options.sortBy, SearchResults.DEFAULT_SORT);\n            return orderBy(data, order[0], order[1]);\n        } else if (typeof options.sortBy === \"function\") {\n            return vanillaSortFn(options.sortBy, data);\n        }\n        throw new Error(\"options.sortBy is optional but if defined it must be \" + \"either an array of string (predicates) or a sorting function\");\n    }, facetValues, attributes);\n};\n/**\n * Returns the facet stats if attribute is defined and the facet contains some.\n * Otherwise returns undefined.\n * @param {string} attribute name of the faceted attribute\n * @return {object} The stats of the facet\n */ SearchResults.prototype.getFacetStats = function(attribute) {\n    if (this._state.isConjunctiveFacet(attribute)) {\n        return getFacetStatsIfAvailable(this.facets, attribute);\n    } else if (this._state.isDisjunctiveFacet(attribute)) {\n        return getFacetStatsIfAvailable(this.disjunctiveFacets, attribute);\n    }\n    return undefined;\n};\n/**\n * @typedef {Object} FacetListItem\n * @property {string} name\n */ /**\n * @param {FacetListItem[]} facetList (has more items, but enough for here)\n * @param {string} facetName The attribute to look for\n * @return {object|undefined} The stats of the facet\n */ function getFacetStatsIfAvailable(facetList, facetName) {\n    var data = find(facetList, function(facet) {\n        return facet.name === facetName;\n    });\n    return data && data.stats;\n}\n/**\n * Returns all refinements for all filters + tags. It also provides\n * additional information: count and exhaustiveness for each filter.\n *\n * See the [refinement type](#Refinement) for an exhaustive view of the available\n * data.\n *\n * Note that for a numeric refinement, results are grouped per operator, this\n * means that it will return responses for operators which are empty.\n *\n * @return {Array.<Refinement>} all the refinements\n */ SearchResults.prototype.getRefinements = function() {\n    var state = this._state;\n    // eslint-disable-next-line consistent-this\n    var results = this;\n    var res = [];\n    Object.keys(state.facetsRefinements).forEach(function(attributeName) {\n        state.facetsRefinements[attributeName].forEach(function(name) {\n            res.push(getRefinement(state, \"facet\", attributeName, name, results.facets));\n        });\n    });\n    Object.keys(state.facetsExcludes).forEach(function(attributeName) {\n        state.facetsExcludes[attributeName].forEach(function(name) {\n            res.push(getRefinement(state, \"exclude\", attributeName, name, results.facets));\n        });\n    });\n    Object.keys(state.disjunctiveFacetsRefinements).forEach(function(attributeName) {\n        state.disjunctiveFacetsRefinements[attributeName].forEach(function(name) {\n            res.push(getRefinement(state, \"disjunctive\", attributeName, name, results.disjunctiveFacets));\n        });\n    });\n    Object.keys(state.hierarchicalFacetsRefinements).forEach(function(attributeName) {\n        state.hierarchicalFacetsRefinements[attributeName].forEach(function(name) {\n            res.push(getHierarchicalRefinement(state, attributeName, name, results.hierarchicalFacets));\n        });\n    });\n    Object.keys(state.numericRefinements).forEach(function(attributeName) {\n        var operators = state.numericRefinements[attributeName];\n        Object.keys(operators).forEach(function(operator) {\n            operators[operator].forEach(function(value) {\n                res.push({\n                    type: \"numeric\",\n                    attributeName: attributeName,\n                    name: value,\n                    numericValue: value,\n                    operator: operator\n                });\n            });\n        });\n    });\n    state.tagRefinements.forEach(function(name) {\n        res.push({\n            type: \"tag\",\n            attributeName: \"_tags\",\n            name: name\n        });\n    });\n    return res;\n};\n/**\n * @typedef {Object} Facet\n * @property {string} name\n * @property {Object} data\n * @property {boolean} exhaustive\n */ /**\n * @param {SearchParameters} state the current state\n * @param {string} type the type of the refinement\n * @param {string} attributeName The attribute of the facet\n * @param {*} name The name of the facet\n * @param {Facet[]} resultsFacets facets from the results\n * @return {Refinement} the refinement\n */ function getRefinement(state, type, attributeName, name, resultsFacets) {\n    var facet = find(resultsFacets, function(f) {\n        return f.name === attributeName;\n    });\n    var count = facet && facet.data && facet.data[name] ? facet.data[name] : 0;\n    var exhaustive = facet && facet.exhaustive || false;\n    return {\n        type: type,\n        attributeName: attributeName,\n        name: name,\n        count: count,\n        exhaustive: exhaustive\n    };\n}\n/**\n * @param {SearchParameters} state the current state\n * @param {string} attributeName the attribute of the hierarchical facet\n * @param {string} name the name of the facet\n * @param {Facet[]} resultsFacets facets from the results\n * @return {HierarchicalFacet} the hierarchical facet\n */ function getHierarchicalRefinement(state, attributeName, name, resultsFacets) {\n    var facetDeclaration = state.getHierarchicalFacetByName(attributeName);\n    var separator = state._getHierarchicalFacetSeparator(facetDeclaration);\n    var split = name.split(separator);\n    var rootFacet = find(resultsFacets, function(facet) {\n        return facet.name === attributeName;\n    });\n    var facet = split.reduce(function(intermediateFacet, part) {\n        var newFacet = intermediateFacet && find(intermediateFacet.data, function(f) {\n            return f.name === part;\n        });\n        return newFacet !== undefined ? newFacet : intermediateFacet;\n    }, rootFacet);\n    var count = facet && facet.count || 0;\n    var exhaustive = facet && facet.exhaustive || false;\n    var path = facet && facet.path || \"\";\n    return {\n        type: \"hierarchical\",\n        attributeName: attributeName,\n        name: path,\n        count: count,\n        exhaustive: exhaustive\n    };\n}\nmodule.exports = SearchResults;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9ub2RlX21vZHVsZXMvYWxnb2xpYXNlYXJjaC1oZWxwZXIvc3JjL1NlYXJjaFJlc3VsdHMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFFQSxJQUFJQSxVQUFVQyxtQkFBT0EsQ0FBQztBQUN0QixJQUFJQyxlQUFlRCxtQkFBT0EsQ0FBQztBQUMzQixJQUFJRSxLQUFLRixtQkFBT0EsQ0FBQztBQUNqQixJQUFJRyxPQUFPSCxtQkFBT0EsQ0FBQztBQUNuQixJQUFJSSxZQUFZSixtQkFBT0EsQ0FBQztBQUN4QixJQUFJSyxhQUFhTCxtQkFBT0EsQ0FBQztBQUN6QixJQUFJTSxRQUFRTixtQkFBT0EsQ0FBQztBQUNwQixJQUFJTyxVQUFVUCxtQkFBT0EsQ0FBQztBQUN0QixJQUFJUSxtQkFBbUJOLEdBQUdNLGdCQUFnQjtBQUMxQyxJQUFJQyxxQkFBcUJQLEdBQUdPLGtCQUFrQjtBQUU5QyxJQUFJQywyQkFBMkJWLG1CQUFPQSxDQUFDO0FBRXZDOzs7Ozs7Q0FNQyxHQUVEOzs7Ozs7Ozs7Q0FTQyxHQUVEOzs7Ozs7O0NBT0MsR0FFRDs7Ozs7Ozs7Ozs7Q0FXQyxHQUVEOzs7O0NBSUMsR0FDRCxTQUFTVyxXQUFXQyxVQUFVO0lBQzVCLElBQUlDLFVBQVUsQ0FBQztJQUVmRCxXQUFXRSxPQUFPLENBQUMsU0FBVUMsR0FBRyxFQUFFQyxHQUFHO1FBQ25DSCxPQUFPLENBQUNFLElBQUksR0FBR0M7SUFDakI7SUFFQSxPQUFPSDtBQUNUO0FBRUEsU0FBU0ksaUJBQWlCQyxJQUFJLEVBQUVDLFVBQVUsRUFBRUMsR0FBRztJQUM3QyxJQUFJRCxjQUFjQSxVQUFVLENBQUNDLElBQUksRUFBRTtRQUNqQ0YsS0FBS0csS0FBSyxHQUFHRixVQUFVLENBQUNDLElBQUk7SUFDOUI7QUFDRjtBQUVBOzs7O0NBSUMsR0FFRDs7OztDQUlDLEdBQ0QsU0FBU0UsK0NBQ1BDLGtCQUFrQixFQUNsQkMseUJBQXlCO0lBRXpCLE9BQU9yQixLQUNMb0Isb0JBQ0EsU0FBU0UseUJBQXlCQyxpQkFBaUI7UUFDakQsSUFBSUMsYUFBYUQsa0JBQWtCZCxVQUFVLElBQUksRUFBRTtRQUNuRCxPQUFPZSxXQUFXQyxPQUFPLENBQUNKLDZCQUE2QixDQUFDO0lBQzFEO0FBRUo7QUFFQSx1Q0FBdUM7QUFDdkM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztFQWlJRSxHQUNGLFNBQVNLLGNBQWNDLEtBQUssRUFBRUMsT0FBTyxFQUFFQyxPQUFPO0lBQzVDLElBQUlDLGtCQUFrQkYsT0FBTyxDQUFDLEVBQUU7SUFFaEMsSUFBSSxDQUFDRyxXQUFXLEdBQUdIO0lBRW5CLDJDQUEyQztJQUMzQyxJQUFJSSxPQUFPLElBQUk7SUFFZix5RUFBeUU7SUFDekVDLE9BQU9DLElBQUksQ0FBQ0osaUJBQWlCbkIsT0FBTyxDQUFDLFNBQVVNLEdBQUc7UUFDaERlLElBQUksQ0FBQ2YsSUFBSSxHQUFHYSxlQUFlLENBQUNiLElBQUk7SUFDbEM7SUFFQSxtRUFBbUU7SUFDbkVnQixPQUFPQyxJQUFJLENBQUNMLFdBQVcsQ0FBQyxHQUFHbEIsT0FBTyxDQUFDLFNBQVVNLEdBQUc7UUFDOUNlLElBQUksQ0FBQ2YsSUFBSSxHQUFHWSxPQUFPLENBQUNaLElBQUk7SUFDMUI7SUFFQTs7Ozs7O0dBTUMsR0FDRDs7Ozs7O0dBTUMsR0FDRDs7Ozs7Ozs7OztHQVVDLEdBQ0Q7Ozs7OztHQU1DLEdBQ0Q7Ozs7OztHQU1DLEdBQ0Q7Ozs7OztHQU1DLEdBQ0Q7Ozs7OztHQU1DLEdBQ0Q7Ozs7OztHQU1DLEdBQ0Q7Ozs7Ozs7R0FPQyxHQUNEOzs7Ozs7O0dBT0MsR0FDRDs7Ozs7Ozs7OztHQVVDLEdBQ0Q7Ozs7Ozs7R0FPQyxHQUNEOzs7Ozs7O0dBT0MsR0FDRDs7Ozs7O0dBTUMsR0FDRDs7Ozs7O0dBTUMsR0FDRDs7Ozs7O0dBTUMsR0FDRDs7Ozs7OztHQU9DLEdBRUQ7Ozs7OztHQU1DLEdBQ0QsSUFBSSxDQUFDa0IsZ0JBQWdCLEdBQUdQLFFBQVFRLE1BQU0sQ0FBQyxTQUFVQyxHQUFHLEVBQUVDLE1BQU07UUFDMUQsT0FBT0EsT0FBT0gsZ0JBQWdCLEtBQUtJLFlBQy9CRixNQUNBQSxNQUFNQyxPQUFPSCxnQkFBZ0I7SUFDbkMsR0FBRztJQUVIOzs7R0FHQyxHQUNELElBQUksQ0FBQ0ssaUJBQWlCLEdBQUcsRUFBRTtJQUMzQjs7O0dBR0MsR0FDRCxJQUFJLENBQUNwQixrQkFBa0IsR0FBR08sTUFBTVAsa0JBQWtCLENBQUNxQixHQUFHLENBQ3BELFNBQVNDO1FBQ1AsT0FBTyxFQUFFO0lBQ1g7SUFFRjs7O0dBR0MsR0FDRCxJQUFJLENBQUNDLE1BQU0sR0FBRyxFQUFFO0lBRWhCLElBQUlILG9CQUFvQmIsTUFBTWlCLDJCQUEyQjtJQUV6RCxJQUFJQyxnQkFBZ0JyQyxXQUFXbUIsTUFBTWdCLE1BQU07SUFDM0MsSUFBSUcsMkJBQTJCdEMsV0FBV21CLE1BQU1hLGlCQUFpQjtJQUNqRSxJQUFJTyx3QkFBd0I7SUFFNUIsNEVBQTRFO0lBQzVFLG1FQUFtRTtJQUVuRSxJQUFJQyxhQUFhbEIsZ0JBQWdCYSxNQUFNLElBQUksQ0FBQztJQUU1Q1YsT0FBT0MsSUFBSSxDQUFDYyxZQUFZckMsT0FBTyxDQUFDLFNBQVVzQyxRQUFRO1FBQ2hELElBQUlDLG1CQUFtQkYsVUFBVSxDQUFDQyxTQUFTO1FBRTNDLElBQUkxQixvQkFBb0JKLCtDQUN0QlEsTUFBTVAsa0JBQWtCLEVBQ3hCNkI7UUFHRixJQUFJMUIsbUJBQW1CO1lBQ3JCLHFFQUFxRTtZQUNyRSxxRUFBcUU7WUFDckUsSUFBSTRCLGFBQWE1QixrQkFBa0JkLFVBQVUsQ0FBQ2dCLE9BQU8sQ0FBQ3dCO1lBQ3RELElBQUlHLG1CQUFtQm5ELFVBQVUwQixNQUFNUCxrQkFBa0IsRUFBRSxTQUFVaUMsQ0FBQztnQkFDcEUsT0FBT0EsRUFBRUMsSUFBSSxLQUFLL0Isa0JBQWtCK0IsSUFBSTtZQUMxQztZQUNBdEIsS0FBS1osa0JBQWtCLENBQUNnQyxpQkFBaUIsQ0FBQ0QsV0FBVyxHQUFHO2dCQUN0REksV0FBV047Z0JBQ1hPLE1BQU1OO2dCQUNOTyxZQUFZM0IsZ0JBQWdCNEIscUJBQXFCO1lBQ25EO1FBQ0YsT0FBTztZQUNMLElBQUlDLHFCQUFxQmhDLE1BQU1hLGlCQUFpQixDQUFDZixPQUFPLENBQUN3QixjQUFjLENBQUM7WUFDeEUsSUFBSVcscUJBQXFCakMsTUFBTWdCLE1BQU0sQ0FBQ2xCLE9BQU8sQ0FBQ3dCLGNBQWMsQ0FBQztZQUM3RCxJQUFJWTtZQUVKLElBQUlGLG9CQUFvQjtnQkFDdEJFLFdBQVdmLHdCQUF3QixDQUFDRyxTQUFTO2dCQUM3Q2pCLEtBQUtRLGlCQUFpQixDQUFDcUIsU0FBUyxHQUFHO29CQUNqQ1AsTUFBTUw7b0JBQ05PLE1BQU1OO29CQUNOTyxZQUFZM0IsZ0JBQWdCNEIscUJBQXFCO2dCQUNuRDtnQkFDQTVDLGlCQUNFa0IsS0FBS1EsaUJBQWlCLENBQUNxQixTQUFTLEVBQ2hDL0IsZ0JBQWdCZ0MsWUFBWSxFQUM1QmI7WUFFSjtZQUNBLElBQUlXLG9CQUFvQjtnQkFDdEJDLFdBQVdoQixhQUFhLENBQUNJLFNBQVM7Z0JBQ2xDakIsS0FBS1csTUFBTSxDQUFDa0IsU0FBUyxHQUFHO29CQUN0QlAsTUFBTUw7b0JBQ05PLE1BQU1OO29CQUNOTyxZQUFZM0IsZ0JBQWdCNEIscUJBQXFCO2dCQUNuRDtnQkFDQTVDLGlCQUNFa0IsS0FBS1csTUFBTSxDQUFDa0IsU0FBUyxFQUNyQi9CLGdCQUFnQmdDLFlBQVksRUFDNUJiO1lBRUo7UUFDRjtJQUNGO0lBRUEsZ0VBQWdFO0lBQ2hFLElBQUksQ0FBQzdCLGtCQUFrQixHQUFHeEIsUUFBUSxJQUFJLENBQUN3QixrQkFBa0I7SUFFekQsMkNBQTJDO0lBQzNDb0Isa0JBQWtCN0IsT0FBTyxDQUFDLFNBQVVvRCxnQkFBZ0I7UUFDbEQsSUFBSXpCLFNBQVNWLE9BQU8sQ0FBQ21CLHNCQUFzQjtRQUMzQyxJQUFJSixTQUFTTCxVQUFVQSxPQUFPSyxNQUFNLEdBQUdMLE9BQU9LLE1BQU0sR0FBRyxDQUFDO1FBQ3hELElBQUlwQixvQkFBb0JJLE1BQU1xQywwQkFBMEIsQ0FBQ0Q7UUFFekQsdUNBQXVDO1FBQ3ZDOUIsT0FBT0MsSUFBSSxDQUFDUyxRQUFRaEMsT0FBTyxDQUFDLFNBQVVzRCxNQUFNO1lBQzFDLElBQUlDLGVBQWV2QixNQUFNLENBQUNzQixPQUFPO1lBRWpDLElBQUlKO1lBRUosSUFBSXRDLG1CQUFtQjtnQkFDckJzQyxXQUFXNUQsVUFBVTBCLE1BQU1QLGtCQUFrQixFQUFFLFNBQVVpQyxDQUFDO29CQUN4RCxPQUFPQSxFQUFFQyxJQUFJLEtBQUsvQixrQkFBa0IrQixJQUFJO2dCQUMxQztnQkFDQSxJQUFJYSxpQkFBaUJsRSxVQUNuQitCLEtBQUtaLGtCQUFrQixDQUFDeUMsU0FBUyxFQUNqQyxTQUFVUixDQUFDO29CQUNULE9BQU9BLEVBQUVFLFNBQVMsS0FBS1U7Z0JBQ3pCO2dCQUdGLDZEQUE2RDtnQkFDN0QsSUFBSUUsbUJBQW1CLENBQUMsR0FBRztvQkFDekI7Z0JBQ0Y7Z0JBRUFuQyxLQUFLWixrQkFBa0IsQ0FBQ3lDLFNBQVMsQ0FBQ00sZUFBZSxDQUFDWCxJQUFJLEdBQUdyRCxNQUN2RCxDQUFDLEdBQ0Q2QixLQUFLWixrQkFBa0IsQ0FBQ3lDLFNBQVMsQ0FBQ00sZUFBZSxDQUFDWCxJQUFJLEVBQ3REVTtZQUVKLE9BQU87Z0JBQ0xMLFdBQVdmLHdCQUF3QixDQUFDbUIsT0FBTztnQkFFM0MsSUFBSUcsc0JBQ0YsZ0JBQWlCekIsTUFBTSxJQUFJYixnQkFBZ0JhLE1BQU0sQ0FBQ3NCLE9BQU8sSUFBSyxDQUFDO2dCQUVqRWpDLEtBQUtRLGlCQUFpQixDQUFDcUIsU0FBUyxHQUFHO29CQUNqQ1AsTUFBTVc7b0JBQ05ULE1BQU0xRCxhQUFhLENBQUMsR0FBR29FLGNBQWNFO29CQUNyQ1gsWUFBWW5CLE9BQU9vQixxQkFBcUI7Z0JBQzFDO2dCQUNBNUMsaUJBQ0VrQixLQUFLUSxpQkFBaUIsQ0FBQ3FCLFNBQVMsRUFDaEN2QixPQUFPd0IsWUFBWSxFQUNuQkc7Z0JBR0YsSUFBSXRDLE1BQU0wQyw0QkFBNEIsQ0FBQ0osT0FBTyxFQUFFO29CQUM5Q3RDLE1BQU0wQyw0QkFBNEIsQ0FBQ0osT0FBTyxDQUFDdEQsT0FBTyxDQUFDLFNBQ2pEMkQsZUFBZTt3QkFFZiw2REFBNkQ7d0JBQzdELElBQ0UsQ0FBQ3RDLEtBQUtRLGlCQUFpQixDQUFDcUIsU0FBUyxDQUFDTCxJQUFJLENBQUNjLGdCQUFnQixJQUN2RDNDLE1BQU0wQyw0QkFBNEIsQ0FBQ0osT0FBTyxDQUFDeEMsT0FBTyxDQUNoRG5CLG1CQUFtQmdFLG9CQUNqQixDQUFDLEdBQ0w7NEJBQ0F0QyxLQUFLUSxpQkFBaUIsQ0FBQ3FCLFNBQVMsQ0FBQ0wsSUFBSSxDQUFDYyxnQkFBZ0IsR0FBRzt3QkFDM0Q7b0JBQ0Y7Z0JBQ0Y7WUFDRjtRQUNGO1FBQ0F2QjtJQUNGO0lBRUEsMEVBQTBFO0lBQzFFcEIsTUFBTTRDLDRCQUE0QixHQUFHNUQsT0FBTyxDQUFDLFNBQVU2RCxZQUFZO1FBQ2pFLElBQUlqRCxvQkFBb0JJLE1BQU1xQywwQkFBMEIsQ0FBQ1E7UUFDekQsSUFBSUMsWUFBWTlDLE1BQU0rQyw4QkFBOEIsQ0FBQ25EO1FBRXJELElBQUlvRCxvQkFBb0JoRCxNQUFNaUQseUJBQXlCLENBQUNKO1FBQ3hELGdGQUFnRjtRQUNoRiw0QkFBNEI7UUFDNUIsSUFDRUcsa0JBQWtCRSxNQUFNLEtBQUssS0FDN0JGLGlCQUFpQixDQUFDLEVBQUUsQ0FBQ0csS0FBSyxDQUFDTCxXQUFXSSxNQUFNLEdBQUcsR0FDL0M7WUFDQTtRQUNGO1FBRUFqRCxRQUFRbUQsS0FBSyxDQUFDaEMsdUJBQXVCcEMsT0FBTyxDQUFDLFNBQVUyQixNQUFNO1lBQzNELElBQUlLLFNBQVNMLFVBQVVBLE9BQU9LLE1BQU0sR0FBR0wsT0FBT0ssTUFBTSxHQUFHLENBQUM7WUFFeERWLE9BQU9DLElBQUksQ0FBQ1MsUUFBUWhDLE9BQU8sQ0FBQyxTQUFVc0QsTUFBTTtnQkFDMUMsSUFBSUMsZUFBZXZCLE1BQU0sQ0FBQ3NCLE9BQU87Z0JBQ2pDLElBQUlKLFdBQVc1RCxVQUFVMEIsTUFBTVAsa0JBQWtCLEVBQUUsU0FBVWlDLENBQUM7b0JBQzVELE9BQU9BLEVBQUVDLElBQUksS0FBSy9CLGtCQUFrQitCLElBQUk7Z0JBQzFDO2dCQUNBLElBQUlhLGlCQUFpQmxFLFVBQ25CK0IsS0FBS1osa0JBQWtCLENBQUN5QyxTQUFTLEVBQ2pDLFNBQVVSLENBQUM7b0JBQ1QsT0FBT0EsRUFBRUUsU0FBUyxLQUFLVTtnQkFDekI7Z0JBR0YsNkRBQTZEO2dCQUM3RCxJQUFJRSxtQkFBbUIsQ0FBQyxHQUFHO29CQUN6QjtnQkFDRjtnQkFFQSxzRkFBc0Y7Z0JBQ3RGLDREQUE0RDtnQkFDNUQsZ0NBQWdDO2dCQUNoQyxrQkFBa0I7Z0JBQ2xCLGdCQUFnQjtnQkFDaEIsVUFBVTtnQkFDVixnQkFBZ0I7Z0JBQ2hCLGdCQUFnQjtnQkFDaEIsSUFBSWEsY0FBYyxDQUFDO2dCQUVuQixJQUFJTCxrQkFBa0JFLE1BQU0sR0FBRyxHQUFHO29CQUNoQyxJQUFJSSxPQUFPTixpQkFBaUIsQ0FBQyxFQUFFLENBQUNHLEtBQUssQ0FBQ0wsVUFBVSxDQUFDLEVBQUU7b0JBQ25ETyxXQUFXLENBQUNDLEtBQUssR0FDZmpELEtBQUtaLGtCQUFrQixDQUFDeUMsU0FBUyxDQUFDTSxlQUFlLENBQUNYLElBQUksQ0FBQ3lCLEtBQUs7Z0JBQ2hFO2dCQUVBakQsS0FBS1osa0JBQWtCLENBQUN5QyxTQUFTLENBQUNNLGVBQWUsQ0FBQ1gsSUFBSSxHQUFHMUQsYUFDdkRrRixhQUNBZCxjQUNBbEMsS0FBS1osa0JBQWtCLENBQUN5QyxTQUFTLENBQUNNLGVBQWUsQ0FBQ1gsSUFBSTtZQUUxRDtZQUVBVDtRQUNGO0lBQ0Y7SUFFQSxtQkFBbUI7SUFDbkJkLE9BQU9DLElBQUksQ0FBQ1AsTUFBTXVELGNBQWMsRUFBRXZFLE9BQU8sQ0FBQyxTQUFVd0UsU0FBUztRQUMzRCxJQUFJQyxXQUFXekQsTUFBTXVELGNBQWMsQ0FBQ0MsVUFBVTtRQUM5QyxJQUFJdEIsV0FBV2hCLGFBQWEsQ0FBQ3NDLFVBQVU7UUFFdkNuRCxLQUFLVyxNQUFNLENBQUNrQixTQUFTLEdBQUc7WUFDdEJQLE1BQU02QjtZQUNOM0IsTUFBTVIsVUFBVSxDQUFDbUMsVUFBVTtZQUMzQjFCLFlBQVkzQixnQkFBZ0I0QixxQkFBcUI7UUFDbkQ7UUFDQTBCLFNBQVN6RSxPQUFPLENBQUMsU0FBVTBFLFVBQVU7WUFDbkNyRCxLQUFLVyxNQUFNLENBQUNrQixTQUFTLEdBQUc3QixLQUFLVyxNQUFNLENBQUNrQixTQUFTLElBQUk7Z0JBQUVQLE1BQU02QjtZQUFVO1lBQ25FbkQsS0FBS1csTUFBTSxDQUFDa0IsU0FBUyxDQUFDTCxJQUFJLEdBQUd4QixLQUFLVyxNQUFNLENBQUNrQixTQUFTLENBQUNMLElBQUksSUFBSSxDQUFDO1lBQzVEeEIsS0FBS1csTUFBTSxDQUFDa0IsU0FBUyxDQUFDTCxJQUFJLENBQUM2QixXQUFXLEdBQUc7UUFDM0M7SUFDRjtJQUVBOztHQUVDLEdBQ0QsSUFBSSxDQUFDakUsa0JBQWtCLEdBQUcsSUFBSSxDQUFDQSxrQkFBa0IsQ0FBQ3FCLEdBQUcsQ0FDbkRsQyx5QkFBeUJvQjtJQUczQjs7R0FFQyxHQUNELElBQUksQ0FBQ2dCLE1BQU0sR0FBRy9DLFFBQVEsSUFBSSxDQUFDK0MsTUFBTTtJQUNqQzs7R0FFQyxHQUNELElBQUksQ0FBQ0gsaUJBQWlCLEdBQUc1QyxRQUFRLElBQUksQ0FBQzRDLGlCQUFpQjtJQUV2RCxJQUFJLENBQUM4QyxNQUFNLEdBQUczRDtBQUNoQjtBQUVBOzs7OztDQUtDLEdBQ0RELGNBQWM2RCxTQUFTLENBQUNDLGNBQWMsR0FBRyxTQUFVbEMsSUFBSTtJQUNyRCxTQUFTbUMsVUFBVUMsS0FBSztRQUN0QixPQUFPQSxNQUFNcEMsSUFBSSxLQUFLQTtJQUN4QjtJQUVBLE9BQ0V0RCxLQUFLLElBQUksQ0FBQzJDLE1BQU0sRUFBRThDLGNBQ2xCekYsS0FBSyxJQUFJLENBQUN3QyxpQkFBaUIsRUFBRWlELGNBQzdCekYsS0FBSyxJQUFJLENBQUNvQixrQkFBa0IsRUFBRXFFO0FBRWxDO0FBRUE7Ozs7OztDQU1DLEdBQ0QsU0FBU0UsNkJBQTZCL0QsT0FBTyxFQUFFMkIsU0FBUztJQUN0RCxTQUFTa0MsVUFBVUMsS0FBSztRQUN0QixPQUFPQSxNQUFNcEMsSUFBSSxLQUFLQztJQUN4QjtJQUVBLElBQUkzQixRQUFRMEQsTUFBTSxDQUFDTSxrQkFBa0IsQ0FBQ3JDLFlBQVk7UUFDaEQsSUFBSW1DLFFBQVExRixLQUFLNEIsUUFBUWUsTUFBTSxFQUFFOEM7UUFDakMsSUFBSSxDQUFDQyxPQUFPLE9BQU8sRUFBRTtRQUVyQixPQUFPekQsT0FBT0MsSUFBSSxDQUFDd0QsTUFBTWxDLElBQUksRUFBRWYsR0FBRyxDQUFDLFNBQVVhLElBQUk7WUFDL0MsSUFBSXVDLFFBQVF4RixpQkFBaUJpRDtZQUM3QixPQUFPO2dCQUNMQSxNQUFNQTtnQkFDTndDLGNBQWNEO2dCQUNkRSxPQUFPTCxNQUFNbEMsSUFBSSxDQUFDRixLQUFLO2dCQUN2QjBDLFdBQVdwRSxRQUFRMEQsTUFBTSxDQUFDVyxjQUFjLENBQUMxQyxXQUFXc0M7Z0JBQ3BESyxZQUFZdEUsUUFBUTBELE1BQU0sQ0FBQ2EsZ0JBQWdCLENBQUM1QyxXQUFXRDtZQUN6RDtRQUNGO0lBQ0YsT0FBTyxJQUFJMUIsUUFBUTBELE1BQU0sQ0FBQ2Msa0JBQWtCLENBQUM3QyxZQUFZO1FBQ3ZELElBQUlRLG1CQUFtQi9ELEtBQUs0QixRQUFRWSxpQkFBaUIsRUFBRWlEO1FBQ3ZELElBQUksQ0FBQzFCLGtCQUFrQixPQUFPLEVBQUU7UUFFaEMsT0FBTzlCLE9BQU9DLElBQUksQ0FBQzZCLGlCQUFpQlAsSUFBSSxFQUFFZixHQUFHLENBQUMsU0FBVWEsSUFBSTtZQUMxRCxJQUFJdUMsUUFBUXhGLGlCQUFpQmlEO1lBQzdCLE9BQU87Z0JBQ0xBLE1BQU1BO2dCQUNOd0MsY0FBY0Q7Z0JBQ2RFLE9BQU9oQyxpQkFBaUJQLElBQUksQ0FBQ0YsS0FBSztnQkFDbEMwQyxXQUFXcEUsUUFBUTBELE1BQU0sQ0FBQ2UseUJBQXlCLENBQUM5QyxXQUFXc0M7WUFDakU7UUFDRjtJQUNGLE9BQU8sSUFBSWpFLFFBQVEwRCxNQUFNLENBQUNnQixtQkFBbUIsQ0FBQy9DLFlBQVk7UUFDeEQsSUFBSWdELDBCQUEwQnZHLEtBQUs0QixRQUFRUixrQkFBa0IsRUFBRXFFO1FBQy9ELElBQUksQ0FBQ2MseUJBQXlCLE9BQU9BO1FBRXJDLElBQUloRixvQkFDRkssUUFBUTBELE1BQU0sQ0FBQ3RCLDBCQUEwQixDQUFDVDtRQUM1QyxJQUFJa0IsWUFDRjdDLFFBQVEwRCxNQUFNLENBQUNaLDhCQUE4QixDQUFDbkQ7UUFDaEQsSUFBSW9ELG9CQUFvQnJFLG1CQUN0QnNCLFFBQVEwRCxNQUFNLENBQUNWLHlCQUF5QixDQUFDckIsVUFBVSxDQUFDLEVBQUUsSUFBSTtRQUc1RCxJQUFJb0Isa0JBQWtCbEQsT0FBTyxDQUFDRixrQkFBa0JpRixRQUFRLE1BQU0sR0FBRztZQUMvRDdCLG9CQUFvQkEsa0JBQWtCOEIsT0FBTyxDQUMzQ2xGLGtCQUFrQmlGLFFBQVEsR0FBRy9CLFdBQzdCO1FBRUo7UUFFQSxJQUFJaUMseUJBQXlCL0Isa0JBQWtCRyxLQUFLLENBQUNMO1FBQ3JEaUMsdUJBQXVCQyxPQUFPLENBQUNwRDtRQUUvQnFELGFBQWFMLHlCQUF5Qkcsd0JBQXdCO1FBRTlELE9BQU9IO0lBQ1Q7SUFFQSxPQUFPaEU7QUFDVDtBQUVBOzs7Ozs7Q0FNQyxHQUNELFNBQVNxRSxhQUFhQyxJQUFJLEVBQUVsQyxpQkFBaUIsRUFBRW1DLEtBQUs7SUFDbERELEtBQUtiLFNBQVMsR0FBR2EsS0FBS3ZELElBQUksS0FBS3FCLGlCQUFpQixDQUFDbUMsTUFBTTtJQUN2RCxJQUFJRCxLQUFLckQsSUFBSSxFQUFFO1FBQ2JxRCxLQUFLckQsSUFBSSxDQUFDN0MsT0FBTyxDQUFDLFNBQVVvRyxLQUFLO1lBQy9CSCxhQUFhRyxPQUFPcEMsbUJBQW1CbUMsUUFBUTtRQUNqRDtJQUNGO0FBQ0Y7QUFFQTs7Ozs7Ozs7Q0FRQyxHQUNELFNBQVNFLFFBQVFDLE1BQU0sRUFBRUMsSUFBSSxFQUFFQyxLQUFLLEVBQUVDLEtBQUs7SUFDekNBLFFBQVFBLFNBQVM7SUFFakIsSUFBSUMsTUFBTUMsT0FBTyxDQUFDSixPQUFPO1FBQ3ZCLE9BQU9ELE9BQU9DLE1BQU1DLEtBQUssQ0FBQ0MsTUFBTTtJQUNsQztJQUVBLElBQUksQ0FBQ0YsS0FBSzFELElBQUksSUFBSTBELEtBQUsxRCxJQUFJLENBQUNxQixNQUFNLEtBQUssR0FBRztRQUN4QyxPQUFPcUM7SUFDVDtJQUVBLElBQUlLLFdBQVdMLEtBQUsxRCxJQUFJLENBQUNmLEdBQUcsQ0FBQyxTQUFVK0UsU0FBUztRQUM5QyxPQUFPUixRQUFRQyxRQUFRTyxXQUFXTCxPQUFPQyxRQUFRO0lBQ25EO0lBQ0EsSUFBSUssaUJBQWlCUixPQUFPTSxVQUFVSixLQUFLLENBQUNDLE1BQU07SUFDbEQsSUFBSU0sVUFBVTVILGFBQWE7UUFBRTBELE1BQU1pRTtJQUFlLEdBQUdQO0lBQ3JELE9BQU9RO0FBQ1Q7QUFFQWhHLGNBQWNpRyxZQUFZLEdBQUc7SUFBQztJQUFrQjtJQUFjO0NBQVc7QUFFekUsU0FBU0MsY0FBY0MsS0FBSyxFQUFFckUsSUFBSTtJQUNoQyxPQUFPQSxLQUFLc0UsSUFBSSxDQUFDRDtBQUNuQjtBQUVBOzs7OztDQUtDLEdBRUQ7Ozs7O0NBS0MsR0FDRCxTQUFTRSxxQkFBcUJDLFdBQVcsRUFBRUMsYUFBYTtJQUN0RCxJQUFJQyxnQkFBZ0IsRUFBRTtJQUN0QixJQUFJQyxrQkFBa0IsRUFBRTtJQUV4QixJQUFJTixRQUFRSSxjQUFjSixLQUFLLElBQUksRUFBRTtJQUNyQzs7O0dBR0MsR0FDRCxJQUFJTyxlQUFlUCxNQUFNekYsTUFBTSxDQUFDLFNBQVVpRyxHQUFHLEVBQUUvRSxJQUFJLEVBQUVnRixDQUFDO1FBQ3BERCxHQUFHLENBQUMvRSxLQUFLLEdBQUdnRjtRQUNaLE9BQU9EO0lBQ1QsR0FBRyxDQUFDO0lBRUpMLFlBQVlySCxPQUFPLENBQUMsU0FBVWtHLElBQUk7UUFDaEMsc0RBQXNEO1FBQ3RELElBQUl2RCxPQUFPdUQsS0FBSzBCLElBQUksSUFBSTFCLEtBQUt2RCxJQUFJO1FBQ2pDLElBQUk4RSxZQUFZLENBQUM5RSxLQUFLLEtBQUtmLFdBQVc7WUFDcEMyRixhQUFhLENBQUNFLFlBQVksQ0FBQzlFLEtBQUssQ0FBQyxHQUFHdUQ7UUFDdEMsT0FBTztZQUNMc0IsZ0JBQWdCSyxJQUFJLENBQUMzQjtRQUN2QjtJQUNGO0lBRUFxQixnQkFBZ0JBLGNBQWNPLE1BQU0sQ0FBQyxTQUFVL0MsS0FBSztRQUNsRCxPQUFPQTtJQUNUO0lBRUEsSUFBSWdELGtCQUFrQlQsY0FBY1MsZUFBZTtJQUNuRCxJQUFJQztJQUNKLElBQUlELG9CQUFvQixVQUFVO1FBQ2hDLE9BQU9SO0lBQ1QsT0FBTyxJQUFJUSxvQkFBb0IsU0FBUztRQUN0Q0MsV0FBVztZQUNUO2dCQUFDO2dCQUFRO2FBQU87WUFDaEI7Z0JBQUM7Z0JBQU87YUFBTTtTQUNmO0lBQ0gsT0FBTztRQUNMQSxXQUFXO1lBQUM7Z0JBQUM7YUFBUTtZQUFFO2dCQUFDO2FBQU87U0FBQztJQUNsQztJQUVBLE9BQU9ULGNBQWNVLE1BQU0sQ0FDekJ4SSxRQUFRK0gsaUJBQWlCUSxRQUFRLENBQUMsRUFBRSxFQUFFQSxRQUFRLENBQUMsRUFBRTtBQUVyRDtBQUVBOzs7O0NBSUMsR0FDRCxTQUFTRSxpQkFBaUJqSCxPQUFPLEVBQUUyQixTQUFTO0lBQzFDLE9BQ0UzQixRQUFRa0gsZ0JBQWdCLElBQ3hCbEgsUUFBUWtILGdCQUFnQixDQUFDYixhQUFhLElBQ3RDckcsUUFBUWtILGdCQUFnQixDQUFDYixhQUFhLENBQUNjLE1BQU0sSUFDN0NuSCxRQUFRa0gsZ0JBQWdCLENBQUNiLGFBQWEsQ0FBQ2MsTUFBTSxDQUFDeEYsVUFBVTtBQUU1RDtBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQStDQyxHQUNEN0IsY0FBYzZELFNBQVMsQ0FBQ3lELGNBQWMsR0FBRyxTQUFVekYsU0FBUyxFQUFFMEYsSUFBSTtJQUNoRSxJQUFJakIsY0FBY3JDLDZCQUE2QixJQUFJLEVBQUVwQztJQUNyRCxJQUFJLENBQUN5RSxhQUFhO1FBQ2hCLE9BQU96RjtJQUNUO0lBRUEsSUFBSVYsVUFBVS9CLGFBQWEsQ0FBQyxHQUFHbUosTUFBTTtRQUNuQ0MsUUFBUXhILGNBQWNpRyxZQUFZO1FBQ2xDLGdFQUFnRTtRQUNoRSxrRUFBa0U7UUFDbEVNLGVBQWUsQ0FBRWdCLENBQUFBLFFBQVFBLEtBQUtDLE1BQU07SUFDdEM7SUFFQSwyQ0FBMkM7SUFDM0MsSUFBSXRILFVBQVUsSUFBSTtJQUNsQixJQUFJbkI7SUFDSixJQUFJNEcsTUFBTUMsT0FBTyxDQUFDVSxjQUFjO1FBQzlCdkgsYUFBYTtZQUFDOEM7U0FBVTtJQUMxQixPQUFPO1FBQ0wsSUFBSTRGLFNBQVN2SCxRQUFRMEQsTUFBTSxDQUFDdEIsMEJBQTBCLENBQUNnRSxZQUFZMUUsSUFBSTtRQUN2RTdDLGFBQWEwSSxPQUFPMUksVUFBVTtJQUNoQztJQUVBLE9BQU91RyxRQUNMLFNBQVV4RCxJQUFJLEVBQUUyQixTQUFTO1FBQ3ZCLElBQUl0RCxRQUFRb0csYUFBYSxFQUFFO1lBQ3pCLElBQUlBLGdCQUFnQlksaUJBQWlCakgsU0FBU3VEO1lBQzlDLElBQUk4QyxlQUFlO2dCQUNqQixPQUFPRixxQkFBcUJ2RSxNQUFNeUU7WUFDcEM7UUFDRjtRQUVBLElBQUlaLE1BQU1DLE9BQU8sQ0FBQ3pGLFFBQVFxSCxNQUFNLEdBQUc7WUFDakMsSUFBSXJCLFFBQVEzSCxXQUFXMkIsUUFBUXFILE1BQU0sRUFBRXhILGNBQWNpRyxZQUFZO1lBQ2pFLE9BQU92SCxRQUFRb0QsTUFBTXFFLEtBQUssQ0FBQyxFQUFFLEVBQUVBLEtBQUssQ0FBQyxFQUFFO1FBQ3pDLE9BQU8sSUFBSSxPQUFPaEcsUUFBUXFILE1BQU0sS0FBSyxZQUFZO1lBQy9DLE9BQU90QixjQUFjL0YsUUFBUXFILE1BQU0sRUFBRTFGO1FBQ3ZDO1FBQ0EsTUFBTSxJQUFJNEYsTUFDUiwwREFDRTtJQUVOLEdBQ0FwQixhQUNBdkg7QUFFSjtBQUVBOzs7OztDQUtDLEdBQ0RpQixjQUFjNkQsU0FBUyxDQUFDOEQsYUFBYSxHQUFHLFNBQVU5RixTQUFTO0lBQ3pELElBQUksSUFBSSxDQUFDK0IsTUFBTSxDQUFDTSxrQkFBa0IsQ0FBQ3JDLFlBQVk7UUFDN0MsT0FBTytGLHlCQUF5QixJQUFJLENBQUMzRyxNQUFNLEVBQUVZO0lBQy9DLE9BQU8sSUFBSSxJQUFJLENBQUMrQixNQUFNLENBQUNjLGtCQUFrQixDQUFDN0MsWUFBWTtRQUNwRCxPQUFPK0YseUJBQXlCLElBQUksQ0FBQzlHLGlCQUFpQixFQUFFZTtJQUMxRDtJQUVBLE9BQU9oQjtBQUNUO0FBRUE7OztDQUdDLEdBRUQ7Ozs7Q0FJQyxHQUNELFNBQVMrRyx5QkFBeUJDLFNBQVMsRUFBRXBFLFNBQVM7SUFDcEQsSUFBSTNCLE9BQU94RCxLQUFLdUosV0FBVyxTQUFVN0QsS0FBSztRQUN4QyxPQUFPQSxNQUFNcEMsSUFBSSxLQUFLNkI7SUFDeEI7SUFDQSxPQUFPM0IsUUFBUUEsS0FBS3RDLEtBQUs7QUFDM0I7QUFFQTs7Ozs7Ozs7Ozs7Q0FXQyxHQUNEUSxjQUFjNkQsU0FBUyxDQUFDaUUsY0FBYyxHQUFHO0lBQ3ZDLElBQUk3SCxRQUFRLElBQUksQ0FBQzJELE1BQU07SUFDdkIsMkNBQTJDO0lBQzNDLElBQUkxRCxVQUFVLElBQUk7SUFDbEIsSUFBSTZILE1BQU0sRUFBRTtJQUVaeEgsT0FBT0MsSUFBSSxDQUFDUCxNQUFNK0gsaUJBQWlCLEVBQUUvSSxPQUFPLENBQUMsU0FBVWdKLGFBQWE7UUFDbEVoSSxNQUFNK0gsaUJBQWlCLENBQUNDLGNBQWMsQ0FBQ2hKLE9BQU8sQ0FBQyxTQUFVMkMsSUFBSTtZQUMzRG1HLElBQUlqQixJQUFJLENBQ05vQixjQUFjakksT0FBTyxTQUFTZ0ksZUFBZXJHLE1BQU0xQixRQUFRZSxNQUFNO1FBRXJFO0lBQ0Y7SUFFQVYsT0FBT0MsSUFBSSxDQUFDUCxNQUFNdUQsY0FBYyxFQUFFdkUsT0FBTyxDQUFDLFNBQVVnSixhQUFhO1FBQy9EaEksTUFBTXVELGNBQWMsQ0FBQ3lFLGNBQWMsQ0FBQ2hKLE9BQU8sQ0FBQyxTQUFVMkMsSUFBSTtZQUN4RG1HLElBQUlqQixJQUFJLENBQ05vQixjQUFjakksT0FBTyxXQUFXZ0ksZUFBZXJHLE1BQU0xQixRQUFRZSxNQUFNO1FBRXZFO0lBQ0Y7SUFFQVYsT0FBT0MsSUFBSSxDQUFDUCxNQUFNMEMsNEJBQTRCLEVBQUUxRCxPQUFPLENBQUMsU0FDdERnSixhQUFhO1FBRWJoSSxNQUFNMEMsNEJBQTRCLENBQUNzRixjQUFjLENBQUNoSixPQUFPLENBQUMsU0FBVTJDLElBQUk7WUFDdEVtRyxJQUFJakIsSUFBSSxDQUNOb0IsY0FDRWpJLE9BQ0EsZUFDQWdJLGVBQ0FyRyxNQUNBMUIsUUFBUVksaUJBQWlCO1FBRy9CO0lBQ0Y7SUFFQVAsT0FBT0MsSUFBSSxDQUFDUCxNQUFNa0ksNkJBQTZCLEVBQUVsSixPQUFPLENBQUMsU0FDdkRnSixhQUFhO1FBRWJoSSxNQUFNa0ksNkJBQTZCLENBQUNGLGNBQWMsQ0FBQ2hKLE9BQU8sQ0FBQyxTQUFVMkMsSUFBSTtZQUN2RW1HLElBQUlqQixJQUFJLENBQ041RCwwQkFDRWpELE9BQ0FnSSxlQUNBckcsTUFDQTFCLFFBQVFSLGtCQUFrQjtRQUdoQztJQUNGO0lBRUFhLE9BQU9DLElBQUksQ0FBQ1AsTUFBTW1JLGtCQUFrQixFQUFFbkosT0FBTyxDQUFDLFNBQVVnSixhQUFhO1FBQ25FLElBQUlJLFlBQVlwSSxNQUFNbUksa0JBQWtCLENBQUNILGNBQWM7UUFDdkQxSCxPQUFPQyxJQUFJLENBQUM2SCxXQUFXcEosT0FBTyxDQUFDLFNBQVVxSixRQUFRO1lBQy9DRCxTQUFTLENBQUNDLFNBQVMsQ0FBQ3JKLE9BQU8sQ0FBQyxTQUFVa0YsS0FBSztnQkFDekM0RCxJQUFJakIsSUFBSSxDQUFDO29CQUNQeUIsTUFBTTtvQkFDTk4sZUFBZUE7b0JBQ2ZyRyxNQUFNdUM7b0JBQ05xRSxjQUFjckU7b0JBQ2RtRSxVQUFVQTtnQkFDWjtZQUNGO1FBQ0Y7SUFDRjtJQUVBckksTUFBTXdJLGNBQWMsQ0FBQ3hKLE9BQU8sQ0FBQyxTQUFVMkMsSUFBSTtRQUN6Q21HLElBQUlqQixJQUFJLENBQUM7WUFBRXlCLE1BQU07WUFBT04sZUFBZTtZQUFTckcsTUFBTUE7UUFBSztJQUM3RDtJQUVBLE9BQU9tRztBQUNUO0FBRUE7Ozs7O0NBS0MsR0FFRDs7Ozs7OztDQU9DLEdBQ0QsU0FBU0csY0FBY2pJLEtBQUssRUFBRXNJLElBQUksRUFBRU4sYUFBYSxFQUFFckcsSUFBSSxFQUFFOEcsYUFBYTtJQUNwRSxJQUFJMUUsUUFBUTFGLEtBQUtvSyxlQUFlLFNBQVUvRyxDQUFDO1FBQ3pDLE9BQU9BLEVBQUVDLElBQUksS0FBS3FHO0lBQ3BCO0lBQ0EsSUFBSTVELFFBQVFMLFNBQVNBLE1BQU1sQyxJQUFJLElBQUlrQyxNQUFNbEMsSUFBSSxDQUFDRixLQUFLLEdBQUdvQyxNQUFNbEMsSUFBSSxDQUFDRixLQUFLLEdBQUc7SUFDekUsSUFBSUcsYUFBYSxTQUFVaUMsTUFBTWpDLFVBQVUsSUFBSztJQUVoRCxPQUFPO1FBQ0x3RyxNQUFNQTtRQUNOTixlQUFlQTtRQUNmckcsTUFBTUE7UUFDTnlDLE9BQU9BO1FBQ1B0QyxZQUFZQTtJQUNkO0FBQ0Y7QUFFQTs7Ozs7O0NBTUMsR0FDRCxTQUFTbUIsMEJBQTBCakQsS0FBSyxFQUFFZ0ksYUFBYSxFQUFFckcsSUFBSSxFQUFFOEcsYUFBYTtJQUMxRSxJQUFJQyxtQkFBbUIxSSxNQUFNcUMsMEJBQTBCLENBQUMyRjtJQUN4RCxJQUFJbEYsWUFBWTlDLE1BQU0rQyw4QkFBOEIsQ0FBQzJGO0lBQ3JELElBQUl2RixRQUFReEIsS0FBS3dCLEtBQUssQ0FBQ0w7SUFDdkIsSUFBSTZGLFlBQVl0SyxLQUFLb0ssZUFBZSxTQUFVMUUsS0FBSztRQUNqRCxPQUFPQSxNQUFNcEMsSUFBSSxLQUFLcUc7SUFDeEI7SUFFQSxJQUFJakUsUUFBUVosTUFBTTFDLE1BQU0sQ0FBQyxTQUFVbUksaUJBQWlCLEVBQUVDLElBQUk7UUFDeEQsSUFBSUMsV0FDRkYscUJBQ0F2SyxLQUFLdUssa0JBQWtCL0csSUFBSSxFQUFFLFNBQVVILENBQUM7WUFDdEMsT0FBT0EsRUFBRUMsSUFBSSxLQUFLa0g7UUFDcEI7UUFDRixPQUFPQyxhQUFhbEksWUFBWWtJLFdBQVdGO0lBQzdDLEdBQUdEO0lBRUgsSUFBSXZFLFFBQVEsU0FBVUwsTUFBTUssS0FBSyxJQUFLO0lBQ3RDLElBQUl0QyxhQUFhLFNBQVVpQyxNQUFNakMsVUFBVSxJQUFLO0lBQ2hELElBQUk4RSxPQUFPLFNBQVU3QyxNQUFNNkMsSUFBSSxJQUFLO0lBRXBDLE9BQU87UUFDTDBCLE1BQU07UUFDTk4sZUFBZUE7UUFDZnJHLE1BQU1pRjtRQUNOeEMsT0FBT0E7UUFDUHRDLFlBQVlBO0lBQ2Q7QUFDRjtBQUVBaUgsT0FBT0MsT0FBTyxHQUFHakoiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZWR1c2EtbmV4dC8uL25vZGVfbW9kdWxlcy9yZWFjdC1pbnN0YW50c2VhcmNoLWhvb2tzL25vZGVfbW9kdWxlcy9hbGdvbGlhc2VhcmNoLWhlbHBlci9zcmMvU2VhcmNoUmVzdWx0cy9pbmRleC5qcz8xM2IyIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIGNvbXBhY3QgPSByZXF1aXJlKCcuLi9mdW5jdGlvbnMvY29tcGFjdCcpO1xudmFyIGRlZmF1bHRzUHVyZSA9IHJlcXVpcmUoJy4uL2Z1bmN0aW9ucy9kZWZhdWx0c1B1cmUnKTtcbnZhciBmdiA9IHJlcXVpcmUoJy4uL2Z1bmN0aW9ucy9lc2NhcGVGYWNldFZhbHVlJyk7XG52YXIgZmluZCA9IHJlcXVpcmUoJy4uL2Z1bmN0aW9ucy9maW5kJyk7XG52YXIgZmluZEluZGV4ID0gcmVxdWlyZSgnLi4vZnVuY3Rpb25zL2ZpbmRJbmRleCcpO1xudmFyIGZvcm1hdFNvcnQgPSByZXF1aXJlKCcuLi9mdW5jdGlvbnMvZm9ybWF0U29ydCcpO1xudmFyIG1lcmdlID0gcmVxdWlyZSgnLi4vZnVuY3Rpb25zL21lcmdlJyk7XG52YXIgb3JkZXJCeSA9IHJlcXVpcmUoJy4uL2Z1bmN0aW9ucy9vcmRlckJ5Jyk7XG52YXIgZXNjYXBlRmFjZXRWYWx1ZSA9IGZ2LmVzY2FwZUZhY2V0VmFsdWU7XG52YXIgdW5lc2NhcGVGYWNldFZhbHVlID0gZnYudW5lc2NhcGVGYWNldFZhbHVlO1xuXG52YXIgZ2VuZXJhdGVIaWVyYXJjaGljYWxUcmVlID0gcmVxdWlyZSgnLi9nZW5lcmF0ZS1oaWVyYXJjaGljYWwtdHJlZScpO1xuXG4vKipcbiAqIEB0eXBlZGVmIFNlYXJjaFJlc3VsdHMuRmFjZXRcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge3N0cmluZ30gbmFtZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgaW4gdGhlIHJlY29yZFxuICogQHByb3BlcnR5IHtvYmplY3R9IGRhdGEgdGhlIGZhY2V0aW5nIGRhdGE6IHZhbHVlLCBudW1iZXIgb2YgZW50cmllc1xuICogQHByb3BlcnR5IHtvYmplY3R9IHN0YXRzIHVuZGVmaW5lZCB1bmxlc3MgZmFjZXRfc3RhdHMgaXMgcmV0cmlldmVkIGZyb20gYWxnb2xpYVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYgU2VhcmNoUmVzdWx0cy5IaWVyYXJjaGljYWxGYWNldFxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBuYW1lIG5hbWUgb2YgdGhlIGN1cnJlbnQgdmFsdWUgZ2l2ZW4gdGhlIGhpZXJhcmNoaWNhbCBsZXZlbCwgdHJpbW1lZC5cbiAqIElmIHJvb3Qgbm9kZSwgeW91IGdldCB0aGUgZmFjZXQgbmFtZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGNvdW50IG51bWJlciBvZiBvYmplY3RzIG1hdGNoaW5nIHRoaXMgaGllcmFyY2hpY2FsIHZhbHVlXG4gKiBAcHJvcGVydHkge3N0cmluZ30gcGF0aCB0aGUgY3VycmVudCBoaWVyYXJjaGljYWwgdmFsdWUgZnVsbCBwYXRoXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGlzUmVmaW5lZCBgdHJ1ZWAgaWYgdGhlIGN1cnJlbnQgdmFsdWUgd2FzIHJlZmluZWQsIGBmYWxzZWAgb3RoZXJ3aXNlXG4gKiBAcHJvcGVydHkge0hpZXJhcmNoaWNhbEZhY2V0W119IGRhdGEgc3ViIHZhbHVlcyBmb3IgdGhlIGN1cnJlbnQgbGV2ZWxcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIFNlYXJjaFJlc3VsdHMuRmFjZXRWYWx1ZVxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBuYW1lIHRoZSBmYWNldCB2YWx1ZSBpdHNlbGZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjb3VudCB0aW1lcyB0aGlzIGZhY2V0IGFwcGVhcnMgaW4gdGhlIHJlc3VsdHNcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gaXNSZWZpbmVkIGlzIHRoZSBmYWNldCBjdXJyZW50bHkgc2VsZWN0ZWRcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gaXNFeGNsdWRlZCBpcyB0aGUgZmFjZXQgY3VycmVudGx5IGV4Y2x1ZGVkIChvbmx5IGZvciBjb25qdW5jdGl2ZSBmYWNldHMpXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiBSZWZpbmVtZW50XG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtzdHJpbmd9IHR5cGUgdGhlIHR5cGUgb2YgZmlsdGVyIHVzZWQ6XG4gKiBgbnVtZXJpY2AsIGBmYWNldGAsIGBleGNsdWRlYCwgYGRpc2p1bmN0aXZlYCwgYGhpZXJhcmNoaWNhbGBcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBhdHRyaWJ1dGVOYW1lIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB1c2VkIGZvciBmaWx0ZXJpbmdcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBuYW1lIHRoZSB2YWx1ZSBvZiB0aGUgZmlsdGVyXG4gKiBAcHJvcGVydHkge251bWJlcn0gbnVtZXJpY1ZhbHVlIHRoZSB2YWx1ZSBhcyBhIG51bWJlci4gT25seSBmb3IgbnVtZXJpYyBmaWx0ZXJzLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IG9wZXJhdG9yIHRoZSBvcGVyYXRvciB1c2VkLiBPbmx5IGZvciBudW1lcmljIGZpbHRlcnMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gY291bnQgdGhlIG51bWJlciBvZiBjb21wdXRlZCBoaXRzIGZvciB0aGlzIGZpbHRlci4gT25seSBvbiBmYWNldHMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGV4aGF1c3RpdmUgaWYgdGhlIGNvdW50IGlzIGV4aGF1c3RpdmVcbiAqL1xuXG4vKipcbiAqIFR1cm4gYW4gYXJyYXkgb2YgYXR0cmlidXRlcyBpbiBhbiBvYmplY3Qgb2YgYXR0cmlidXRlcyB3aXRoIHRoZWlyIHBvc2l0aW9uIGluIHRoZSBhcnJheSBhcyB2YWx1ZVxuICogQHBhcmFtIHtzdHJpbmdbXX0gYXR0cmlidXRlcyB0aGUgbGlzdCBvZiBhdHRyaWJ1dGVzIGluIHRoZSByZWNvcmRcbiAqIEByZXR1cm4ge29iamVjdH0gdGhlIGxpc3Qgb2YgYXR0cmlidXRlcyBpbmRleGVkIGJ5IGF0dHJpYnV0ZSBuYW1lXG4gKi9cbmZ1bmN0aW9uIGdldEluZGljZXMoYXR0cmlidXRlcykge1xuICB2YXIgaW5kaWNlcyA9IHt9O1xuXG4gIGF0dHJpYnV0ZXMuZm9yRWFjaChmdW5jdGlvbiAodmFsLCBpZHgpIHtcbiAgICBpbmRpY2VzW3ZhbF0gPSBpZHg7XG4gIH0pO1xuXG4gIHJldHVybiBpbmRpY2VzO1xufVxuXG5mdW5jdGlvbiBhc3NpZ25GYWNldFN0YXRzKGRlc3QsIGZhY2V0U3RhdHMsIGtleSkge1xuICBpZiAoZmFjZXRTdGF0cyAmJiBmYWNldFN0YXRzW2tleV0pIHtcbiAgICBkZXN0LnN0YXRzID0gZmFjZXRTdGF0c1trZXldO1xuICB9XG59XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gSGllcmFyY2hpY2FsRmFjZXRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBuYW1lXG4gKiBAcHJvcGVydHkge3N0cmluZ1tdfSBhdHRyaWJ1dGVzXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge0hpZXJhcmNoaWNhbEZhY2V0W119IGhpZXJhcmNoaWNhbEZhY2V0cyBBbGwgaGllcmFyY2hpY2FsIGZhY2V0c1xuICogQHBhcmFtIHtzdHJpbmd9IGhpZXJhcmNoaWNhbEF0dHJpYnV0ZU5hbWUgVGhlIG5hbWUgb2YgdGhlIGhpZXJhcmNoaWNhbCBhdHRyaWJ1dGVcbiAqIEByZXR1cm4ge0hpZXJhcmNoaWNhbEZhY2V0fSBUaGUgaGllcmFyY2hpY2FsIGZhY2V0IG1hdGNoaW5nIHRoZSBhdHRyaWJ1dGUgbmFtZVxuICovXG5mdW5jdGlvbiBmaW5kTWF0Y2hpbmdIaWVyYXJjaGljYWxGYWNldEZyb21BdHRyaWJ1dGVOYW1lKFxuICBoaWVyYXJjaGljYWxGYWNldHMsXG4gIGhpZXJhcmNoaWNhbEF0dHJpYnV0ZU5hbWVcbikge1xuICByZXR1cm4gZmluZChcbiAgICBoaWVyYXJjaGljYWxGYWNldHMsXG4gICAgZnVuY3Rpb24gZmFjZXRLZXlNYXRjaGVzQXR0cmlidXRlKGhpZXJhcmNoaWNhbEZhY2V0KSB7XG4gICAgICB2YXIgZmFjZXROYW1lcyA9IGhpZXJhcmNoaWNhbEZhY2V0LmF0dHJpYnV0ZXMgfHwgW107XG4gICAgICByZXR1cm4gZmFjZXROYW1lcy5pbmRleE9mKGhpZXJhcmNoaWNhbEF0dHJpYnV0ZU5hbWUpID4gLTE7XG4gICAgfVxuICApO1xufVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdmFsaWQtanNkb2Ncbi8qKlxuICogQ29uc3RydWN0b3IgZm9yIFNlYXJjaFJlc3VsdHNcbiAqIEBjbGFzc1xuICogQGNsYXNzZGVzYyBTZWFyY2hSZXN1bHRzIGNvbnRhaW5zIHRoZSByZXN1bHRzIG9mIGEgcXVlcnkgdG8gQWxnb2xpYSB1c2luZyB0aGVcbiAqIHtAbGluayBBbGdvbGlhU2VhcmNoSGVscGVyfS5cbiAqIEBwYXJhbSB7U2VhcmNoUGFyYW1ldGVyc30gc3RhdGUgc3RhdGUgdGhhdCBsZWQgdG8gdGhlIHJlc3BvbnNlXG4gKiBAcGFyYW0ge2FycmF5LjxvYmplY3Q+fSByZXN1bHRzIHRoZSByZXN1bHRzIGZyb20gYWxnb2xpYSBjbGllbnRcbiAqIEBleGFtcGxlIDxjYXB0aW9uPlNlYXJjaFJlc3VsdHMgb2YgdGhlIGZpcnN0IHF1ZXJ5IGluXG4gKiA8YSBocmVmPVwiaHR0cDovL2RlbW9zLmFsZ29saWEuY29tL2luc3RhbnQtc2VhcmNoLWRlbW9cIj50aGUgaW5zdGFudCBzZWFyY2ggZGVtbzwvYT48L2NhcHRpb24+XG57XG4gICBcImhpdHNQZXJQYWdlXCI6IDEwLFxuICAgXCJwcm9jZXNzaW5nVGltZU1TXCI6IDIsXG4gICBcImZhY2V0c1wiOiBbXG4gICAgICB7XG4gICAgICAgICBcIm5hbWVcIjogXCJ0eXBlXCIsXG4gICAgICAgICBcImRhdGFcIjoge1xuICAgICAgICAgICAgXCJIYXJkR29vZFwiOiA2NjI3LFxuICAgICAgICAgICAgXCJCbGFja1RpZVwiOiA1NTAsXG4gICAgICAgICAgICBcIk11c2ljXCI6IDY2NSxcbiAgICAgICAgICAgIFwiU29mdHdhcmVcIjogMTMxLFxuICAgICAgICAgICAgXCJHYW1lXCI6IDQ1NixcbiAgICAgICAgICAgIFwiTW92aWVcIjogMTU3MVxuICAgICAgICAgfSxcbiAgICAgICAgIFwiZXhoYXVzdGl2ZVwiOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgIFwiZXhoYXVzdGl2ZVwiOiBmYWxzZSxcbiAgICAgICAgIFwiZGF0YVwiOiB7XG4gICAgICAgICAgICBcIkZyZWUgc2hpcHBpbmdcIjogNTUwN1xuICAgICAgICAgfSxcbiAgICAgICAgIFwibmFtZVwiOiBcInNoaXBwaW5nXCJcbiAgICAgIH1cbiAgXSxcbiAgIFwiaGl0c1wiOiBbXG4gICAgICB7XG4gICAgICAgICBcInRodW1ibmFpbEltYWdlXCI6IFwiaHR0cDovL2ltZy5iYnlzdGF0aWMuY29tL0Jlc3RCdXlfVVMvaW1hZ2VzL3Byb2R1Y3RzLzE2ODgvMTY4ODgzMl81NHgxMDhfcy5naWZcIixcbiAgICAgICAgIFwiX2hpZ2hsaWdodFJlc3VsdFwiOiB7XG4gICAgICAgICAgICBcInNob3J0RGVzY3JpcHRpb25cIjoge1xuICAgICAgICAgICAgICAgXCJtYXRjaExldmVsXCI6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiBcIlNhZmVndWFyZCB5b3VyIFBDLCBNYWMsIEFuZHJvaWQgYW5kIGlPUyBkZXZpY2VzIHdpdGggY29tcHJlaGVuc2l2ZSBJbnRlcm5ldCBwcm90ZWN0aW9uXCIsXG4gICAgICAgICAgICAgICBcIm1hdGNoZWRXb3Jkc1wiOiBbXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiY2F0ZWdvcnlcIjoge1xuICAgICAgICAgICAgICAgXCJtYXRjaExldmVsXCI6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiBcIkNvbXB1dGVyIFNlY3VyaXR5IFNvZnR3YXJlXCIsXG4gICAgICAgICAgICAgICBcIm1hdGNoZWRXb3Jkc1wiOiBbXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwibWFudWZhY3R1cmVyXCI6IHtcbiAgICAgICAgICAgICAgIFwibWF0Y2hlZFdvcmRzXCI6IFtdLFxuICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiBcIldlYnJvb3RcIixcbiAgICAgICAgICAgICAgIFwibWF0Y2hMZXZlbFwiOiBcIm5vbmVcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwibmFtZVwiOiB7XG4gICAgICAgICAgICAgICBcInZhbHVlXCI6IFwiV2Vicm9vdCBTZWN1cmVBbnl3aGVyZSBJbnRlcm5ldCBTZWN1cml0eSAoMy1EZXZpY2UpICgxLVllYXIgU3Vic2NyaXB0aW9uKSAtIE1hYy9XaW5kb3dzXCIsXG4gICAgICAgICAgICAgICBcIm1hdGNoZWRXb3Jkc1wiOiBbXSxcbiAgICAgICAgICAgICAgIFwibWF0Y2hMZXZlbFwiOiBcIm5vbmVcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgfSxcbiAgICAgICAgIFwiaW1hZ2VcIjogXCJodHRwOi8vaW1nLmJieXN0YXRpYy5jb20vQmVzdEJ1eV9VUy9pbWFnZXMvcHJvZHVjdHMvMTY4OC8xNjg4ODMyXzEwNXgyMTBfc2MuanBnXCIsXG4gICAgICAgICBcInNoaXBwaW5nXCI6IFwiRnJlZSBzaGlwcGluZ1wiLFxuICAgICAgICAgXCJiZXN0U2VsbGluZ1JhbmtcIjogNCxcbiAgICAgICAgIFwic2hvcnREZXNjcmlwdGlvblwiOiBcIlNhZmVndWFyZCB5b3VyIFBDLCBNYWMsIEFuZHJvaWQgYW5kIGlPUyBkZXZpY2VzIHdpdGggY29tcHJlaGVuc2l2ZSBJbnRlcm5ldCBwcm90ZWN0aW9uXCIsXG4gICAgICAgICBcInVybFwiOiBcImh0dHA6Ly93d3cuYmVzdGJ1eS5jb20vc2l0ZS93ZWJyb290LXNlY3VyZWFueXdoZXJlLWludGVybmV0LXNlY3VyaXR5LTMtZGV2aeKApmQ9MTIxOTA2MDY4Nzk2OSZza3VJZD0xNjg4ODMyJmNtcD1STVgma3k9MmQzR2ZFbU5JempBMHZrenZlSGRaRUJncFBDeU1uTFRKXCIsXG4gICAgICAgICBcIm5hbWVcIjogXCJXZWJyb290IFNlY3VyZUFueXdoZXJlIEludGVybmV0IFNlY3VyaXR5ICgzLURldmljZSkgKDEtWWVhciBTdWJzY3JpcHRpb24pIC0gTWFjL1dpbmRvd3NcIixcbiAgICAgICAgIFwiY2F0ZWdvcnlcIjogXCJDb21wdXRlciBTZWN1cml0eSBTb2Z0d2FyZVwiLFxuICAgICAgICAgXCJzYWxlUHJpY2VfcmFuZ2VcIjogXCIxIC0gNTBcIixcbiAgICAgICAgIFwib2JqZWN0SURcIjogXCIxNjg4ODMyXCIsXG4gICAgICAgICBcInR5cGVcIjogXCJTb2Z0d2FyZVwiLFxuICAgICAgICAgXCJjdXN0b21lclJldmlld0NvdW50XCI6IDU5ODAsXG4gICAgICAgICBcInNhbGVQcmljZVwiOiA0OS45OSxcbiAgICAgICAgIFwibWFudWZhY3R1cmVyXCI6IFwiV2Vicm9vdFwiXG4gICAgICB9LFxuICAgICAgLi4uLlxuICBdLFxuICAgXCJuYkhpdHNcIjogMTAwMDAsXG4gICBcImRpc2p1bmN0aXZlRmFjZXRzXCI6IFtcbiAgICAgIHtcbiAgICAgICAgIFwiZXhoYXVzdGl2ZVwiOiBmYWxzZSxcbiAgICAgICAgIFwiZGF0YVwiOiB7XG4gICAgICAgICAgICBcIjVcIjogMTgzLFxuICAgICAgICAgICAgXCIxMlwiOiAxMTIsXG4gICAgICAgICAgICBcIjdcIjogMTQ5LFxuICAgICAgICAgICAgLi4uXG4gICAgICAgICB9LFxuICAgICAgICAgXCJuYW1lXCI6IFwiY3VzdG9tZXJSZXZpZXdDb3VudFwiLFxuICAgICAgICAgXCJzdGF0c1wiOiB7XG4gICAgICAgICAgICBcIm1heFwiOiA3NDYxLFxuICAgICAgICAgICAgXCJhdmdcIjogMTU3LjkzOSxcbiAgICAgICAgICAgIFwibWluXCI6IDFcbiAgICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICBcImRhdGFcIjoge1xuICAgICAgICAgICAgXCJQcmludGVyIElua1wiOiAxNDIsXG4gICAgICAgICAgICBcIldpcmVsZXNzIFNwZWFrZXJzXCI6IDYwLFxuICAgICAgICAgICAgXCJQb2ludCAmIFNob290IENhbWVyYXNcIjogNDgsXG4gICAgICAgICAgICAuLi5cbiAgICAgICAgIH0sXG4gICAgICAgICBcIm5hbWVcIjogXCJjYXRlZ29yeVwiLFxuICAgICAgICAgXCJleGhhdXN0aXZlXCI6IGZhbHNlXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAgXCJleGhhdXN0aXZlXCI6IGZhbHNlLFxuICAgICAgICAgXCJkYXRhXCI6IHtcbiAgICAgICAgICAgIFwiPiA1MDAwXCI6IDIsXG4gICAgICAgICAgICBcIjEgLSA1MFwiOiA2NTI0LFxuICAgICAgICAgICAgXCI1MDEgLSAyMDAwXCI6IDU2NixcbiAgICAgICAgICAgIFwiMjAxIC0gNTAwXCI6IDE1MDEsXG4gICAgICAgICAgICBcIjEwMSAtIDIwMFwiOiAxMzYwLFxuICAgICAgICAgICAgXCIyMDAxIC0gNTAwMFwiOiA0N1xuICAgICAgICAgfSxcbiAgICAgICAgIFwibmFtZVwiOiBcInNhbGVQcmljZV9yYW5nZVwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAgXCJkYXRhXCI6IHtcbiAgICAgICAgICAgIFwiRHluZXjihKJcIjogMjAyLFxuICAgICAgICAgICAgXCJJbnNpZ25pYeKEolwiOiAyMzAsXG4gICAgICAgICAgICBcIlBOWVwiOiA3MixcbiAgICAgICAgICAgIC4uLlxuICAgICAgICAgfSxcbiAgICAgICAgIFwibmFtZVwiOiBcIm1hbnVmYWN0dXJlclwiLFxuICAgICAgICAgXCJleGhhdXN0aXZlXCI6IGZhbHNlXG4gICAgICB9XG4gIF0sXG4gICBcInF1ZXJ5XCI6IFwiXCIsXG4gICBcIm5iUGFnZXNcIjogMTAwLFxuICAgXCJwYWdlXCI6IDAsXG4gICBcImluZGV4XCI6IFwiYmVzdGJ1eVwiXG59XG4gKiovXG5mdW5jdGlvbiBTZWFyY2hSZXN1bHRzKHN0YXRlLCByZXN1bHRzLCBvcHRpb25zKSB7XG4gIHZhciBtYWluU3ViUmVzcG9uc2UgPSByZXN1bHRzWzBdO1xuXG4gIHRoaXMuX3Jhd1Jlc3VsdHMgPSByZXN1bHRzO1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXRoaXNcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIC8vIGh0dHBzOi8vd3d3LmFsZ29saWEuY29tL2RvYy9hcGktcmVmZXJlbmNlL2FwaS1tZXRob2RzL3NlYXJjaC8jcmVzcG9uc2VcbiAgT2JqZWN0LmtleXMobWFpblN1YlJlc3BvbnNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBzZWxmW2tleV0gPSBtYWluU3ViUmVzcG9uc2Vba2V5XTtcbiAgfSk7XG5cbiAgLy8gTWFrZSBldmVyeSBrZXkgb2YgdGhlIHJlc3VsdCBvcHRpb25zIHJlYWNoYWJsZSBmcm9tIHRoZSBpbnN0YW5jZVxuICBPYmplY3Qua2V5cyhvcHRpb25zIHx8IHt9KS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBzZWxmW2tleV0gPSBvcHRpb25zW2tleV07XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBxdWVyeSB1c2VkIHRvIGdlbmVyYXRlIHRoZSByZXN1bHRzXG4gICAqIEBuYW1lIHF1ZXJ5XG4gICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFNlYXJjaFJlc3VsdHNcbiAgICogQGluc3RhbmNlXG4gICAqL1xuICAvKipcbiAgICogVGhlIHF1ZXJ5IGFzIHBhcnNlZCBieSB0aGUgZW5naW5lIGdpdmVuIGFsbCB0aGUgcnVsZXMuXG4gICAqIEBuYW1lIHBhcnNlZFF1ZXJ5XG4gICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFNlYXJjaFJlc3VsdHNcbiAgICogQGluc3RhbmNlXG4gICAqL1xuICAvKipcbiAgICogYWxsIHRoZSByZWNvcmRzIHRoYXQgbWF0Y2ggdGhlIHNlYXJjaCBwYXJhbWV0ZXJzLiBFYWNoIHJlY29yZCBpc1xuICAgKiBhdWdtZW50ZWQgd2l0aCBhIG5ldyBhdHRyaWJ1dGUgYF9oaWdobGlnaHRSZXN1bHRgXG4gICAqIHdoaWNoIGlzIGFuIG9iamVjdCBrZXllZCBieSBhdHRyaWJ1dGUgYW5kIHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgKiAtIGB2YWx1ZWAgOiB0aGUgdmFsdWUgb2YgdGhlIGZhY2V0IGhpZ2hsaWdodGVkIChodG1sKVxuICAgKiAtIGBtYXRjaExldmVsYDogYGZ1bGxgLCBgcGFydGlhbGAgb3IgYG5vbmVgLCBkZXBlbmRpbmcgb24gaG93IHRoZSBxdWVyeSB0ZXJtcyBtYXRjaFxuICAgKiBAbmFtZSBoaXRzXG4gICAqIEBtZW1iZXIge29iamVjdFtdfVxuICAgKiBAbWVtYmVyb2YgU2VhcmNoUmVzdWx0c1xuICAgKiBAaW5zdGFuY2VcbiAgICovXG4gIC8qKlxuICAgKiBpbmRleCB3aGVyZSB0aGUgcmVzdWx0cyBjb21lIGZyb21cbiAgICogQG5hbWUgaW5kZXhcbiAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU2VhcmNoUmVzdWx0c1xuICAgKiBAaW5zdGFuY2VcbiAgICovXG4gIC8qKlxuICAgKiBudW1iZXIgb2YgaGl0cyBwZXIgcGFnZSByZXF1ZXN0ZWRcbiAgICogQG5hbWUgaGl0c1BlclBhZ2VcbiAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgU2VhcmNoUmVzdWx0c1xuICAgKiBAaW5zdGFuY2VcbiAgICovXG4gIC8qKlxuICAgKiB0b3RhbCBudW1iZXIgb2YgaGl0cyBvZiB0aGlzIHF1ZXJ5IG9uIHRoZSBpbmRleFxuICAgKiBAbmFtZSBuYkhpdHNcbiAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgU2VhcmNoUmVzdWx0c1xuICAgKiBAaW5zdGFuY2VcbiAgICovXG4gIC8qKlxuICAgKiB0b3RhbCBudW1iZXIgb2YgcGFnZXMgd2l0aCByZXNwZWN0IHRvIHRoZSBudW1iZXIgb2YgaGl0cyBwZXIgcGFnZSBhbmQgdGhlIHRvdGFsIG51bWJlciBvZiBoaXRzXG4gICAqIEBuYW1lIG5iUGFnZXNcbiAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgU2VhcmNoUmVzdWx0c1xuICAgKiBAaW5zdGFuY2VcbiAgICovXG4gIC8qKlxuICAgKiBjdXJyZW50IHBhZ2VcbiAgICogQG5hbWUgcGFnZVxuICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBTZWFyY2hSZXN1bHRzXG4gICAqIEBpbnN0YW5jZVxuICAgKi9cbiAgLyoqXG4gICAqIFRoZSBwb3NpdGlvbiBpZiB0aGUgcG9zaXRpb24gd2FzIGd1ZXNzZWQgYnkgSVAuXG4gICAqIEBuYW1lIGFyb3VuZExhdExuZ1xuICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTZWFyY2hSZXN1bHRzXG4gICAqIEBpbnN0YW5jZVxuICAgKiBAZXhhbXBsZSBcIjQ4Ljg2MzcsMi4zNjE1XCIsXG4gICAqL1xuICAvKipcbiAgICogVGhlIHJhZGl1cyBjb21wdXRlZCBieSBBbGdvbGlhLlxuICAgKiBAbmFtZSBhdXRvbWF0aWNSYWRpdXNcbiAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU2VhcmNoUmVzdWx0c1xuICAgKiBAaW5zdGFuY2VcbiAgICogQGV4YW1wbGUgXCIxMjY3OTI5MjJcIixcbiAgICovXG4gIC8qKlxuICAgKiBTdHJpbmcgaWRlbnRpZnlpbmcgdGhlIHNlcnZlciB1c2VkIHRvIHNlcnZlIHRoaXMgcmVxdWVzdC5cbiAgICpcbiAgICogZ2V0UmFua2luZ0luZm8gbmVlZHMgdG8gYmUgc2V0IHRvIGB0cnVlYCBmb3IgdGhpcyB0byBiZSByZXR1cm5lZFxuICAgKlxuICAgKiBAbmFtZSBzZXJ2ZXJVc2VkXG4gICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFNlYXJjaFJlc3VsdHNcbiAgICogQGluc3RhbmNlXG4gICAqIEBleGFtcGxlIFwiYzctdXNlLTIuYWxnb2xpYS5uZXRcIixcbiAgICovXG4gIC8qKlxuICAgKiBCb29sZWFuIHRoYXQgaW5kaWNhdGVzIGlmIHRoZSBjb21wdXRhdGlvbiBvZiB0aGUgY291bnRzIGRpZCB0aW1lIG91dC5cbiAgICogQGRlcHJlY2F0ZWRcbiAgICogQG5hbWUgdGltZW91dENvdW50c1xuICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgU2VhcmNoUmVzdWx0c1xuICAgKiBAaW5zdGFuY2VcbiAgICovXG4gIC8qKlxuICAgKiBCb29sZWFuIHRoYXQgaW5kaWNhdGVzIGlmIHRoZSBjb21wdXRhdGlvbiBvZiB0aGUgaGl0cyBkaWQgdGltZSBvdXQuXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIEBuYW1lIHRpbWVvdXRIaXRzXG4gICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBTZWFyY2hSZXN1bHRzXG4gICAqIEBpbnN0YW5jZVxuICAgKi9cbiAgLyoqXG4gICAqIFRydWUgaWYgdGhlIGNvdW50cyBvZiB0aGUgZmFjZXRzIGlzIGV4aGF1c3RpdmVcbiAgICogQG5hbWUgZXhoYXVzdGl2ZUZhY2V0c0NvdW50XG4gICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBTZWFyY2hSZXN1bHRzXG4gICAqIEBpbnN0YW5jZVxuICAgKi9cbiAgLyoqXG4gICAqIFRydWUgaWYgdGhlIG51bWJlciBvZiBoaXRzIGlzIGV4aGF1c3RpdmVcbiAgICogQG5hbWUgZXhoYXVzdGl2ZU5iSGl0c1xuICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgU2VhcmNoUmVzdWx0c1xuICAgKiBAaW5zdGFuY2VcbiAgICovXG4gIC8qKlxuICAgKiBDb250YWlucyB0aGUgdXNlckRhdGEgaWYgdGhleSBhcmUgc2V0IGJ5IGEgW3F1ZXJ5IHJ1bGVdKGh0dHBzOi8vd3d3LmFsZ29saWEuY29tL2RvYy9ndWlkZXMvcXVlcnktcnVsZXMvcXVlcnktcnVsZXMtb3ZlcnZpZXcvKS5cbiAgICogQG5hbWUgdXNlckRhdGFcbiAgICogQG1lbWJlciB7b2JqZWN0W119XG4gICAqIEBtZW1iZXJvZiBTZWFyY2hSZXN1bHRzXG4gICAqIEBpbnN0YW5jZVxuICAgKi9cbiAgLyoqXG4gICAqIHF1ZXJ5SUQgaXMgdGhlIHVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSBxdWVyeSB1c2VkIHRvIGdlbmVyYXRlIHRoZSBjdXJyZW50IHNlYXJjaCByZXN1bHRzLlxuICAgKiBUaGlzIHZhbHVlIGlzIG9ubHkgYXZhaWxhYmxlIGlmIHRoZSBgY2xpY2tBbmFseXRpY3NgIHNlYXJjaCBwYXJhbWV0ZXIgaXMgc2V0IHRvIGB0cnVlYC5cbiAgICogQG5hbWUgcXVlcnlJRFxuICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTZWFyY2hSZXN1bHRzXG4gICAqIEBpbnN0YW5jZVxuICAgKi9cblxuICAvKipcbiAgICogc3VtIG9mIHRoZSBwcm9jZXNzaW5nIHRpbWUgb2YgYWxsIHRoZSBxdWVyaWVzXG4gICAqIEBuYW1lIHByb2Nlc3NpbmdUaW1lTVNcbiAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgU2VhcmNoUmVzdWx0c1xuICAgKiBAaW5zdGFuY2VcbiAgICovXG4gIHRoaXMucHJvY2Vzc2luZ1RpbWVNUyA9IHJlc3VsdHMucmVkdWNlKGZ1bmN0aW9uIChzdW0sIHJlc3VsdCkge1xuICAgIHJldHVybiByZXN1bHQucHJvY2Vzc2luZ1RpbWVNUyA9PT0gdW5kZWZpbmVkXG4gICAgICA/IHN1bVxuICAgICAgOiBzdW0gKyByZXN1bHQucHJvY2Vzc2luZ1RpbWVNUztcbiAgfSwgMCk7XG5cbiAgLyoqXG4gICAqIGRpc2p1bmN0aXZlIGZhY2V0cyByZXN1bHRzXG4gICAqIEBtZW1iZXIge1NlYXJjaFJlc3VsdHMuRmFjZXRbXX1cbiAgICovXG4gIHRoaXMuZGlzanVuY3RpdmVGYWNldHMgPSBbXTtcbiAgLyoqXG4gICAqIGRpc2p1bmN0aXZlIGZhY2V0cyByZXN1bHRzXG4gICAqIEBtZW1iZXIge1NlYXJjaFJlc3VsdHMuSGllcmFyY2hpY2FsRmFjZXRbXX1cbiAgICovXG4gIHRoaXMuaGllcmFyY2hpY2FsRmFjZXRzID0gc3RhdGUuaGllcmFyY2hpY2FsRmFjZXRzLm1hcChcbiAgICBmdW5jdGlvbiBpbml0RnV0dXJlVHJlZSgpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICk7XG4gIC8qKlxuICAgKiBvdGhlciBmYWNldHMgcmVzdWx0c1xuICAgKiBAbWVtYmVyIHtTZWFyY2hSZXN1bHRzLkZhY2V0W119XG4gICAqL1xuICB0aGlzLmZhY2V0cyA9IFtdO1xuXG4gIHZhciBkaXNqdW5jdGl2ZUZhY2V0cyA9IHN0YXRlLmdldFJlZmluZWREaXNqdW5jdGl2ZUZhY2V0cygpO1xuXG4gIHZhciBmYWNldHNJbmRpY2VzID0gZ2V0SW5kaWNlcyhzdGF0ZS5mYWNldHMpO1xuICB2YXIgZGlzanVuY3RpdmVGYWNldHNJbmRpY2VzID0gZ2V0SW5kaWNlcyhzdGF0ZS5kaXNqdW5jdGl2ZUZhY2V0cyk7XG4gIHZhciBuZXh0RGlzanVuY3RpdmVSZXN1bHQgPSAxO1xuXG4gIC8vIFNpbmNlIHdlIHNlbmQgcmVxdWVzdCBvbmx5IGZvciBkaXNqdW5jdGl2ZSBmYWNldHMgdGhhdCBoYXZlIGJlZW4gcmVmaW5lZCxcbiAgLy8gd2UgZ2V0IHRoZSBmYWNldHMgaW5mb3JtYXRpb24gZnJvbSB0aGUgZmlyc3QsIGdlbmVyYWwsIHJlc3BvbnNlLlxuXG4gIHZhciBtYWluRmFjZXRzID0gbWFpblN1YlJlc3BvbnNlLmZhY2V0cyB8fCB7fTtcblxuICBPYmplY3Qua2V5cyhtYWluRmFjZXRzKS5mb3JFYWNoKGZ1bmN0aW9uIChmYWNldEtleSkge1xuICAgIHZhciBmYWNldFZhbHVlT2JqZWN0ID0gbWFpbkZhY2V0c1tmYWNldEtleV07XG5cbiAgICB2YXIgaGllcmFyY2hpY2FsRmFjZXQgPSBmaW5kTWF0Y2hpbmdIaWVyYXJjaGljYWxGYWNldEZyb21BdHRyaWJ1dGVOYW1lKFxuICAgICAgc3RhdGUuaGllcmFyY2hpY2FsRmFjZXRzLFxuICAgICAgZmFjZXRLZXlcbiAgICApO1xuXG4gICAgaWYgKGhpZXJhcmNoaWNhbEZhY2V0KSB7XG4gICAgICAvLyBQbGFjZSB0aGUgaGllcmFyY2hpY2FsRmFjZXQgZGF0YSBhdCB0aGUgY29ycmVjdCBpbmRleCBkZXBlbmRpbmcgb25cbiAgICAgIC8vIHRoZSBhdHRyaWJ1dGVzIG9yZGVyIHRoYXQgd2FzIGRlZmluZWQgYXQgdGhlIGhlbHBlciBpbml0aWFsaXphdGlvblxuICAgICAgdmFyIGZhY2V0SW5kZXggPSBoaWVyYXJjaGljYWxGYWNldC5hdHRyaWJ1dGVzLmluZGV4T2YoZmFjZXRLZXkpO1xuICAgICAgdmFyIGlkeEF0dHJpYnV0ZU5hbWUgPSBmaW5kSW5kZXgoc3RhdGUuaGllcmFyY2hpY2FsRmFjZXRzLCBmdW5jdGlvbiAoZikge1xuICAgICAgICByZXR1cm4gZi5uYW1lID09PSBoaWVyYXJjaGljYWxGYWNldC5uYW1lO1xuICAgICAgfSk7XG4gICAgICBzZWxmLmhpZXJhcmNoaWNhbEZhY2V0c1tpZHhBdHRyaWJ1dGVOYW1lXVtmYWNldEluZGV4XSA9IHtcbiAgICAgICAgYXR0cmlidXRlOiBmYWNldEtleSxcbiAgICAgICAgZGF0YTogZmFjZXRWYWx1ZU9iamVjdCxcbiAgICAgICAgZXhoYXVzdGl2ZTogbWFpblN1YlJlc3BvbnNlLmV4aGF1c3RpdmVGYWNldHNDb3VudCxcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBpc0ZhY2V0RGlzanVuY3RpdmUgPSBzdGF0ZS5kaXNqdW5jdGl2ZUZhY2V0cy5pbmRleE9mKGZhY2V0S2V5KSAhPT0gLTE7XG4gICAgICB2YXIgaXNGYWNldENvbmp1bmN0aXZlID0gc3RhdGUuZmFjZXRzLmluZGV4T2YoZmFjZXRLZXkpICE9PSAtMTtcbiAgICAgIHZhciBwb3NpdGlvbjtcblxuICAgICAgaWYgKGlzRmFjZXREaXNqdW5jdGl2ZSkge1xuICAgICAgICBwb3NpdGlvbiA9IGRpc2p1bmN0aXZlRmFjZXRzSW5kaWNlc1tmYWNldEtleV07XG4gICAgICAgIHNlbGYuZGlzanVuY3RpdmVGYWNldHNbcG9zaXRpb25dID0ge1xuICAgICAgICAgIG5hbWU6IGZhY2V0S2V5LFxuICAgICAgICAgIGRhdGE6IGZhY2V0VmFsdWVPYmplY3QsXG4gICAgICAgICAgZXhoYXVzdGl2ZTogbWFpblN1YlJlc3BvbnNlLmV4aGF1c3RpdmVGYWNldHNDb3VudCxcbiAgICAgICAgfTtcbiAgICAgICAgYXNzaWduRmFjZXRTdGF0cyhcbiAgICAgICAgICBzZWxmLmRpc2p1bmN0aXZlRmFjZXRzW3Bvc2l0aW9uXSxcbiAgICAgICAgICBtYWluU3ViUmVzcG9uc2UuZmFjZXRzX3N0YXRzLFxuICAgICAgICAgIGZhY2V0S2V5XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoaXNGYWNldENvbmp1bmN0aXZlKSB7XG4gICAgICAgIHBvc2l0aW9uID0gZmFjZXRzSW5kaWNlc1tmYWNldEtleV07XG4gICAgICAgIHNlbGYuZmFjZXRzW3Bvc2l0aW9uXSA9IHtcbiAgICAgICAgICBuYW1lOiBmYWNldEtleSxcbiAgICAgICAgICBkYXRhOiBmYWNldFZhbHVlT2JqZWN0LFxuICAgICAgICAgIGV4aGF1c3RpdmU6IG1haW5TdWJSZXNwb25zZS5leGhhdXN0aXZlRmFjZXRzQ291bnQsXG4gICAgICAgIH07XG4gICAgICAgIGFzc2lnbkZhY2V0U3RhdHMoXG4gICAgICAgICAgc2VsZi5mYWNldHNbcG9zaXRpb25dLFxuICAgICAgICAgIG1haW5TdWJSZXNwb25zZS5mYWNldHNfc3RhdHMsXG4gICAgICAgICAgZmFjZXRLZXlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIC8vIE1ha2Ugc3VyZSB3ZSBkbyBub3Qga2VlcCBob2xlcyB3aXRoaW4gdGhlIGhpZXJhcmNoaWNhbCBmYWNldHNcbiAgdGhpcy5oaWVyYXJjaGljYWxGYWNldHMgPSBjb21wYWN0KHRoaXMuaGllcmFyY2hpY2FsRmFjZXRzKTtcblxuICAvLyBhZ2dyZWdhdGUgdGhlIHJlZmluZWQgZGlzanVuY3RpdmUgZmFjZXRzXG4gIGRpc2p1bmN0aXZlRmFjZXRzLmZvckVhY2goZnVuY3Rpb24gKGRpc2p1bmN0aXZlRmFjZXQpIHtcbiAgICB2YXIgcmVzdWx0ID0gcmVzdWx0c1tuZXh0RGlzanVuY3RpdmVSZXN1bHRdO1xuICAgIHZhciBmYWNldHMgPSByZXN1bHQgJiYgcmVzdWx0LmZhY2V0cyA/IHJlc3VsdC5mYWNldHMgOiB7fTtcbiAgICB2YXIgaGllcmFyY2hpY2FsRmFjZXQgPSBzdGF0ZS5nZXRIaWVyYXJjaGljYWxGYWNldEJ5TmFtZShkaXNqdW5jdGl2ZUZhY2V0KTtcblxuICAgIC8vIFRoZXJlIHNob3VsZCBiZSBvbmx5IGl0ZW0gaW4gZmFjZXRzLlxuICAgIE9iamVjdC5rZXlzKGZhY2V0cykuZm9yRWFjaChmdW5jdGlvbiAoZGZhY2V0KSB7XG4gICAgICB2YXIgZmFjZXRSZXN1bHRzID0gZmFjZXRzW2RmYWNldF07XG5cbiAgICAgIHZhciBwb3NpdGlvbjtcblxuICAgICAgaWYgKGhpZXJhcmNoaWNhbEZhY2V0KSB7XG4gICAgICAgIHBvc2l0aW9uID0gZmluZEluZGV4KHN0YXRlLmhpZXJhcmNoaWNhbEZhY2V0cywgZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgICByZXR1cm4gZi5uYW1lID09PSBoaWVyYXJjaGljYWxGYWNldC5uYW1lO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZUluZGV4ID0gZmluZEluZGV4KFxuICAgICAgICAgIHNlbGYuaGllcmFyY2hpY2FsRmFjZXRzW3Bvc2l0aW9uXSxcbiAgICAgICAgICBmdW5jdGlvbiAoZikge1xuICAgICAgICAgICAgcmV0dXJuIGYuYXR0cmlidXRlID09PSBkZmFjZXQ7XG4gICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIHByZXZpb3VzIHJlZmluZW1lbnRzIGFuZCBubyByZXN1bHRzIHNvIG5vdCBhYmxlIHRvIGZpbmQgaXRcbiAgICAgICAgaWYgKGF0dHJpYnV0ZUluZGV4ID09PSAtMSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYuaGllcmFyY2hpY2FsRmFjZXRzW3Bvc2l0aW9uXVthdHRyaWJ1dGVJbmRleF0uZGF0YSA9IG1lcmdlKFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIHNlbGYuaGllcmFyY2hpY2FsRmFjZXRzW3Bvc2l0aW9uXVthdHRyaWJ1dGVJbmRleF0uZGF0YSxcbiAgICAgICAgICBmYWNldFJlc3VsdHNcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBvc2l0aW9uID0gZGlzanVuY3RpdmVGYWNldHNJbmRpY2VzW2RmYWNldF07XG5cbiAgICAgICAgdmFyIGRhdGFGcm9tTWFpblJlcXVlc3QgPVxuICAgICAgICAgIChtYWluU3ViUmVzcG9uc2UuZmFjZXRzICYmIG1haW5TdWJSZXNwb25zZS5mYWNldHNbZGZhY2V0XSkgfHwge307XG5cbiAgICAgICAgc2VsZi5kaXNqdW5jdGl2ZUZhY2V0c1twb3NpdGlvbl0gPSB7XG4gICAgICAgICAgbmFtZTogZGZhY2V0LFxuICAgICAgICAgIGRhdGE6IGRlZmF1bHRzUHVyZSh7fSwgZmFjZXRSZXN1bHRzLCBkYXRhRnJvbU1haW5SZXF1ZXN0KSxcbiAgICAgICAgICBleGhhdXN0aXZlOiByZXN1bHQuZXhoYXVzdGl2ZUZhY2V0c0NvdW50LFxuICAgICAgICB9O1xuICAgICAgICBhc3NpZ25GYWNldFN0YXRzKFxuICAgICAgICAgIHNlbGYuZGlzanVuY3RpdmVGYWNldHNbcG9zaXRpb25dLFxuICAgICAgICAgIHJlc3VsdC5mYWNldHNfc3RhdHMsXG4gICAgICAgICAgZGZhY2V0XG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKHN0YXRlLmRpc2p1bmN0aXZlRmFjZXRzUmVmaW5lbWVudHNbZGZhY2V0XSkge1xuICAgICAgICAgIHN0YXRlLmRpc2p1bmN0aXZlRmFjZXRzUmVmaW5lbWVudHNbZGZhY2V0XS5mb3JFYWNoKGZ1bmN0aW9uIChcbiAgICAgICAgICAgIHJlZmluZW1lbnRWYWx1ZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgLy8gYWRkIHRoZSBkaXNqdW5jdGl2ZSByZWZpbmVtZW50cyBpZiBpdCBpcyBubyBtb3JlIHJldHJpZXZlZFxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAhc2VsZi5kaXNqdW5jdGl2ZUZhY2V0c1twb3NpdGlvbl0uZGF0YVtyZWZpbmVtZW50VmFsdWVdICYmXG4gICAgICAgICAgICAgIHN0YXRlLmRpc2p1bmN0aXZlRmFjZXRzUmVmaW5lbWVudHNbZGZhY2V0XS5pbmRleE9mKFxuICAgICAgICAgICAgICAgIHVuZXNjYXBlRmFjZXRWYWx1ZShyZWZpbmVtZW50VmFsdWUpXG4gICAgICAgICAgICAgICkgPiAtMVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHNlbGYuZGlzanVuY3RpdmVGYWNldHNbcG9zaXRpb25dLmRhdGFbcmVmaW5lbWVudFZhbHVlXSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBuZXh0RGlzanVuY3RpdmVSZXN1bHQrKztcbiAgfSk7XG5cbiAgLy8gaWYgd2UgaGF2ZSBzb21lIHBhcmVudCBsZXZlbCB2YWx1ZXMgZm9yIGhpZXJhcmNoaWNhbCBmYWNldHMsIG1lcmdlIHRoZW1cbiAgc3RhdGUuZ2V0UmVmaW5lZEhpZXJhcmNoaWNhbEZhY2V0cygpLmZvckVhY2goZnVuY3Rpb24gKHJlZmluZWRGYWNldCkge1xuICAgIHZhciBoaWVyYXJjaGljYWxGYWNldCA9IHN0YXRlLmdldEhpZXJhcmNoaWNhbEZhY2V0QnlOYW1lKHJlZmluZWRGYWNldCk7XG4gICAgdmFyIHNlcGFyYXRvciA9IHN0YXRlLl9nZXRIaWVyYXJjaGljYWxGYWNldFNlcGFyYXRvcihoaWVyYXJjaGljYWxGYWNldCk7XG5cbiAgICB2YXIgY3VycmVudFJlZmluZW1lbnQgPSBzdGF0ZS5nZXRIaWVyYXJjaGljYWxSZWZpbmVtZW50KHJlZmluZWRGYWNldCk7XG4gICAgLy8gaWYgd2UgYXJlIGFscmVhZHkgYXQgYSByb290IHJlZmluZW1lbnQgKG9yIG5vIHJlZmluZW1lbnQgYXQgYWxsKSwgdGhlcmUgaXMgbm9cbiAgICAvLyByb290IGxldmVsIHZhbHVlcyByZXF1ZXN0XG4gICAgaWYgKFxuICAgICAgY3VycmVudFJlZmluZW1lbnQubGVuZ3RoID09PSAwIHx8XG4gICAgICBjdXJyZW50UmVmaW5lbWVudFswXS5zcGxpdChzZXBhcmF0b3IpLmxlbmd0aCA8IDJcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXN1bHRzLnNsaWNlKG5leHREaXNqdW5jdGl2ZVJlc3VsdCkuZm9yRWFjaChmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICB2YXIgZmFjZXRzID0gcmVzdWx0ICYmIHJlc3VsdC5mYWNldHMgPyByZXN1bHQuZmFjZXRzIDoge307XG5cbiAgICAgIE9iamVjdC5rZXlzKGZhY2V0cykuZm9yRWFjaChmdW5jdGlvbiAoZGZhY2V0KSB7XG4gICAgICAgIHZhciBmYWNldFJlc3VsdHMgPSBmYWNldHNbZGZhY2V0XTtcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gZmluZEluZGV4KHN0YXRlLmhpZXJhcmNoaWNhbEZhY2V0cywgZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgICByZXR1cm4gZi5uYW1lID09PSBoaWVyYXJjaGljYWxGYWNldC5uYW1lO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZUluZGV4ID0gZmluZEluZGV4KFxuICAgICAgICAgIHNlbGYuaGllcmFyY2hpY2FsRmFjZXRzW3Bvc2l0aW9uXSxcbiAgICAgICAgICBmdW5jdGlvbiAoZikge1xuICAgICAgICAgICAgcmV0dXJuIGYuYXR0cmlidXRlID09PSBkZmFjZXQ7XG4gICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIHByZXZpb3VzIHJlZmluZW1lbnRzIGFuZCBubyByZXN1bHRzIHNvIG5vdCBhYmxlIHRvIGZpbmQgaXRcbiAgICAgICAgaWYgKGF0dHJpYnV0ZUluZGV4ID09PSAtMSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdoZW4gd2UgYWx3YXlzIGdldCByb290IGxldmVscywgaWYgdGhlIGhpdHMgcmVmaW5lbWVudCBpcyBgYmVlcnMgPiBJUEFgIChjb3VudDogNSksXG4gICAgICAgIC8vIHRoZW4gdGhlIGRpc2p1bmN0aXZlIHZhbHVlcyB3aWxsIGJlIGBiZWVyc2AgKGNvdW50OiAxMDApLFxuICAgICAgICAvLyBidXQgd2UgZG8gbm90IHdhbnQgdG8gZGlzcGxheVxuICAgICAgICAvLyAgIHwgYmVlcnMgKDEwMClcbiAgICAgICAgLy8gICAgID4gSVBBICg1KVxuICAgICAgICAvLyBXZSB3YW50XG4gICAgICAgIC8vICAgfCBiZWVycyAoNSlcbiAgICAgICAgLy8gICAgID4gSVBBICg1KVxuICAgICAgICB2YXIgZGVmYXVsdERhdGEgPSB7fTtcblxuICAgICAgICBpZiAoY3VycmVudFJlZmluZW1lbnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHZhciByb290ID0gY3VycmVudFJlZmluZW1lbnRbMF0uc3BsaXQoc2VwYXJhdG9yKVswXTtcbiAgICAgICAgICBkZWZhdWx0RGF0YVtyb290XSA9XG4gICAgICAgICAgICBzZWxmLmhpZXJhcmNoaWNhbEZhY2V0c1twb3NpdGlvbl1bYXR0cmlidXRlSW5kZXhdLmRhdGFbcm9vdF07XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLmhpZXJhcmNoaWNhbEZhY2V0c1twb3NpdGlvbl1bYXR0cmlidXRlSW5kZXhdLmRhdGEgPSBkZWZhdWx0c1B1cmUoXG4gICAgICAgICAgZGVmYXVsdERhdGEsXG4gICAgICAgICAgZmFjZXRSZXN1bHRzLFxuICAgICAgICAgIHNlbGYuaGllcmFyY2hpY2FsRmFjZXRzW3Bvc2l0aW9uXVthdHRyaWJ1dGVJbmRleF0uZGF0YVxuICAgICAgICApO1xuICAgICAgfSk7XG5cbiAgICAgIG5leHREaXNqdW5jdGl2ZVJlc3VsdCsrO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyBhZGQgdGhlIGV4Y2x1ZGVzXG4gIE9iamVjdC5rZXlzKHN0YXRlLmZhY2V0c0V4Y2x1ZGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChmYWNldE5hbWUpIHtcbiAgICB2YXIgZXhjbHVkZXMgPSBzdGF0ZS5mYWNldHNFeGNsdWRlc1tmYWNldE5hbWVdO1xuICAgIHZhciBwb3NpdGlvbiA9IGZhY2V0c0luZGljZXNbZmFjZXROYW1lXTtcblxuICAgIHNlbGYuZmFjZXRzW3Bvc2l0aW9uXSA9IHtcbiAgICAgIG5hbWU6IGZhY2V0TmFtZSxcbiAgICAgIGRhdGE6IG1haW5GYWNldHNbZmFjZXROYW1lXSxcbiAgICAgIGV4aGF1c3RpdmU6IG1haW5TdWJSZXNwb25zZS5leGhhdXN0aXZlRmFjZXRzQ291bnQsXG4gICAgfTtcbiAgICBleGNsdWRlcy5mb3JFYWNoKGZ1bmN0aW9uIChmYWNldFZhbHVlKSB7XG4gICAgICBzZWxmLmZhY2V0c1twb3NpdGlvbl0gPSBzZWxmLmZhY2V0c1twb3NpdGlvbl0gfHwgeyBuYW1lOiBmYWNldE5hbWUgfTtcbiAgICAgIHNlbGYuZmFjZXRzW3Bvc2l0aW9uXS5kYXRhID0gc2VsZi5mYWNldHNbcG9zaXRpb25dLmRhdGEgfHwge307XG4gICAgICBzZWxmLmZhY2V0c1twb3NpdGlvbl0uZGF0YVtmYWNldFZhbHVlXSA9IDA7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7QXJyYXl9XG4gICAqL1xuICB0aGlzLmhpZXJhcmNoaWNhbEZhY2V0cyA9IHRoaXMuaGllcmFyY2hpY2FsRmFjZXRzLm1hcChcbiAgICBnZW5lcmF0ZUhpZXJhcmNoaWNhbFRyZWUoc3RhdGUpXG4gICk7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtBcnJheX1cbiAgICovXG4gIHRoaXMuZmFjZXRzID0gY29tcGFjdCh0aGlzLmZhY2V0cyk7XG4gIC8qKlxuICAgKiBAdHlwZSB7QXJyYXl9XG4gICAqL1xuICB0aGlzLmRpc2p1bmN0aXZlRmFjZXRzID0gY29tcGFjdCh0aGlzLmRpc2p1bmN0aXZlRmFjZXRzKTtcblxuICB0aGlzLl9zdGF0ZSA9IHN0YXRlO1xufVxuXG4vKipcbiAqIEdldCBhIGZhY2V0IG9iamVjdCB3aXRoIGl0cyBuYW1lXG4gKiBAZGVwcmVjYXRlZFxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgbmFtZSBvZiB0aGUgZmFjZXRlZCBhdHRyaWJ1dGVcbiAqIEByZXR1cm4ge1NlYXJjaFJlc3VsdHMuRmFjZXR9IHRoZSBmYWNldCBvYmplY3RcbiAqL1xuU2VhcmNoUmVzdWx0cy5wcm90b3R5cGUuZ2V0RmFjZXRCeU5hbWUgPSBmdW5jdGlvbiAobmFtZSkge1xuICBmdW5jdGlvbiBwcmVkaWNhdGUoZmFjZXQpIHtcbiAgICByZXR1cm4gZmFjZXQubmFtZSA9PT0gbmFtZTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgZmluZCh0aGlzLmZhY2V0cywgcHJlZGljYXRlKSB8fFxuICAgIGZpbmQodGhpcy5kaXNqdW5jdGl2ZUZhY2V0cywgcHJlZGljYXRlKSB8fFxuICAgIGZpbmQodGhpcy5oaWVyYXJjaGljYWxGYWNldHMsIHByZWRpY2F0ZSlcbiAgKTtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBmYWNldCB2YWx1ZXMgb2YgYSBzcGVjaWZpZWQgYXR0cmlidXRlIGZyb20gYSBTZWFyY2hSZXN1bHRzIG9iamVjdC5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1NlYXJjaFJlc3VsdHN9IHJlc3VsdHMgdGhlIHNlYXJjaCByZXN1bHRzIHRvIHNlYXJjaCBpblxuICogQHBhcmFtIHtzdHJpbmd9IGF0dHJpYnV0ZSBuYW1lIG9mIHRoZSBmYWNldGVkIGF0dHJpYnV0ZSB0byBzZWFyY2ggZm9yXG4gKiBAcmV0dXJuIHthcnJheXxvYmplY3R9IGZhY2V0IHZhbHVlcy4gRm9yIHRoZSBoaWVyYXJjaGljYWwgZmFjZXRzIGl0IGlzIGFuIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gZXh0cmFjdE5vcm1hbGl6ZWRGYWNldFZhbHVlcyhyZXN1bHRzLCBhdHRyaWJ1dGUpIHtcbiAgZnVuY3Rpb24gcHJlZGljYXRlKGZhY2V0KSB7XG4gICAgcmV0dXJuIGZhY2V0Lm5hbWUgPT09IGF0dHJpYnV0ZTtcbiAgfVxuXG4gIGlmIChyZXN1bHRzLl9zdGF0ZS5pc0Nvbmp1bmN0aXZlRmFjZXQoYXR0cmlidXRlKSkge1xuICAgIHZhciBmYWNldCA9IGZpbmQocmVzdWx0cy5mYWNldHMsIHByZWRpY2F0ZSk7XG4gICAgaWYgKCFmYWNldCkgcmV0dXJuIFtdO1xuXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKGZhY2V0LmRhdGEpLm1hcChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgdmFyIHZhbHVlID0gZXNjYXBlRmFjZXRWYWx1ZShuYW1lKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIGVzY2FwZWRWYWx1ZTogdmFsdWUsXG4gICAgICAgIGNvdW50OiBmYWNldC5kYXRhW25hbWVdLFxuICAgICAgICBpc1JlZmluZWQ6IHJlc3VsdHMuX3N0YXRlLmlzRmFjZXRSZWZpbmVkKGF0dHJpYnV0ZSwgdmFsdWUpLFxuICAgICAgICBpc0V4Y2x1ZGVkOiByZXN1bHRzLl9zdGF0ZS5pc0V4Y2x1ZGVSZWZpbmVkKGF0dHJpYnV0ZSwgbmFtZSksXG4gICAgICB9O1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKHJlc3VsdHMuX3N0YXRlLmlzRGlzanVuY3RpdmVGYWNldChhdHRyaWJ1dGUpKSB7XG4gICAgdmFyIGRpc2p1bmN0aXZlRmFjZXQgPSBmaW5kKHJlc3VsdHMuZGlzanVuY3RpdmVGYWNldHMsIHByZWRpY2F0ZSk7XG4gICAgaWYgKCFkaXNqdW5jdGl2ZUZhY2V0KSByZXR1cm4gW107XG5cbiAgICByZXR1cm4gT2JqZWN0LmtleXMoZGlzanVuY3RpdmVGYWNldC5kYXRhKS5tYXAoZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGVzY2FwZUZhY2V0VmFsdWUobmFtZSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICBlc2NhcGVkVmFsdWU6IHZhbHVlLFxuICAgICAgICBjb3VudDogZGlzanVuY3RpdmVGYWNldC5kYXRhW25hbWVdLFxuICAgICAgICBpc1JlZmluZWQ6IHJlc3VsdHMuX3N0YXRlLmlzRGlzanVuY3RpdmVGYWNldFJlZmluZWQoYXR0cmlidXRlLCB2YWx1ZSksXG4gICAgICB9O1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKHJlc3VsdHMuX3N0YXRlLmlzSGllcmFyY2hpY2FsRmFjZXQoYXR0cmlidXRlKSkge1xuICAgIHZhciBoaWVyYXJjaGljYWxGYWNldFZhbHVlcyA9IGZpbmQocmVzdWx0cy5oaWVyYXJjaGljYWxGYWNldHMsIHByZWRpY2F0ZSk7XG4gICAgaWYgKCFoaWVyYXJjaGljYWxGYWNldFZhbHVlcykgcmV0dXJuIGhpZXJhcmNoaWNhbEZhY2V0VmFsdWVzO1xuXG4gICAgdmFyIGhpZXJhcmNoaWNhbEZhY2V0ID1cbiAgICAgIHJlc3VsdHMuX3N0YXRlLmdldEhpZXJhcmNoaWNhbEZhY2V0QnlOYW1lKGF0dHJpYnV0ZSk7XG4gICAgdmFyIHNlcGFyYXRvciA9XG4gICAgICByZXN1bHRzLl9zdGF0ZS5fZ2V0SGllcmFyY2hpY2FsRmFjZXRTZXBhcmF0b3IoaGllcmFyY2hpY2FsRmFjZXQpO1xuICAgIHZhciBjdXJyZW50UmVmaW5lbWVudCA9IHVuZXNjYXBlRmFjZXRWYWx1ZShcbiAgICAgIHJlc3VsdHMuX3N0YXRlLmdldEhpZXJhcmNoaWNhbFJlZmluZW1lbnQoYXR0cmlidXRlKVswXSB8fCAnJ1xuICAgICk7XG5cbiAgICBpZiAoY3VycmVudFJlZmluZW1lbnQuaW5kZXhPZihoaWVyYXJjaGljYWxGYWNldC5yb290UGF0aCkgPT09IDApIHtcbiAgICAgIGN1cnJlbnRSZWZpbmVtZW50ID0gY3VycmVudFJlZmluZW1lbnQucmVwbGFjZShcbiAgICAgICAgaGllcmFyY2hpY2FsRmFjZXQucm9vdFBhdGggKyBzZXBhcmF0b3IsXG4gICAgICAgICcnXG4gICAgICApO1xuICAgIH1cblxuICAgIHZhciBjdXJyZW50UmVmaW5lbWVudFNwbGl0ID0gY3VycmVudFJlZmluZW1lbnQuc3BsaXQoc2VwYXJhdG9yKTtcbiAgICBjdXJyZW50UmVmaW5lbWVudFNwbGl0LnVuc2hpZnQoYXR0cmlidXRlKTtcblxuICAgIHNldElzUmVmaW5lZChoaWVyYXJjaGljYWxGYWNldFZhbHVlcywgY3VycmVudFJlZmluZW1lbnRTcGxpdCwgMCk7XG5cbiAgICByZXR1cm4gaGllcmFyY2hpY2FsRmFjZXRWYWx1ZXM7XG4gIH1cblxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIFNldCB0aGUgaXNSZWZpbmVkIG9mIGEgaGllcmFyY2hpY2FsIGZhY2V0IHJlc3VsdCBiYXNlZCBvbiB0aGUgY3VycmVudCBzdGF0ZS5cbiAqIEBwYXJhbSB7U2VhcmNoUmVzdWx0cy5IaWVyYXJjaGljYWxGYWNldH0gaXRlbSBIaWVyYXJjaGljYWwgZmFjZXQgdG8gZml4XG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBjdXJyZW50UmVmaW5lbWVudCBhcnJheSBvZiBwYXJ0cyBvZiB0aGUgY3VycmVudCBoaWVyYXJjaGljYWwgcmVmaW5lbWVudFxuICogQHBhcmFtIHtudW1iZXJ9IGRlcHRoIHJlY3Vyc2lvbiBkZXB0aCBpbiB0aGUgY3VycmVudFJlZmluZW1lbnRcbiAqIEByZXR1cm4ge3VuZGVmaW5lZH0gZnVuY3Rpb24gbXV0YXRlcyB0aGUgaXRlbVxuICovXG5mdW5jdGlvbiBzZXRJc1JlZmluZWQoaXRlbSwgY3VycmVudFJlZmluZW1lbnQsIGRlcHRoKSB7XG4gIGl0ZW0uaXNSZWZpbmVkID0gaXRlbS5uYW1lID09PSBjdXJyZW50UmVmaW5lbWVudFtkZXB0aF07XG4gIGlmIChpdGVtLmRhdGEpIHtcbiAgICBpdGVtLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgIHNldElzUmVmaW5lZChjaGlsZCwgY3VycmVudFJlZmluZW1lbnQsIGRlcHRoICsgMSk7XG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBTb3J0IG5vZGVzIG9mIGEgaGllcmFyY2hpY2FsIG9yIGRpc2p1bmN0aXZlIGZhY2V0IHJlc3VsdHNcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBzb3J0Rm4gc29ydCBmdW5jdGlvbiB0byBhcHBseVxuICogQHBhcmFtIHtIaWVyYXJjaGljYWxGYWNldHxBcnJheX0gbm9kZSBub2RlIHVwb24gd2hpY2ggd2Ugd2FudCB0byBhcHBseSB0aGUgc29ydFxuICogQHBhcmFtIHtzdHJpbmdbXX0gbmFtZXMgYXR0cmlidXRlIG5hbWVzXG4gKiBAcGFyYW0ge251bWJlcn0gW2xldmVsPTBdIGN1cnJlbnQgaW5kZXggaW4gdGhlIG5hbWVzIGFycmF5XG4gKiBAcmV0dXJuIHtIaWVyYXJjaGljYWxGYWNldHxBcnJheX0gc29ydGVkIG5vZGVcbiAqL1xuZnVuY3Rpb24gcmVjU29ydChzb3J0Rm4sIG5vZGUsIG5hbWVzLCBsZXZlbCkge1xuICBsZXZlbCA9IGxldmVsIHx8IDA7XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkobm9kZSkpIHtcbiAgICByZXR1cm4gc29ydEZuKG5vZGUsIG5hbWVzW2xldmVsXSk7XG4gIH1cblxuICBpZiAoIW5vZGUuZGF0YSB8fCBub2RlLmRhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cblxuICB2YXIgY2hpbGRyZW4gPSBub2RlLmRhdGEubWFwKGZ1bmN0aW9uIChjaGlsZE5vZGUpIHtcbiAgICByZXR1cm4gcmVjU29ydChzb3J0Rm4sIGNoaWxkTm9kZSwgbmFtZXMsIGxldmVsICsgMSk7XG4gIH0pO1xuICB2YXIgc29ydGVkQ2hpbGRyZW4gPSBzb3J0Rm4oY2hpbGRyZW4sIG5hbWVzW2xldmVsXSk7XG4gIHZhciBuZXdOb2RlID0gZGVmYXVsdHNQdXJlKHsgZGF0YTogc29ydGVkQ2hpbGRyZW4gfSwgbm9kZSk7XG4gIHJldHVybiBuZXdOb2RlO1xufVxuXG5TZWFyY2hSZXN1bHRzLkRFRkFVTFRfU09SVCA9IFsnaXNSZWZpbmVkOmRlc2MnLCAnY291bnQ6ZGVzYycsICduYW1lOmFzYyddO1xuXG5mdW5jdGlvbiB2YW5pbGxhU29ydEZuKG9yZGVyLCBkYXRhKSB7XG4gIHJldHVybiBkYXRhLnNvcnQob3JkZXIpO1xufVxuXG4vKipcbiAqIEB0eXBlZGVmIEZhY2V0T3JkZXJpbmdcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAcHJvcGVydHkge3N0cmluZ1tdfSBbb3JkZXJdXG4gKiBAcHJvcGVydHkgeydjb3VudCcgfCAnYWxwaGEnIHwgJ2hpZGRlbid9IFtzb3J0UmVtYWluaW5nQnldXG4gKi9cblxuLyoqXG4gKiBTb3J0cyBmYWNldCBhcnJheXMgdmlhIHRoZWlyIGZhY2V0IG9yZGVyaW5nXG4gKiBAcGFyYW0ge0FycmF5fSBmYWNldFZhbHVlcyB0aGUgdmFsdWVzXG4gKiBAcGFyYW0ge0ZhY2V0T3JkZXJpbmd9IGZhY2V0T3JkZXJpbmcgdGhlIG9yZGVyaW5nXG4gKiBAcmV0dXJucyB7QXJyYXl9IHRoZSBzb3J0ZWQgZmFjZXQgdmFsdWVzXG4gKi9cbmZ1bmN0aW9uIHNvcnRWaWFGYWNldE9yZGVyaW5nKGZhY2V0VmFsdWVzLCBmYWNldE9yZGVyaW5nKSB7XG4gIHZhciBvcmRlcmVkRmFjZXRzID0gW107XG4gIHZhciByZW1haW5pbmdGYWNldHMgPSBbXTtcblxuICB2YXIgb3JkZXIgPSBmYWNldE9yZGVyaW5nLm9yZGVyIHx8IFtdO1xuICAvKipcbiAgICogYW4gb2JqZWN0IHdpdGggdGhlIGtleXMgYmVpbmcgdGhlIHZhbHVlcyBpbiBvcmRlciwgdGhlIHZhbHVlcyB0aGVpciBpbmRleDpcbiAgICogWydvbmUnLCAndHdvJ10gLT4geyBvbmU6IDAsIHR3bzogMSB9XG4gICAqL1xuICB2YXIgcmV2ZXJzZU9yZGVyID0gb3JkZXIucmVkdWNlKGZ1bmN0aW9uIChhY2MsIG5hbWUsIGkpIHtcbiAgICBhY2NbbmFtZV0gPSBpO1xuICAgIHJldHVybiBhY2M7XG4gIH0sIHt9KTtcblxuICBmYWNldFZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgLy8gaGllcmFyY2hpY2FsIGZhY2V0cyBnZXQgc29ydGVkIHVzaW5nIHRoZWlyIHJhdyBuYW1lXG4gICAgdmFyIG5hbWUgPSBpdGVtLnBhdGggfHwgaXRlbS5uYW1lO1xuICAgIGlmIChyZXZlcnNlT3JkZXJbbmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgb3JkZXJlZEZhY2V0c1tyZXZlcnNlT3JkZXJbbmFtZV1dID0gaXRlbTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtYWluaW5nRmFjZXRzLnB1c2goaXRlbSk7XG4gICAgfVxuICB9KTtcblxuICBvcmRlcmVkRmFjZXRzID0gb3JkZXJlZEZhY2V0cy5maWx0ZXIoZnVuY3Rpb24gKGZhY2V0KSB7XG4gICAgcmV0dXJuIGZhY2V0O1xuICB9KTtcblxuICB2YXIgc29ydFJlbWFpbmluZ0J5ID0gZmFjZXRPcmRlcmluZy5zb3J0UmVtYWluaW5nQnk7XG4gIHZhciBvcmRlcmluZztcbiAgaWYgKHNvcnRSZW1haW5pbmdCeSA9PT0gJ2hpZGRlbicpIHtcbiAgICByZXR1cm4gb3JkZXJlZEZhY2V0cztcbiAgfSBlbHNlIGlmIChzb3J0UmVtYWluaW5nQnkgPT09ICdhbHBoYScpIHtcbiAgICBvcmRlcmluZyA9IFtcbiAgICAgIFsncGF0aCcsICduYW1lJ10sXG4gICAgICBbJ2FzYycsICdhc2MnXSxcbiAgICBdO1xuICB9IGVsc2Uge1xuICAgIG9yZGVyaW5nID0gW1snY291bnQnXSwgWydkZXNjJ11dO1xuICB9XG5cbiAgcmV0dXJuIG9yZGVyZWRGYWNldHMuY29uY2F0KFxuICAgIG9yZGVyQnkocmVtYWluaW5nRmFjZXRzLCBvcmRlcmluZ1swXSwgb3JkZXJpbmdbMV0pXG4gICk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtTZWFyY2hSZXN1bHRzfSByZXN1bHRzIHRoZSBzZWFyY2ggcmVzdWx0cyBjbGFzc1xuICogQHBhcmFtIHtzdHJpbmd9IGF0dHJpYnV0ZSB0aGUgYXR0cmlidXRlIHRvIHJldHJpZXZlIG9yZGVyaW5nIG9mXG4gKiBAcmV0dXJucyB7RmFjZXRPcmRlcmluZyB8IHVuZGVmaW5lZH0gdGhlIGZhY2V0IG9yZGVyaW5nXG4gKi9cbmZ1bmN0aW9uIGdldEZhY2V0T3JkZXJpbmcocmVzdWx0cywgYXR0cmlidXRlKSB7XG4gIHJldHVybiAoXG4gICAgcmVzdWx0cy5yZW5kZXJpbmdDb250ZW50ICYmXG4gICAgcmVzdWx0cy5yZW5kZXJpbmdDb250ZW50LmZhY2V0T3JkZXJpbmcgJiZcbiAgICByZXN1bHRzLnJlbmRlcmluZ0NvbnRlbnQuZmFjZXRPcmRlcmluZy52YWx1ZXMgJiZcbiAgICByZXN1bHRzLnJlbmRlcmluZ0NvbnRlbnQuZmFjZXRPcmRlcmluZy52YWx1ZXNbYXR0cmlidXRlXVxuICApO1xufVxuXG4vKipcbiAqIEdldCBhIHRoZSBsaXN0IG9mIHZhbHVlcyBmb3IgYSBnaXZlbiBmYWNldCBhdHRyaWJ1dGUuIFRob3NlIHZhbHVlcyBhcmUgc29ydGVkXG4gKiByZWZpbmVtZW50IGZpcnN0LCBkZXNjZW5kaW5nIGNvdW50IChiaWdnZXIgdmFsdWUgb24gdG9wKSwgYW5kIG5hbWUgYXNjZW5kaW5nXG4gKiAoYWxwaGFiZXRpY2FsIG9yZGVyKS4gVGhlIHNvcnQgZm9ybXVsYSBjYW4gb3ZlcnJpZGRlbiB1c2luZyBlaXRoZXIgc3RyaW5nIGJhc2VkXG4gKiBwcmVkaWNhdGVzIG9yIGEgZnVuY3Rpb24uXG4gKlxuICogVGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gYWxsIHRoZSB2YWx1ZXMgcmV0dXJuZWQgYnkgdGhlIEFsZ29saWEgZW5naW5lIHBsdXMgYWxsXG4gKiB0aGUgdmFsdWVzIGFscmVhZHkgcmVmaW5lZC4gVGhpcyBtZWFucyB0aGF0IGl0IGNhbiBoYXBwZW4gdGhhdCB0aGVcbiAqIGBtYXhWYWx1ZXNQZXJGYWNldGAgW2NvbmZpZ3VyYXRpb25dKGh0dHBzOi8vd3d3LmFsZ29saWEuY29tL2RvYy9yZXN0LWFwaS9zZWFyY2gjcGFyYW0tbWF4VmFsdWVzUGVyRmFjZXQpXG4gKiBtaWdodCBub3QgYmUgcmVzcGVjdGVkIGlmIHlvdSBoYXZlIGZhY2V0IHZhbHVlcyB0aGF0IGFyZSBhbHJlYWR5IHJlZmluZWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlIGF0dHJpYnV0ZSBuYW1lXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0cyBjb25maWd1cmF0aW9uIG9wdGlvbnMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLmZhY2V0T3JkZXJpbmddXG4gKiBGb3JjZSB0aGUgdXNlIG9mIGZhY2V0T3JkZXJpbmcgZnJvbSB0aGUgcmVzdWx0IGlmIGEgc29ydEJ5IGlzIHByZXNlbnQuIElmXG4gKiBzb3J0QnkgaXNuJ3QgcHJlc2VudCwgZmFjZXRPcmRlcmluZyB3aWxsIGJlIHVzZWQgYXV0b21hdGljYWxseS5cbiAqIEBwYXJhbSB7QXJyYXkuPHN0cmluZz4gfCBmdW5jdGlvbn0gb3B0cy5zb3J0QnlcbiAqIFdoZW4gdXNpbmcgc3RyaW5ncywgaXQgY29uc2lzdHMgb2ZcbiAqIHRoZSBuYW1lIG9mIHRoZSBbRmFjZXRWYWx1ZV0oI1NlYXJjaFJlc3VsdHMuRmFjZXRWYWx1ZSkgb3IgdGhlXG4gKiBbSGllcmFyY2hpY2FsRmFjZXRdKCNTZWFyY2hSZXN1bHRzLkhpZXJhcmNoaWNhbEZhY2V0KSBhdHRyaWJ1dGVzIHdpdGggdGhlXG4gKiBvcmRlciAoYGFzY2Agb3IgYGRlc2NgKS4gRm9yIGV4YW1wbGUgdG8gb3JkZXIgdGhlIHZhbHVlIGJ5IGNvdW50LCB0aGVcbiAqIGFyZ3VtZW50IHdvdWxkIGJlIGBbJ2NvdW50OmFzYyddYC5cbiAqXG4gKiBJZiBvbmx5IHRoZSBhdHRyaWJ1dGUgbmFtZSBpcyBzcGVjaWZpZWQsIHRoZSBvcmRlcmluZyBkZWZhdWx0cyB0byB0aGUgb25lXG4gKiBzcGVjaWZpZWQgaW4gdGhlIGRlZmF1bHQgdmFsdWUgZm9yIHRoaXMgYXR0cmlidXRlLlxuICpcbiAqIFdoZW4gbm90IHNwZWNpZmllZCwgdGhlIG9yZGVyIGlzXG4gKiBhc2NlbmRpbmcuICBUaGlzIHBhcmFtZXRlciBjYW4gYWxzbyBiZSBhIGZ1bmN0aW9uIHdoaWNoIHRha2VzIHR3byBmYWNldFxuICogdmFsdWVzIGFuZCBzaG91bGQgcmV0dXJuIGEgbnVtYmVyLCAwIGlmIGVxdWFsLCAxIGlmIHRoZSBmaXJzdCBhcmd1bWVudCBpc1xuICogYmlnZ2VyIG9yIC0xIG90aGVyd2lzZS5cbiAqXG4gKiBUaGUgZGVmYXVsdCB2YWx1ZSBmb3IgdGhpcyBhdHRyaWJ1dGUgYFsnaXNSZWZpbmVkOmRlc2MnLCAnY291bnQ6ZGVzYycsICduYW1lOmFzYyddYFxuICogQHJldHVybiB7RmFjZXRWYWx1ZVtdfEhpZXJhcmNoaWNhbEZhY2V0fHVuZGVmaW5lZH0gZGVwZW5kaW5nIG9uIHRoZSB0eXBlIG9mIGZhY2V0IG9mXG4gKiB0aGUgYXR0cmlidXRlIHJlcXVlc3RlZCAoaGllcmFyY2hpY2FsLCBkaXNqdW5jdGl2ZSBvciBjb25qdW5jdGl2ZSlcbiAqIEBleGFtcGxlXG4gKiBoZWxwZXIub24oJ3Jlc3VsdCcsIGZ1bmN0aW9uKGV2ZW50KXtcbiAqICAgLy9nZXQgdmFsdWVzIG9yZGVyZWQgb25seSBieSBuYW1lIGFzY2VuZGluZyB1c2luZyB0aGUgc3RyaW5nIHByZWRpY2F0ZVxuICogICBldmVudC5yZXN1bHRzLmdldEZhY2V0VmFsdWVzKCdjaXR5Jywge3NvcnRCeTogWyduYW1lOmFzYyddfSk7XG4gKiAgIC8vZ2V0IHZhbHVlcyAgb3JkZXJlZCBvbmx5IGJ5IGNvdW50IGFzY2VuZGluZyB1c2luZyBhIGZ1bmN0aW9uXG4gKiAgIGV2ZW50LnJlc3VsdHMuZ2V0RmFjZXRWYWx1ZXMoJ2NpdHknLCB7XG4gKiAgICAgLy8gdGhpcyBpcyBlcXVpdmFsZW50IHRvIFsnY291bnQ6YXNjJ11cbiAqICAgICBzb3J0Qnk6IGZ1bmN0aW9uKGEsIGIpIHtcbiAqICAgICAgIGlmIChhLmNvdW50ID09PSBiLmNvdW50KSByZXR1cm4gMDtcbiAqICAgICAgIGlmIChhLmNvdW50ID4gYi5jb3VudCkgICByZXR1cm4gMTtcbiAqICAgICAgIGlmIChiLmNvdW50ID4gYS5jb3VudCkgICByZXR1cm4gLTE7XG4gKiAgICAgfVxuICogICB9KTtcbiAqIH0pO1xuICovXG5TZWFyY2hSZXN1bHRzLnByb3RvdHlwZS5nZXRGYWNldFZhbHVlcyA9IGZ1bmN0aW9uIChhdHRyaWJ1dGUsIG9wdHMpIHtcbiAgdmFyIGZhY2V0VmFsdWVzID0gZXh0cmFjdE5vcm1hbGl6ZWRGYWNldFZhbHVlcyh0aGlzLCBhdHRyaWJ1dGUpO1xuICBpZiAoIWZhY2V0VmFsdWVzKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIHZhciBvcHRpb25zID0gZGVmYXVsdHNQdXJlKHt9LCBvcHRzLCB7XG4gICAgc29ydEJ5OiBTZWFyY2hSZXN1bHRzLkRFRkFVTFRfU09SVCxcbiAgICAvLyBpZiBubyBzb3J0QnkgaXMgZ2l2ZW4sIGF0dGVtcHQgdG8gc29ydCBiYXNlZCBvbiBmYWNldE9yZGVyaW5nXG4gICAgLy8gaWYgaXQgaXMgZ2l2ZW4sIHdlIHN0aWxsIGFsbG93IHRvIHNvcnQgdmlhIGZhY2V0IG9yZGVyaW5nIGZpcnN0XG4gICAgZmFjZXRPcmRlcmluZzogIShvcHRzICYmIG9wdHMuc29ydEJ5KSxcbiAgfSk7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtdGhpc1xuICB2YXIgcmVzdWx0cyA9IHRoaXM7XG4gIHZhciBhdHRyaWJ1dGVzO1xuICBpZiAoQXJyYXkuaXNBcnJheShmYWNldFZhbHVlcykpIHtcbiAgICBhdHRyaWJ1dGVzID0gW2F0dHJpYnV0ZV07XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNvbmZpZyA9IHJlc3VsdHMuX3N0YXRlLmdldEhpZXJhcmNoaWNhbEZhY2V0QnlOYW1lKGZhY2V0VmFsdWVzLm5hbWUpO1xuICAgIGF0dHJpYnV0ZXMgPSBjb25maWcuYXR0cmlidXRlcztcbiAgfVxuXG4gIHJldHVybiByZWNTb3J0KFxuICAgIGZ1bmN0aW9uIChkYXRhLCBmYWNldE5hbWUpIHtcbiAgICAgIGlmIChvcHRpb25zLmZhY2V0T3JkZXJpbmcpIHtcbiAgICAgICAgdmFyIGZhY2V0T3JkZXJpbmcgPSBnZXRGYWNldE9yZGVyaW5nKHJlc3VsdHMsIGZhY2V0TmFtZSk7XG4gICAgICAgIGlmIChmYWNldE9yZGVyaW5nKSB7XG4gICAgICAgICAgcmV0dXJuIHNvcnRWaWFGYWNldE9yZGVyaW5nKGRhdGEsIGZhY2V0T3JkZXJpbmcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMuc29ydEJ5KSkge1xuICAgICAgICB2YXIgb3JkZXIgPSBmb3JtYXRTb3J0KG9wdGlvbnMuc29ydEJ5LCBTZWFyY2hSZXN1bHRzLkRFRkFVTFRfU09SVCk7XG4gICAgICAgIHJldHVybiBvcmRlckJ5KGRhdGEsIG9yZGVyWzBdLCBvcmRlclsxXSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLnNvcnRCeSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gdmFuaWxsYVNvcnRGbihvcHRpb25zLnNvcnRCeSwgZGF0YSk7XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdvcHRpb25zLnNvcnRCeSBpcyBvcHRpb25hbCBidXQgaWYgZGVmaW5lZCBpdCBtdXN0IGJlICcgK1xuICAgICAgICAgICdlaXRoZXIgYW4gYXJyYXkgb2Ygc3RyaW5nIChwcmVkaWNhdGVzKSBvciBhIHNvcnRpbmcgZnVuY3Rpb24nXG4gICAgICApO1xuICAgIH0sXG4gICAgZmFjZXRWYWx1ZXMsXG4gICAgYXR0cmlidXRlc1xuICApO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBmYWNldCBzdGF0cyBpZiBhdHRyaWJ1dGUgaXMgZGVmaW5lZCBhbmQgdGhlIGZhY2V0IGNvbnRhaW5zIHNvbWUuXG4gKiBPdGhlcndpc2UgcmV0dXJucyB1bmRlZmluZWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlIG5hbWUgb2YgdGhlIGZhY2V0ZWQgYXR0cmlidXRlXG4gKiBAcmV0dXJuIHtvYmplY3R9IFRoZSBzdGF0cyBvZiB0aGUgZmFjZXRcbiAqL1xuU2VhcmNoUmVzdWx0cy5wcm90b3R5cGUuZ2V0RmFjZXRTdGF0cyA9IGZ1bmN0aW9uIChhdHRyaWJ1dGUpIHtcbiAgaWYgKHRoaXMuX3N0YXRlLmlzQ29uanVuY3RpdmVGYWNldChhdHRyaWJ1dGUpKSB7XG4gICAgcmV0dXJuIGdldEZhY2V0U3RhdHNJZkF2YWlsYWJsZSh0aGlzLmZhY2V0cywgYXR0cmlidXRlKTtcbiAgfSBlbHNlIGlmICh0aGlzLl9zdGF0ZS5pc0Rpc2p1bmN0aXZlRmFjZXQoYXR0cmlidXRlKSkge1xuICAgIHJldHVybiBnZXRGYWNldFN0YXRzSWZBdmFpbGFibGUodGhpcy5kaXNqdW5jdGl2ZUZhY2V0cywgYXR0cmlidXRlKTtcbiAgfVxuXG4gIHJldHVybiB1bmRlZmluZWQ7XG59O1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZhY2V0TGlzdEl0ZW1cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBuYW1lXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge0ZhY2V0TGlzdEl0ZW1bXX0gZmFjZXRMaXN0IChoYXMgbW9yZSBpdGVtcywgYnV0IGVub3VnaCBmb3IgaGVyZSlcbiAqIEBwYXJhbSB7c3RyaW5nfSBmYWNldE5hbWUgVGhlIGF0dHJpYnV0ZSB0byBsb29rIGZvclxuICogQHJldHVybiB7b2JqZWN0fHVuZGVmaW5lZH0gVGhlIHN0YXRzIG9mIHRoZSBmYWNldFxuICovXG5mdW5jdGlvbiBnZXRGYWNldFN0YXRzSWZBdmFpbGFibGUoZmFjZXRMaXN0LCBmYWNldE5hbWUpIHtcbiAgdmFyIGRhdGEgPSBmaW5kKGZhY2V0TGlzdCwgZnVuY3Rpb24gKGZhY2V0KSB7XG4gICAgcmV0dXJuIGZhY2V0Lm5hbWUgPT09IGZhY2V0TmFtZTtcbiAgfSk7XG4gIHJldHVybiBkYXRhICYmIGRhdGEuc3RhdHM7XG59XG5cbi8qKlxuICogUmV0dXJucyBhbGwgcmVmaW5lbWVudHMgZm9yIGFsbCBmaWx0ZXJzICsgdGFncy4gSXQgYWxzbyBwcm92aWRlc1xuICogYWRkaXRpb25hbCBpbmZvcm1hdGlvbjogY291bnQgYW5kIGV4aGF1c3RpdmVuZXNzIGZvciBlYWNoIGZpbHRlci5cbiAqXG4gKiBTZWUgdGhlIFtyZWZpbmVtZW50IHR5cGVdKCNSZWZpbmVtZW50KSBmb3IgYW4gZXhoYXVzdGl2ZSB2aWV3IG9mIHRoZSBhdmFpbGFibGVcbiAqIGRhdGEuXG4gKlxuICogTm90ZSB0aGF0IGZvciBhIG51bWVyaWMgcmVmaW5lbWVudCwgcmVzdWx0cyBhcmUgZ3JvdXBlZCBwZXIgb3BlcmF0b3IsIHRoaXNcbiAqIG1lYW5zIHRoYXQgaXQgd2lsbCByZXR1cm4gcmVzcG9uc2VzIGZvciBvcGVyYXRvcnMgd2hpY2ggYXJlIGVtcHR5LlxuICpcbiAqIEByZXR1cm4ge0FycmF5LjxSZWZpbmVtZW50Pn0gYWxsIHRoZSByZWZpbmVtZW50c1xuICovXG5TZWFyY2hSZXN1bHRzLnByb3RvdHlwZS5nZXRSZWZpbmVtZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fc3RhdGU7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXRoaXNcbiAgdmFyIHJlc3VsdHMgPSB0aGlzO1xuICB2YXIgcmVzID0gW107XG5cbiAgT2JqZWN0LmtleXMoc3RhdGUuZmFjZXRzUmVmaW5lbWVudHMpLmZvckVhY2goZnVuY3Rpb24gKGF0dHJpYnV0ZU5hbWUpIHtcbiAgICBzdGF0ZS5mYWNldHNSZWZpbmVtZW50c1thdHRyaWJ1dGVOYW1lXS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICByZXMucHVzaChcbiAgICAgICAgZ2V0UmVmaW5lbWVudChzdGF0ZSwgJ2ZhY2V0JywgYXR0cmlidXRlTmFtZSwgbmFtZSwgcmVzdWx0cy5mYWNldHMpXG4gICAgICApO1xuICAgIH0pO1xuICB9KTtcblxuICBPYmplY3Qua2V5cyhzdGF0ZS5mYWNldHNFeGNsdWRlcykuZm9yRWFjaChmdW5jdGlvbiAoYXR0cmlidXRlTmFtZSkge1xuICAgIHN0YXRlLmZhY2V0c0V4Y2x1ZGVzW2F0dHJpYnV0ZU5hbWVdLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIHJlcy5wdXNoKFxuICAgICAgICBnZXRSZWZpbmVtZW50KHN0YXRlLCAnZXhjbHVkZScsIGF0dHJpYnV0ZU5hbWUsIG5hbWUsIHJlc3VsdHMuZmFjZXRzKVxuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgT2JqZWN0LmtleXMoc3RhdGUuZGlzanVuY3RpdmVGYWNldHNSZWZpbmVtZW50cykuZm9yRWFjaChmdW5jdGlvbiAoXG4gICAgYXR0cmlidXRlTmFtZVxuICApIHtcbiAgICBzdGF0ZS5kaXNqdW5jdGl2ZUZhY2V0c1JlZmluZW1lbnRzW2F0dHJpYnV0ZU5hbWVdLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIHJlcy5wdXNoKFxuICAgICAgICBnZXRSZWZpbmVtZW50KFxuICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICdkaXNqdW5jdGl2ZScsXG4gICAgICAgICAgYXR0cmlidXRlTmFtZSxcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIHJlc3VsdHMuZGlzanVuY3RpdmVGYWNldHNcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgT2JqZWN0LmtleXMoc3RhdGUuaGllcmFyY2hpY2FsRmFjZXRzUmVmaW5lbWVudHMpLmZvckVhY2goZnVuY3Rpb24gKFxuICAgIGF0dHJpYnV0ZU5hbWVcbiAgKSB7XG4gICAgc3RhdGUuaGllcmFyY2hpY2FsRmFjZXRzUmVmaW5lbWVudHNbYXR0cmlidXRlTmFtZV0uZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgcmVzLnB1c2goXG4gICAgICAgIGdldEhpZXJhcmNoaWNhbFJlZmluZW1lbnQoXG4gICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgYXR0cmlidXRlTmFtZSxcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIHJlc3VsdHMuaGllcmFyY2hpY2FsRmFjZXRzXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIE9iamVjdC5rZXlzKHN0YXRlLm51bWVyaWNSZWZpbmVtZW50cykuZm9yRWFjaChmdW5jdGlvbiAoYXR0cmlidXRlTmFtZSkge1xuICAgIHZhciBvcGVyYXRvcnMgPSBzdGF0ZS5udW1lcmljUmVmaW5lbWVudHNbYXR0cmlidXRlTmFtZV07XG4gICAgT2JqZWN0LmtleXMob3BlcmF0b3JzKS5mb3JFYWNoKGZ1bmN0aW9uIChvcGVyYXRvcikge1xuICAgICAgb3BlcmF0b3JzW29wZXJhdG9yXS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXMucHVzaCh7XG4gICAgICAgICAgdHlwZTogJ251bWVyaWMnLFxuICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6IGF0dHJpYnV0ZU5hbWUsXG4gICAgICAgICAgbmFtZTogdmFsdWUsXG4gICAgICAgICAgbnVtZXJpY1ZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICBvcGVyYXRvcjogb3BlcmF0b3IsXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIHN0YXRlLnRhZ1JlZmluZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXMucHVzaCh7IHR5cGU6ICd0YWcnLCBhdHRyaWJ1dGVOYW1lOiAnX3RhZ3MnLCBuYW1lOiBuYW1lIH0pO1xuICB9KTtcblxuICByZXR1cm4gcmVzO1xufTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBGYWNldFxuICogQHByb3BlcnR5IHtzdHJpbmd9IG5hbWVcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGV4aGF1c3RpdmVcbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7U2VhcmNoUGFyYW1ldGVyc30gc3RhdGUgdGhlIGN1cnJlbnQgc3RhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIHRoZSB0eXBlIG9mIHRoZSByZWZpbmVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlTmFtZSBUaGUgYXR0cmlidXRlIG9mIHRoZSBmYWNldFxuICogQHBhcmFtIHsqfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBmYWNldFxuICogQHBhcmFtIHtGYWNldFtdfSByZXN1bHRzRmFjZXRzIGZhY2V0cyBmcm9tIHRoZSByZXN1bHRzXG4gKiBAcmV0dXJuIHtSZWZpbmVtZW50fSB0aGUgcmVmaW5lbWVudFxuICovXG5mdW5jdGlvbiBnZXRSZWZpbmVtZW50KHN0YXRlLCB0eXBlLCBhdHRyaWJ1dGVOYW1lLCBuYW1lLCByZXN1bHRzRmFjZXRzKSB7XG4gIHZhciBmYWNldCA9IGZpbmQocmVzdWx0c0ZhY2V0cywgZnVuY3Rpb24gKGYpIHtcbiAgICByZXR1cm4gZi5uYW1lID09PSBhdHRyaWJ1dGVOYW1lO1xuICB9KTtcbiAgdmFyIGNvdW50ID0gZmFjZXQgJiYgZmFjZXQuZGF0YSAmJiBmYWNldC5kYXRhW25hbWVdID8gZmFjZXQuZGF0YVtuYW1lXSA6IDA7XG4gIHZhciBleGhhdXN0aXZlID0gKGZhY2V0ICYmIGZhY2V0LmV4aGF1c3RpdmUpIHx8IGZhbHNlO1xuXG4gIHJldHVybiB7XG4gICAgdHlwZTogdHlwZSxcbiAgICBhdHRyaWJ1dGVOYW1lOiBhdHRyaWJ1dGVOYW1lLFxuICAgIG5hbWU6IG5hbWUsXG4gICAgY291bnQ6IGNvdW50LFxuICAgIGV4aGF1c3RpdmU6IGV4aGF1c3RpdmUsXG4gIH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtTZWFyY2hQYXJhbWV0ZXJzfSBzdGF0ZSB0aGUgY3VycmVudCBzdGF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IGF0dHJpYnV0ZU5hbWUgdGhlIGF0dHJpYnV0ZSBvZiB0aGUgaGllcmFyY2hpY2FsIGZhY2V0XG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSB0aGUgbmFtZSBvZiB0aGUgZmFjZXRcbiAqIEBwYXJhbSB7RmFjZXRbXX0gcmVzdWx0c0ZhY2V0cyBmYWNldHMgZnJvbSB0aGUgcmVzdWx0c1xuICogQHJldHVybiB7SGllcmFyY2hpY2FsRmFjZXR9IHRoZSBoaWVyYXJjaGljYWwgZmFjZXRcbiAqL1xuZnVuY3Rpb24gZ2V0SGllcmFyY2hpY2FsUmVmaW5lbWVudChzdGF0ZSwgYXR0cmlidXRlTmFtZSwgbmFtZSwgcmVzdWx0c0ZhY2V0cykge1xuICB2YXIgZmFjZXREZWNsYXJhdGlvbiA9IHN0YXRlLmdldEhpZXJhcmNoaWNhbEZhY2V0QnlOYW1lKGF0dHJpYnV0ZU5hbWUpO1xuICB2YXIgc2VwYXJhdG9yID0gc3RhdGUuX2dldEhpZXJhcmNoaWNhbEZhY2V0U2VwYXJhdG9yKGZhY2V0RGVjbGFyYXRpb24pO1xuICB2YXIgc3BsaXQgPSBuYW1lLnNwbGl0KHNlcGFyYXRvcik7XG4gIHZhciByb290RmFjZXQgPSBmaW5kKHJlc3VsdHNGYWNldHMsIGZ1bmN0aW9uIChmYWNldCkge1xuICAgIHJldHVybiBmYWNldC5uYW1lID09PSBhdHRyaWJ1dGVOYW1lO1xuICB9KTtcblxuICB2YXIgZmFjZXQgPSBzcGxpdC5yZWR1Y2UoZnVuY3Rpb24gKGludGVybWVkaWF0ZUZhY2V0LCBwYXJ0KSB7XG4gICAgdmFyIG5ld0ZhY2V0ID1cbiAgICAgIGludGVybWVkaWF0ZUZhY2V0ICYmXG4gICAgICBmaW5kKGludGVybWVkaWF0ZUZhY2V0LmRhdGEsIGZ1bmN0aW9uIChmKSB7XG4gICAgICAgIHJldHVybiBmLm5hbWUgPT09IHBhcnQ7XG4gICAgICB9KTtcbiAgICByZXR1cm4gbmV3RmFjZXQgIT09IHVuZGVmaW5lZCA/IG5ld0ZhY2V0IDogaW50ZXJtZWRpYXRlRmFjZXQ7XG4gIH0sIHJvb3RGYWNldCk7XG5cbiAgdmFyIGNvdW50ID0gKGZhY2V0ICYmIGZhY2V0LmNvdW50KSB8fCAwO1xuICB2YXIgZXhoYXVzdGl2ZSA9IChmYWNldCAmJiBmYWNldC5leGhhdXN0aXZlKSB8fCBmYWxzZTtcbiAgdmFyIHBhdGggPSAoZmFjZXQgJiYgZmFjZXQucGF0aCkgfHwgJyc7XG5cbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnaGllcmFyY2hpY2FsJyxcbiAgICBhdHRyaWJ1dGVOYW1lOiBhdHRyaWJ1dGVOYW1lLFxuICAgIG5hbWU6IHBhdGgsXG4gICAgY291bnQ6IGNvdW50LFxuICAgIGV4aGF1c3RpdmU6IGV4aGF1c3RpdmUsXG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gU2VhcmNoUmVzdWx0cztcbiJdLCJuYW1lcyI6WyJjb21wYWN0IiwicmVxdWlyZSIsImRlZmF1bHRzUHVyZSIsImZ2IiwiZmluZCIsImZpbmRJbmRleCIsImZvcm1hdFNvcnQiLCJtZXJnZSIsIm9yZGVyQnkiLCJlc2NhcGVGYWNldFZhbHVlIiwidW5lc2NhcGVGYWNldFZhbHVlIiwiZ2VuZXJhdGVIaWVyYXJjaGljYWxUcmVlIiwiZ2V0SW5kaWNlcyIsImF0dHJpYnV0ZXMiLCJpbmRpY2VzIiwiZm9yRWFjaCIsInZhbCIsImlkeCIsImFzc2lnbkZhY2V0U3RhdHMiLCJkZXN0IiwiZmFjZXRTdGF0cyIsImtleSIsInN0YXRzIiwiZmluZE1hdGNoaW5nSGllcmFyY2hpY2FsRmFjZXRGcm9tQXR0cmlidXRlTmFtZSIsImhpZXJhcmNoaWNhbEZhY2V0cyIsImhpZXJhcmNoaWNhbEF0dHJpYnV0ZU5hbWUiLCJmYWNldEtleU1hdGNoZXNBdHRyaWJ1dGUiLCJoaWVyYXJjaGljYWxGYWNldCIsImZhY2V0TmFtZXMiLCJpbmRleE9mIiwiU2VhcmNoUmVzdWx0cyIsInN0YXRlIiwicmVzdWx0cyIsIm9wdGlvbnMiLCJtYWluU3ViUmVzcG9uc2UiLCJfcmF3UmVzdWx0cyIsInNlbGYiLCJPYmplY3QiLCJrZXlzIiwicHJvY2Vzc2luZ1RpbWVNUyIsInJlZHVjZSIsInN1bSIsInJlc3VsdCIsInVuZGVmaW5lZCIsImRpc2p1bmN0aXZlRmFjZXRzIiwibWFwIiwiaW5pdEZ1dHVyZVRyZWUiLCJmYWNldHMiLCJnZXRSZWZpbmVkRGlzanVuY3RpdmVGYWNldHMiLCJmYWNldHNJbmRpY2VzIiwiZGlzanVuY3RpdmVGYWNldHNJbmRpY2VzIiwibmV4dERpc2p1bmN0aXZlUmVzdWx0IiwibWFpbkZhY2V0cyIsImZhY2V0S2V5IiwiZmFjZXRWYWx1ZU9iamVjdCIsImZhY2V0SW5kZXgiLCJpZHhBdHRyaWJ1dGVOYW1lIiwiZiIsIm5hbWUiLCJhdHRyaWJ1dGUiLCJkYXRhIiwiZXhoYXVzdGl2ZSIsImV4aGF1c3RpdmVGYWNldHNDb3VudCIsImlzRmFjZXREaXNqdW5jdGl2ZSIsImlzRmFjZXRDb25qdW5jdGl2ZSIsInBvc2l0aW9uIiwiZmFjZXRzX3N0YXRzIiwiZGlzanVuY3RpdmVGYWNldCIsImdldEhpZXJhcmNoaWNhbEZhY2V0QnlOYW1lIiwiZGZhY2V0IiwiZmFjZXRSZXN1bHRzIiwiYXR0cmlidXRlSW5kZXgiLCJkYXRhRnJvbU1haW5SZXF1ZXN0IiwiZGlzanVuY3RpdmVGYWNldHNSZWZpbmVtZW50cyIsInJlZmluZW1lbnRWYWx1ZSIsImdldFJlZmluZWRIaWVyYXJjaGljYWxGYWNldHMiLCJyZWZpbmVkRmFjZXQiLCJzZXBhcmF0b3IiLCJfZ2V0SGllcmFyY2hpY2FsRmFjZXRTZXBhcmF0b3IiLCJjdXJyZW50UmVmaW5lbWVudCIsImdldEhpZXJhcmNoaWNhbFJlZmluZW1lbnQiLCJsZW5ndGgiLCJzcGxpdCIsInNsaWNlIiwiZGVmYXVsdERhdGEiLCJyb290IiwiZmFjZXRzRXhjbHVkZXMiLCJmYWNldE5hbWUiLCJleGNsdWRlcyIsImZhY2V0VmFsdWUiLCJfc3RhdGUiLCJwcm90b3R5cGUiLCJnZXRGYWNldEJ5TmFtZSIsInByZWRpY2F0ZSIsImZhY2V0IiwiZXh0cmFjdE5vcm1hbGl6ZWRGYWNldFZhbHVlcyIsImlzQ29uanVuY3RpdmVGYWNldCIsInZhbHVlIiwiZXNjYXBlZFZhbHVlIiwiY291bnQiLCJpc1JlZmluZWQiLCJpc0ZhY2V0UmVmaW5lZCIsImlzRXhjbHVkZWQiLCJpc0V4Y2x1ZGVSZWZpbmVkIiwiaXNEaXNqdW5jdGl2ZUZhY2V0IiwiaXNEaXNqdW5jdGl2ZUZhY2V0UmVmaW5lZCIsImlzSGllcmFyY2hpY2FsRmFjZXQiLCJoaWVyYXJjaGljYWxGYWNldFZhbHVlcyIsInJvb3RQYXRoIiwicmVwbGFjZSIsImN1cnJlbnRSZWZpbmVtZW50U3BsaXQiLCJ1bnNoaWZ0Iiwic2V0SXNSZWZpbmVkIiwiaXRlbSIsImRlcHRoIiwiY2hpbGQiLCJyZWNTb3J0Iiwic29ydEZuIiwibm9kZSIsIm5hbWVzIiwibGV2ZWwiLCJBcnJheSIsImlzQXJyYXkiLCJjaGlsZHJlbiIsImNoaWxkTm9kZSIsInNvcnRlZENoaWxkcmVuIiwibmV3Tm9kZSIsIkRFRkFVTFRfU09SVCIsInZhbmlsbGFTb3J0Rm4iLCJvcmRlciIsInNvcnQiLCJzb3J0VmlhRmFjZXRPcmRlcmluZyIsImZhY2V0VmFsdWVzIiwiZmFjZXRPcmRlcmluZyIsIm9yZGVyZWRGYWNldHMiLCJyZW1haW5pbmdGYWNldHMiLCJyZXZlcnNlT3JkZXIiLCJhY2MiLCJpIiwicGF0aCIsInB1c2giLCJmaWx0ZXIiLCJzb3J0UmVtYWluaW5nQnkiLCJvcmRlcmluZyIsImNvbmNhdCIsImdldEZhY2V0T3JkZXJpbmciLCJyZW5kZXJpbmdDb250ZW50IiwidmFsdWVzIiwiZ2V0RmFjZXRWYWx1ZXMiLCJvcHRzIiwic29ydEJ5IiwiY29uZmlnIiwiRXJyb3IiLCJnZXRGYWNldFN0YXRzIiwiZ2V0RmFjZXRTdGF0c0lmQXZhaWxhYmxlIiwiZmFjZXRMaXN0IiwiZ2V0UmVmaW5lbWVudHMiLCJyZXMiLCJmYWNldHNSZWZpbmVtZW50cyIsImF0dHJpYnV0ZU5hbWUiLCJnZXRSZWZpbmVtZW50IiwiaGllcmFyY2hpY2FsRmFjZXRzUmVmaW5lbWVudHMiLCJudW1lcmljUmVmaW5lbWVudHMiLCJvcGVyYXRvcnMiLCJvcGVyYXRvciIsInR5cGUiLCJudW1lcmljVmFsdWUiLCJ0YWdSZWZpbmVtZW50cyIsInJlc3VsdHNGYWNldHMiLCJmYWNldERlY2xhcmF0aW9uIiwicm9vdEZhY2V0IiwiaW50ZXJtZWRpYXRlRmFjZXQiLCJwYXJ0IiwibmV3RmFjZXQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/SearchResults/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/algoliasearch.helper.js":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/algoliasearch.helper.js ***!
  \**************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nvar EventEmitter = __webpack_require__(/*! @algolia/events */ \"(ssr)/./node_modules/@algolia/events/events.js\");\nvar DerivedHelper = __webpack_require__(/*! ./DerivedHelper */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/DerivedHelper/index.js\");\nvar escapeFacetValue = (__webpack_require__(/*! ./functions/escapeFacetValue */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/escapeFacetValue.js\").escapeFacetValue);\nvar inherits = __webpack_require__(/*! ./functions/inherits */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/inherits.js\");\nvar merge = __webpack_require__(/*! ./functions/merge */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/merge.js\");\nvar objectHasKeys = __webpack_require__(/*! ./functions/objectHasKeys */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/objectHasKeys.js\");\nvar omit = __webpack_require__(/*! ./functions/omit */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/omit.js\");\nvar requestBuilder = __webpack_require__(/*! ./requestBuilder */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/requestBuilder.js\");\nvar SearchParameters = __webpack_require__(/*! ./SearchParameters */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/SearchParameters/index.js\");\nvar SearchResults = __webpack_require__(/*! ./SearchResults */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/SearchResults/index.js\");\nvar version = __webpack_require__(/*! ./version */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/version.js\");\n/**\n * Event triggered when a parameter is set or updated\n * @event AlgoliaSearchHelper#event:change\n * @property {object} event\n * @property {SearchParameters} event.state the current parameters with the latest changes applied\n * @property {SearchResults} event.results the previous results received from Algolia. `null` before the first request\n * @example\n * helper.on('change', function(event) {\n *   console.log('The parameters have changed');\n * });\n */ /**\n * Event triggered when a main search is sent to Algolia\n * @event AlgoliaSearchHelper#event:search\n * @property {object} event\n * @property {SearchParameters} event.state the parameters used for this search\n * @property {SearchResults} event.results the results from the previous search. `null` if it is the first search.\n * @example\n * helper.on('search', function(event) {\n *   console.log('Search sent');\n * });\n */ /**\n * Event triggered when a search using `searchForFacetValues` is sent to Algolia\n * @event AlgoliaSearchHelper#event:searchForFacetValues\n * @property {object} event\n * @property {SearchParameters} event.state the parameters used for this search it is the first search.\n * @property {string} event.facet the facet searched into\n * @property {string} event.query the query used to search in the facets\n * @example\n * helper.on('searchForFacetValues', function(event) {\n *   console.log('searchForFacetValues sent');\n * });\n */ /**\n * Event triggered when a search using `searchOnce` is sent to Algolia\n * @event AlgoliaSearchHelper#event:searchOnce\n * @property {object} event\n * @property {SearchParameters} event.state the parameters used for this search it is the first search.\n * @example\n * helper.on('searchOnce', function(event) {\n *   console.log('searchOnce sent');\n * });\n */ /**\n * Event triggered when the results are retrieved from Algolia\n * @event AlgoliaSearchHelper#event:result\n * @property {object} event\n * @property {SearchResults} event.results the results received from Algolia\n * @property {SearchParameters} event.state the parameters used to query Algolia. Those might be different from the one in the helper instance (for example if the network is unreliable).\n * @example\n * helper.on('result', function(event) {\n *   console.log('Search results received');\n * });\n */ /**\n * Event triggered when Algolia sends back an error. For example, if an unknown parameter is\n * used, the error can be caught using this event.\n * @event AlgoliaSearchHelper#event:error\n * @property {object} event\n * @property {Error} event.error the error returned by the Algolia.\n * @example\n * helper.on('error', function(event) {\n *   console.log('Houston we got a problem.');\n * });\n */ /**\n * Event triggered when the queue of queries have been depleted (with any result or outdated queries)\n * @event AlgoliaSearchHelper#event:searchQueueEmpty\n * @example\n * helper.on('searchQueueEmpty', function() {\n *   console.log('No more search pending');\n *   // This is received before the result event if we're not expecting new results\n * });\n *\n * helper.search();\n */ /**\n * Initialize a new AlgoliaSearchHelper\n * @class\n * @classdesc The AlgoliaSearchHelper is a class that ease the management of the\n * search. It provides an event based interface for search callbacks:\n *  - change: when the internal search state is changed.\n *    This event contains a {@link SearchParameters} object and the\n *    {@link SearchResults} of the last result if any.\n *  - search: when a search is triggered using the `search()` method.\n *  - result: when the response is retrieved from Algolia and is processed.\n *    This event contains a {@link SearchResults} object and the\n *    {@link SearchParameters} corresponding to this answer.\n *  - error: when the response is an error. This event contains the error returned by the server.\n * @param  {AlgoliaSearch} client an AlgoliaSearch client\n * @param  {string} index the index name to query\n * @param  {SearchParameters | object} options an object defining the initial\n * config of the search. It doesn't have to be a {SearchParameters},\n * just an object containing the properties you need from it.\n */ function AlgoliaSearchHelper(client, index, options) {\n    if (typeof client.addAlgoliaAgent === \"function\") {\n        client.addAlgoliaAgent(\"JS Helper (\" + version + \")\");\n    }\n    this.setClient(client);\n    var opts = options || {};\n    opts.index = index;\n    this.state = SearchParameters.make(opts);\n    this.lastResults = null;\n    this._queryId = 0;\n    this._lastQueryIdReceived = -1;\n    this.derivedHelpers = [];\n    this._currentNbQueries = 0;\n}\ninherits(AlgoliaSearchHelper, EventEmitter);\n/**\n * Start the search with the parameters set in the state. When the\n * method is called, it triggers a `search` event. The results will\n * be available through the `result` event. If an error occurs, an\n * `error` will be fired instead.\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires search\n * @fires result\n * @fires error\n * @chainable\n */ AlgoliaSearchHelper.prototype.search = function() {\n    this._search({\n        onlyWithDerivedHelpers: false\n    });\n    return this;\n};\nAlgoliaSearchHelper.prototype.searchOnlyWithDerivedHelpers = function() {\n    this._search({\n        onlyWithDerivedHelpers: true\n    });\n    return this;\n};\n/**\n * Gets the search query parameters that would be sent to the Algolia Client\n * for the hits\n * @return {object} Query Parameters\n */ AlgoliaSearchHelper.prototype.getQuery = function() {\n    var state = this.state;\n    return requestBuilder._getHitsSearchParams(state);\n};\n/**\n * Start a search using a modified version of the current state. This method does\n * not trigger the helper lifecycle and does not modify the state kept internally\n * by the helper. This second aspect means that the next search call will be the\n * same as a search call before calling searchOnce.\n * @param {object} options can contain all the parameters that can be set to SearchParameters\n * plus the index\n * @param {function} [cb] optional callback executed when the response from the\n * server is back.\n * @return {promise|undefined} if a callback is passed the method returns undefined\n * otherwise it returns a promise containing an object with two keys :\n *  - content with a SearchResults\n *  - state with the state used for the query as a SearchParameters\n * @example\n * // Changing the number of records returned per page to 1\n * // This example uses the callback API\n * var state = helper.searchOnce({hitsPerPage: 1},\n *   function(error, content, state) {\n *     // if an error occurred it will be passed in error, otherwise its value is null\n *     // content contains the results formatted as a SearchResults\n *     // state is the instance of SearchParameters used for this search\n *   });\n * @example\n * // Changing the number of records returned per page to 1\n * // This example uses the promise API\n * var state1 = helper.searchOnce({hitsPerPage: 1})\n *                 .then(promiseHandler);\n *\n * function promiseHandler(res) {\n *   // res contains\n *   // {\n *   //   content : SearchResults\n *   //   state   : SearchParameters (the one used for this specific search)\n *   // }\n * }\n */ AlgoliaSearchHelper.prototype.searchOnce = function(options, cb) {\n    var tempState = !options ? this.state : this.state.setQueryParameters(options);\n    var queries = requestBuilder._getQueries(tempState.index, tempState);\n    // eslint-disable-next-line consistent-this\n    var self = this;\n    this._currentNbQueries++;\n    this.emit(\"searchOnce\", {\n        state: tempState\n    });\n    if (cb) {\n        this.client.search(queries).then(function(content) {\n            self._currentNbQueries--;\n            if (self._currentNbQueries === 0) {\n                self.emit(\"searchQueueEmpty\");\n            }\n            cb(null, new SearchResults(tempState, content.results), tempState);\n        }).catch(function(err) {\n            self._currentNbQueries--;\n            if (self._currentNbQueries === 0) {\n                self.emit(\"searchQueueEmpty\");\n            }\n            cb(err, null, tempState);\n        });\n        return undefined;\n    }\n    return this.client.search(queries).then(function(content) {\n        self._currentNbQueries--;\n        if (self._currentNbQueries === 0) self.emit(\"searchQueueEmpty\");\n        return {\n            content: new SearchResults(tempState, content.results),\n            state: tempState,\n            _originalResponse: content\n        };\n    }, function(e) {\n        self._currentNbQueries--;\n        if (self._currentNbQueries === 0) self.emit(\"searchQueueEmpty\");\n        throw e;\n    });\n};\n/**\n * Start the search for answers with the parameters set in the state.\n * This method returns a promise.\n * @param {Object} options - the options for answers API call\n * @param {string[]} options.attributesForPrediction - Attributes to use for predictions. If empty, `searchableAttributes` is used instead.\n * @param {string[]} options.queryLanguages - The languages in the query. Currently only supports ['en'].\n * @param {number} options.nbHits - Maximum number of answers to retrieve from the Answers Engine. Cannot be greater than 1000.\n *\n * @return {promise} the answer results\n * @deprecated answers is deprecated and will be replaced with new initiatives\n */ AlgoliaSearchHelper.prototype.findAnswers = function(options) {\n    // eslint-disable-next-line no-console\n    console.warn(\"[algoliasearch-helper] answers is no longer supported\");\n    var state = this.state;\n    var derivedHelper = this.derivedHelpers[0];\n    if (!derivedHelper) {\n        return Promise.resolve([]);\n    }\n    var derivedState = derivedHelper.getModifiedState(state);\n    var data = merge({\n        attributesForPrediction: options.attributesForPrediction,\n        nbHits: options.nbHits\n    }, {\n        params: omit(requestBuilder._getHitsSearchParams(derivedState), [\n            \"attributesToSnippet\",\n            \"hitsPerPage\",\n            \"restrictSearchableAttributes\",\n            \"snippetEllipsisText\"\n        ])\n    });\n    var errorMessage = \"search for answers was called, but this client does not have a function client.initIndex(index).findAnswers\";\n    if (typeof this.client.initIndex !== \"function\") {\n        throw new Error(errorMessage);\n    }\n    var index = this.client.initIndex(derivedState.index);\n    if (typeof index.findAnswers !== \"function\") {\n        throw new Error(errorMessage);\n    }\n    return index.findAnswers(derivedState.query, options.queryLanguages, data);\n};\n/**\n * Structure of each result when using\n * [`searchForFacetValues()`](reference.html#AlgoliaSearchHelper#searchForFacetValues)\n * @typedef FacetSearchHit\n * @type {object}\n * @property {string} value the facet value\n * @property {string} highlighted the facet value highlighted with the query string\n * @property {number} count number of occurrence of this facet value\n * @property {boolean} isRefined true if the value is already refined\n */ /**\n * Structure of the data resolved by the\n * [`searchForFacetValues()`](reference.html#AlgoliaSearchHelper#searchForFacetValues)\n * promise.\n * @typedef FacetSearchResult\n * @type {object}\n * @property {FacetSearchHit} facetHits the results for this search for facet values\n * @property {number} processingTimeMS time taken by the query inside the engine\n */ /**\n * Search for facet values based on an query and the name of a faceted attribute. This\n * triggers a search and will return a promise. On top of using the query, it also sends\n * the parameters from the state so that the search is narrowed down to only the possible values.\n *\n * See the description of [FacetSearchResult](reference.html#FacetSearchResult)\n * @param {string} facet the name of the faceted attribute\n * @param {string} query the string query for the search\n * @param {number} [maxFacetHits] the maximum number values returned. Should be > 0 and <= 100\n * @param {object} [userState] the set of custom parameters to use on top of the current state. Setting a property to `undefined` removes\n * it in the generated query.\n * @return {promise.<FacetSearchResult>} the results of the search\n */ AlgoliaSearchHelper.prototype.searchForFacetValues = function(facet, query, maxFacetHits, userState) {\n    var clientHasSFFV = typeof this.client.searchForFacetValues === \"function\";\n    var clientHasInitIndex = typeof this.client.initIndex === \"function\";\n    if (!clientHasSFFV && !clientHasInitIndex && typeof this.client.search !== \"function\") {\n        throw new Error(\"search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues\");\n    }\n    var state = this.state.setQueryParameters(userState || {});\n    var isDisjunctive = state.isDisjunctiveFacet(facet);\n    var algoliaQuery = requestBuilder.getSearchForFacetQuery(facet, query, maxFacetHits, state);\n    this._currentNbQueries++;\n    // eslint-disable-next-line consistent-this\n    var self = this;\n    var searchForFacetValuesPromise;\n    // newer algoliasearch ^3.27.1 - ~4.0.0\n    if (clientHasSFFV) {\n        searchForFacetValuesPromise = this.client.searchForFacetValues([\n            {\n                indexName: state.index,\n                params: algoliaQuery\n            }\n        ]);\n    // algoliasearch < 3.27.1\n    } else if (clientHasInitIndex) {\n        searchForFacetValuesPromise = this.client.initIndex(state.index).searchForFacetValues(algoliaQuery);\n    // algoliasearch ~5.0.0\n    } else {\n        // @MAJOR only use client.search\n        delete algoliaQuery.facetName;\n        searchForFacetValuesPromise = this.client.search([\n            {\n                type: \"facet\",\n                facet: facet,\n                indexName: state.index,\n                params: algoliaQuery\n            }\n        ]).then(function processResponse(response) {\n            return response.results[0];\n        });\n    }\n    this.emit(\"searchForFacetValues\", {\n        state: state,\n        facet: facet,\n        query: query\n    });\n    return searchForFacetValuesPromise.then(function addIsRefined(content) {\n        self._currentNbQueries--;\n        if (self._currentNbQueries === 0) self.emit(\"searchQueueEmpty\");\n        content = Array.isArray(content) ? content[0] : content;\n        content.facetHits.forEach(function(f) {\n            f.escapedValue = escapeFacetValue(f.value);\n            f.isRefined = isDisjunctive ? state.isDisjunctiveFacetRefined(facet, f.escapedValue) : state.isFacetRefined(facet, f.escapedValue);\n        });\n        return content;\n    }, function(e) {\n        self._currentNbQueries--;\n        if (self._currentNbQueries === 0) self.emit(\"searchQueueEmpty\");\n        throw e;\n    });\n};\n/**\n * Sets the text query used for the search.\n *\n * This method resets the current page to 0.\n * @param  {string} q the user query\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */ AlgoliaSearchHelper.prototype.setQuery = function(q) {\n    this._change({\n        state: this.state.resetPage().setQuery(q),\n        isPageReset: true\n    });\n    return this;\n};\n/**\n * Remove all the types of refinements except tags. A string can be provided to remove\n * only the refinements of a specific attribute. For more advanced use case, you can\n * provide a function instead. This function should follow the\n * [clearCallback definition](#SearchParameters.clearCallback).\n *\n * This method resets the current page to 0.\n * @param {string} [name] optional name of the facet / attribute on which we want to remove all refinements\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n * @example\n * // Removing all the refinements\n * helper.clearRefinements().search();\n * @example\n * // Removing all the filters on a the category attribute.\n * helper.clearRefinements('category').search();\n * @example\n * // Removing only the exclude filters on the category facet.\n * helper.clearRefinements(function(value, attribute, type) {\n *   return type === 'exclude' && attribute === 'category';\n * }).search();\n */ AlgoliaSearchHelper.prototype.clearRefinements = function(name) {\n    this._change({\n        state: this.state.resetPage().clearRefinements(name),\n        isPageReset: true\n    });\n    return this;\n};\n/**\n * Remove all the tag filters.\n *\n * This method resets the current page to 0.\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */ AlgoliaSearchHelper.prototype.clearTags = function() {\n    this._change({\n        state: this.state.resetPage().clearTags(),\n        isPageReset: true\n    });\n    return this;\n};\n/**\n * Adds a disjunctive filter to a faceted attribute with the `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value (will be converted to string)\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */ AlgoliaSearchHelper.prototype.addDisjunctiveFacetRefinement = function(facet, value) {\n    this._change({\n        state: this.state.resetPage().addDisjunctiveFacetRefinement(facet, value),\n        isPageReset: true\n    });\n    return this;\n};\n// eslint-disable-next-line valid-jsdoc\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#addDisjunctiveFacetRefinement}\n */ AlgoliaSearchHelper.prototype.addDisjunctiveRefine = function() {\n    return this.addDisjunctiveFacetRefinement.apply(this, arguments);\n};\n/**\n * Adds a refinement on a hierarchical facet. It will throw\n * an exception if the facet is not defined or if the facet\n * is already refined.\n *\n * This method resets the current page to 0.\n * @param {string} facet the facet name\n * @param {string} path the hierarchical facet path\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @throws Error if the facet is not defined or if the facet is refined\n * @chainable\n * @fires change\n */ AlgoliaSearchHelper.prototype.addHierarchicalFacetRefinement = function(facet, path) {\n    this._change({\n        state: this.state.resetPage().addHierarchicalFacetRefinement(facet, path),\n        isPageReset: true\n    });\n    return this;\n};\n/**\n * Adds a an numeric filter to an attribute with the `operator` and `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} attribute the attribute on which the numeric filter applies\n * @param  {string} operator the operator of the filter\n * @param  {number} value the value of the filter\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */ AlgoliaSearchHelper.prototype.addNumericRefinement = function(attribute, operator, value) {\n    this._change({\n        state: this.state.resetPage().addNumericRefinement(attribute, operator, value),\n        isPageReset: true\n    });\n    return this;\n};\n/**\n * Adds a filter to a faceted attribute with the `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value (will be converted to string)\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */ AlgoliaSearchHelper.prototype.addFacetRefinement = function(facet, value) {\n    this._change({\n        state: this.state.resetPage().addFacetRefinement(facet, value),\n        isPageReset: true\n    });\n    return this;\n};\n// eslint-disable-next-line valid-jsdoc\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#addFacetRefinement}\n */ AlgoliaSearchHelper.prototype.addRefine = function() {\n    return this.addFacetRefinement.apply(this, arguments);\n};\n/**\n * Adds a an exclusion filter to a faceted attribute with the `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value (will be converted to string)\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */ AlgoliaSearchHelper.prototype.addFacetExclusion = function(facet, value) {\n    this._change({\n        state: this.state.resetPage().addExcludeRefinement(facet, value),\n        isPageReset: true\n    });\n    return this;\n};\n// eslint-disable-next-line valid-jsdoc\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#addFacetExclusion}\n */ AlgoliaSearchHelper.prototype.addExclude = function() {\n    return this.addFacetExclusion.apply(this, arguments);\n};\n/**\n * Adds a tag filter with the `tag` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param {string} tag the tag to add to the filter\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */ AlgoliaSearchHelper.prototype.addTag = function(tag) {\n    this._change({\n        state: this.state.resetPage().addTagRefinement(tag),\n        isPageReset: true\n    });\n    return this;\n};\n/**\n * Removes an numeric filter to an attribute with the `operator` and `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * Some parameters are optional, triggering different behavior:\n *  - if the value is not provided, then all the numeric value will be removed for the\n *  specified attribute/operator couple.\n *  - if the operator is not provided either, then all the numeric filter on this attribute\n *  will be removed.\n *\n * This method resets the current page to 0.\n * @param  {string} attribute the attribute on which the numeric filter applies\n * @param  {string} [operator] the operator of the filter\n * @param  {number} [value] the value of the filter\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */ AlgoliaSearchHelper.prototype.removeNumericRefinement = function(attribute, operator, value) {\n    this._change({\n        state: this.state.resetPage().removeNumericRefinement(attribute, operator, value),\n        isPageReset: true\n    });\n    return this;\n};\n/**\n * Removes a disjunctive filter to a faceted attribute with the `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * If the value is omitted, then this method will remove all the filters for the\n * attribute.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} [value] the associated value\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */ AlgoliaSearchHelper.prototype.removeDisjunctiveFacetRefinement = function(facet, value) {\n    this._change({\n        state: this.state.resetPage().removeDisjunctiveFacetRefinement(facet, value),\n        isPageReset: true\n    });\n    return this;\n};\n// eslint-disable-next-line valid-jsdoc\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#removeDisjunctiveFacetRefinement}\n */ AlgoliaSearchHelper.prototype.removeDisjunctiveRefine = function() {\n    return this.removeDisjunctiveFacetRefinement.apply(this, arguments);\n};\n/**\n * Removes the refinement set on a hierarchical facet.\n * @param {string} facet the facet name\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @throws Error if the facet is not defined or if the facet is not refined\n * @fires change\n * @chainable\n */ AlgoliaSearchHelper.prototype.removeHierarchicalFacetRefinement = function(facet) {\n    this._change({\n        state: this.state.resetPage().removeHierarchicalFacetRefinement(facet),\n        isPageReset: true\n    });\n    return this;\n};\n/**\n * Removes a filter to a faceted attribute with the `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * If the value is omitted, then this method will remove all the filters for the\n * attribute.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} [value] the associated value\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */ AlgoliaSearchHelper.prototype.removeFacetRefinement = function(facet, value) {\n    this._change({\n        state: this.state.resetPage().removeFacetRefinement(facet, value),\n        isPageReset: true\n    });\n    return this;\n};\n// eslint-disable-next-line valid-jsdoc\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#removeFacetRefinement}\n */ AlgoliaSearchHelper.prototype.removeRefine = function() {\n    return this.removeFacetRefinement.apply(this, arguments);\n};\n/**\n * Removes an exclusion filter to a faceted attribute with the `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * If the value is omitted, then this method will remove all the filters for the\n * attribute.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} [value] the associated value\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */ AlgoliaSearchHelper.prototype.removeFacetExclusion = function(facet, value) {\n    this._change({\n        state: this.state.resetPage().removeExcludeRefinement(facet, value),\n        isPageReset: true\n    });\n    return this;\n};\n// eslint-disable-next-line valid-jsdoc\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#removeFacetExclusion}\n */ AlgoliaSearchHelper.prototype.removeExclude = function() {\n    return this.removeFacetExclusion.apply(this, arguments);\n};\n/**\n * Removes a tag filter with the `tag` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param {string} tag tag to remove from the filter\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */ AlgoliaSearchHelper.prototype.removeTag = function(tag) {\n    this._change({\n        state: this.state.resetPage().removeTagRefinement(tag),\n        isPageReset: true\n    });\n    return this;\n};\n/**\n * Adds or removes an exclusion filter to a faceted attribute with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */ AlgoliaSearchHelper.prototype.toggleFacetExclusion = function(facet, value) {\n    this._change({\n        state: this.state.resetPage().toggleExcludeFacetRefinement(facet, value),\n        isPageReset: true\n    });\n    return this;\n};\n// eslint-disable-next-line valid-jsdoc\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#toggleFacetExclusion}\n */ AlgoliaSearchHelper.prototype.toggleExclude = function() {\n    return this.toggleFacetExclusion.apply(this, arguments);\n};\n/**\n * Adds or removes a filter to a faceted attribute with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method can be used for conjunctive, disjunctive and hierarchical filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @throws Error will throw an error if the facet is not declared in the settings of the helper\n * @fires change\n * @chainable\n * @deprecated since version 2.19.0, see {@link AlgoliaSearchHelper#toggleFacetRefinement}\n */ AlgoliaSearchHelper.prototype.toggleRefinement = function(facet, value) {\n    return this.toggleFacetRefinement(facet, value);\n};\n/**\n * Adds or removes a filter to a faceted attribute with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method can be used for conjunctive, disjunctive and hierarchical filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @throws Error will throw an error if the facet is not declared in the settings of the helper\n * @fires change\n * @chainable\n */ AlgoliaSearchHelper.prototype.toggleFacetRefinement = function(facet, value) {\n    this._change({\n        state: this.state.resetPage().toggleFacetRefinement(facet, value),\n        isPageReset: true\n    });\n    return this;\n};\n// eslint-disable-next-line valid-jsdoc\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#toggleFacetRefinement}\n */ AlgoliaSearchHelper.prototype.toggleRefine = function() {\n    return this.toggleFacetRefinement.apply(this, arguments);\n};\n/**\n * Adds or removes a tag filter with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method resets the current page to 0.\n * @param {string} tag tag to remove or add\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */ AlgoliaSearchHelper.prototype.toggleTag = function(tag) {\n    this._change({\n        state: this.state.resetPage().toggleTagRefinement(tag),\n        isPageReset: true\n    });\n    return this;\n};\n/**\n * Increments the page number by one.\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n * @example\n * helper.setPage(0).nextPage().getPage();\n * // returns 1\n */ AlgoliaSearchHelper.prototype.nextPage = function() {\n    var page = this.state.page || 0;\n    return this.setPage(page + 1);\n};\n/**\n * Decrements the page number by one.\n * @fires change\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @chainable\n * @example\n * helper.setPage(1).previousPage().getPage();\n * // returns 0\n */ AlgoliaSearchHelper.prototype.previousPage = function() {\n    var page = this.state.page || 0;\n    return this.setPage(page - 1);\n};\n/**\n * @private\n * @param {number} page The page number\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @chainable\n * @fires change\n */ function setCurrentPage(page) {\n    if (page < 0) throw new Error(\"Page requested below 0.\");\n    this._change({\n        state: this.state.setPage(page),\n        isPageReset: false\n    });\n    return this;\n}\n/**\n * Change the current page\n * @deprecated\n * @param  {number} page The page number\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */ AlgoliaSearchHelper.prototype.setCurrentPage = setCurrentPage;\n/**\n * Updates the current page.\n * @function\n * @param  {number} page The page number\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */ AlgoliaSearchHelper.prototype.setPage = setCurrentPage;\n/**\n * Updates the name of the index that will be targeted by the query.\n *\n * This method resets the current page to 0.\n * @param {string} name the index name\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */ AlgoliaSearchHelper.prototype.setIndex = function(name) {\n    this._change({\n        state: this.state.resetPage().setIndex(name),\n        isPageReset: true\n    });\n    return this;\n};\n/**\n * Update a parameter of the search. This method reset the page\n *\n * The complete list of parameters is available on the\n * [Algolia website](https://www.algolia.com/doc/rest#query-an-index).\n * The most commonly used parameters have their own [shortcuts](#query-parameters-shortcuts)\n * or benefit from higher-level APIs (all the kind of filters and facets have their own API)\n *\n * This method resets the current page to 0.\n * @param {string} parameter name of the parameter to update\n * @param {any} value new value of the parameter\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n * @example\n * helper.setQueryParameter('hitsPerPage', 20).search();\n */ AlgoliaSearchHelper.prototype.setQueryParameter = function(parameter, value) {\n    this._change({\n        state: this.state.resetPage().setQueryParameter(parameter, value),\n        isPageReset: true\n    });\n    return this;\n};\n/**\n * Set the whole state (warning: will erase previous state)\n * @param {SearchParameters} newState the whole new state\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */ AlgoliaSearchHelper.prototype.setState = function(newState) {\n    this._change({\n        state: SearchParameters.make(newState),\n        isPageReset: false\n    });\n    return this;\n};\n/**\n * Override the current state without triggering a change event.\n * Do not use this method unless you know what you are doing. (see the example\n * for a legit use case)\n * @param {SearchParameters} newState the whole new state\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @example\n *  helper.on('change', function(state){\n *    // In this function you might want to find a way to store the state in the url/history\n *    updateYourURL(state)\n *  })\n *  window.onpopstate = function(event){\n *    // This is naive though as you should check if the state is really defined etc.\n *    helper.overrideStateWithoutTriggeringChangeEvent(event.state).search()\n *  }\n * @chainable\n */ AlgoliaSearchHelper.prototype.overrideStateWithoutTriggeringChangeEvent = function(newState) {\n    this.state = new SearchParameters(newState);\n    return this;\n};\n/**\n * Check if an attribute has any numeric, conjunctive, disjunctive or hierarchical filters.\n * @param {string} attribute the name of the attribute\n * @return {boolean} true if the attribute is filtered by at least one value\n * @example\n * // hasRefinements works with numeric, conjunctive, disjunctive and hierarchical filters\n * helper.hasRefinements('price'); // false\n * helper.addNumericRefinement('price', '>', 100);\n * helper.hasRefinements('price'); // true\n *\n * helper.hasRefinements('color'); // false\n * helper.addFacetRefinement('color', 'blue');\n * helper.hasRefinements('color'); // true\n *\n * helper.hasRefinements('material'); // false\n * helper.addDisjunctiveFacetRefinement('material', 'plastic');\n * helper.hasRefinements('material'); // true\n *\n * helper.hasRefinements('categories'); // false\n * helper.toggleFacetRefinement('categories', 'kitchen > knife');\n * helper.hasRefinements('categories'); // true\n *\n */ AlgoliaSearchHelper.prototype.hasRefinements = function(attribute) {\n    if (objectHasKeys(this.state.getNumericRefinements(attribute))) {\n        return true;\n    } else if (this.state.isConjunctiveFacet(attribute)) {\n        return this.state.isFacetRefined(attribute);\n    } else if (this.state.isDisjunctiveFacet(attribute)) {\n        return this.state.isDisjunctiveFacetRefined(attribute);\n    } else if (this.state.isHierarchicalFacet(attribute)) {\n        return this.state.isHierarchicalFacetRefined(attribute);\n    }\n    // there's currently no way to know that the user did call `addNumericRefinement` at some point\n    // thus we cannot distinguish if there once was a numeric refinement that was cleared\n    // so we will return false in every other situations to be consistent\n    // while what we should do here is throw because we did not find the attribute in any type\n    // of refinement\n    return false;\n};\n/**\n * Check if a value is excluded for a specific faceted attribute. If the value\n * is omitted then the function checks if there is any excluding refinements.\n *\n * @param  {string}  facet name of the attribute for used for faceting\n * @param  {string}  [value] optional value. If passed will test that this value\n * is filtering the given facet.\n * @return {boolean} true if refined\n * @example\n * helper.isExcludeRefined('color'); // false\n * helper.isExcludeRefined('color', 'blue') // false\n * helper.isExcludeRefined('color', 'red') // false\n *\n * helper.addFacetExclusion('color', 'red');\n *\n * helper.isExcludeRefined('color'); // true\n * helper.isExcludeRefined('color', 'blue') // false\n * helper.isExcludeRefined('color', 'red') // true\n */ AlgoliaSearchHelper.prototype.isExcluded = function(facet, value) {\n    return this.state.isExcludeRefined(facet, value);\n};\n// eslint-disable-next-line valid-jsdoc\n/**\n * @deprecated since 2.4.0, see {@link AlgoliaSearchHelper#hasRefinements}\n */ AlgoliaSearchHelper.prototype.isDisjunctiveRefined = function(facet, value) {\n    return this.state.isDisjunctiveFacetRefined(facet, value);\n};\n/**\n * Check if the string is a currently filtering tag.\n * @param {string} tag tag to check\n * @return {boolean} true if the tag is currently refined\n */ AlgoliaSearchHelper.prototype.hasTag = function(tag) {\n    return this.state.isTagRefined(tag);\n};\n// eslint-disable-next-line valid-jsdoc\n/**\n * @deprecated since 2.4.0, see {@link AlgoliaSearchHelper#hasTag}\n */ AlgoliaSearchHelper.prototype.isTagRefined = function() {\n    return this.hasTagRefinements.apply(this, arguments);\n};\n/**\n * Get the name of the currently used index.\n * @return {string} name of the index\n * @example\n * helper.setIndex('highestPrice_products').getIndex();\n * // returns 'highestPrice_products'\n */ AlgoliaSearchHelper.prototype.getIndex = function() {\n    return this.state.index;\n};\nfunction getCurrentPage() {\n    return this.state.page;\n}\n/**\n * Get the currently selected page\n * @deprecated\n * @return {number} the current page\n */ AlgoliaSearchHelper.prototype.getCurrentPage = getCurrentPage;\n/**\n * Get the currently selected page\n * @function\n * @return {number} the current page\n */ AlgoliaSearchHelper.prototype.getPage = getCurrentPage;\n/**\n * Get all the tags currently set to filters the results.\n *\n * @return {string[]} The list of tags currently set.\n */ AlgoliaSearchHelper.prototype.getTags = function() {\n    return this.state.tagRefinements;\n};\n/**\n * Get the list of refinements for a given attribute. This method works with\n * conjunctive, disjunctive, excluding and numerical filters.\n *\n * See also SearchResults#getRefinements\n *\n * @param {string} facetName attribute name used for faceting\n * @return {Array.<FacetRefinement|NumericRefinement>} All Refinement are objects that contain a value, and\n * a type. Numeric also contains an operator.\n * @example\n * helper.addNumericRefinement('price', '>', 100);\n * helper.getRefinements('price');\n * // [\n * //   {\n * //     \"value\": [\n * //       100\n * //     ],\n * //     \"operator\": \">\",\n * //     \"type\": \"numeric\"\n * //   }\n * // ]\n * @example\n * helper.addFacetRefinement('color', 'blue');\n * helper.addFacetExclusion('color', 'red');\n * helper.getRefinements('color');\n * // [\n * //   {\n * //     \"value\": \"blue\",\n * //     \"type\": \"conjunctive\"\n * //   },\n * //   {\n * //     \"value\": \"red\",\n * //     \"type\": \"exclude\"\n * //   }\n * // ]\n * @example\n * helper.addDisjunctiveFacetRefinement('material', 'plastic');\n * // [\n * //   {\n * //     \"value\": \"plastic\",\n * //     \"type\": \"disjunctive\"\n * //   }\n * // ]\n */ AlgoliaSearchHelper.prototype.getRefinements = function(facetName) {\n    var refinements = [];\n    if (this.state.isConjunctiveFacet(facetName)) {\n        var conjRefinements = this.state.getConjunctiveRefinements(facetName);\n        conjRefinements.forEach(function(r) {\n            refinements.push({\n                value: r,\n                type: \"conjunctive\"\n            });\n        });\n        var excludeRefinements = this.state.getExcludeRefinements(facetName);\n        excludeRefinements.forEach(function(r) {\n            refinements.push({\n                value: r,\n                type: \"exclude\"\n            });\n        });\n    } else if (this.state.isDisjunctiveFacet(facetName)) {\n        var disjunctiveRefinements = this.state.getDisjunctiveRefinements(facetName);\n        disjunctiveRefinements.forEach(function(r) {\n            refinements.push({\n                value: r,\n                type: \"disjunctive\"\n            });\n        });\n    }\n    var numericRefinements = this.state.getNumericRefinements(facetName);\n    Object.keys(numericRefinements).forEach(function(operator) {\n        var value = numericRefinements[operator];\n        refinements.push({\n            value: value,\n            operator: operator,\n            type: \"numeric\"\n        });\n    });\n    return refinements;\n};\n/**\n * Return the current refinement for the (attribute, operator)\n * @param {string} attribute attribute in the record\n * @param {string} operator operator applied on the refined values\n * @return {Array.<number|number[]>} refined values\n */ AlgoliaSearchHelper.prototype.getNumericRefinement = function(attribute, operator) {\n    return this.state.getNumericRefinement(attribute, operator);\n};\n/**\n * Get the current breadcrumb for a hierarchical facet, as an array\n * @param  {string} facetName Hierarchical facet name\n * @return {array.<string>} the path as an array of string\n */ AlgoliaSearchHelper.prototype.getHierarchicalFacetBreadcrumb = function(facetName) {\n    return this.state.getHierarchicalFacetBreadcrumb(facetName);\n};\n// /////////// PRIVATE\n/**\n * Perform the underlying queries\n * @private\n * @param {object} options options for the query\n * @param {boolean} [options.onlyWithDerivedHelpers=false] if true, only the derived helpers will be queried\n * @return {undefined} does not return anything\n * @fires search\n * @fires result\n * @fires error\n */ AlgoliaSearchHelper.prototype._search = function(options) {\n    var state = this.state;\n    var states = [];\n    var mainQueries = [];\n    if (!options.onlyWithDerivedHelpers) {\n        mainQueries = requestBuilder._getQueries(state.index, state);\n        states.push({\n            state: state,\n            queriesCount: mainQueries.length,\n            helper: this\n        });\n        this.emit(\"search\", {\n            state: state,\n            results: this.lastResults\n        });\n    }\n    var derivedQueries = this.derivedHelpers.map(function(derivedHelper) {\n        var derivedState = derivedHelper.getModifiedState(state);\n        var derivedStateQueries = derivedState.index ? requestBuilder._getQueries(derivedState.index, derivedState) : [];\n        states.push({\n            state: derivedState,\n            queriesCount: derivedStateQueries.length,\n            helper: derivedHelper\n        });\n        derivedHelper.emit(\"search\", {\n            state: derivedState,\n            results: derivedHelper.lastResults\n        });\n        return derivedStateQueries;\n    });\n    var queries = Array.prototype.concat.apply(mainQueries, derivedQueries);\n    var queryId = this._queryId++;\n    this._currentNbQueries++;\n    if (!queries.length) {\n        return Promise.resolve({\n            results: []\n        }).then(this._dispatchAlgoliaResponse.bind(this, states, queryId));\n    }\n    try {\n        this.client.search(queries).then(this._dispatchAlgoliaResponse.bind(this, states, queryId)).catch(this._dispatchAlgoliaError.bind(this, queryId));\n    } catch (error) {\n        // If we reach this part, we're in an internal error state\n        this.emit(\"error\", {\n            error: error\n        });\n    }\n    return undefined;\n};\n/**\n * Transform the responses as sent by the server and transform them into a user\n * usable object that merge the results of all the batch requests. It will dispatch\n * over the different helper + derived helpers (when there are some).\n * @private\n * @param {array.<{SearchParameters, AlgoliaQueries, AlgoliaSearchHelper}>} states state used to generate the request\n * @param {number} queryId id of the current request\n * @param {object} content content of the response\n * @return {undefined}\n */ AlgoliaSearchHelper.prototype._dispatchAlgoliaResponse = function(states, queryId, content) {\n    // @TODO remove the number of outdated queries discarded instead of just one\n    if (queryId < this._lastQueryIdReceived) {\n        // Outdated answer\n        return;\n    }\n    this._currentNbQueries -= queryId - this._lastQueryIdReceived;\n    this._lastQueryIdReceived = queryId;\n    if (this._currentNbQueries === 0) this.emit(\"searchQueueEmpty\");\n    var results = content.results.slice();\n    states.forEach(function(s) {\n        var state = s.state;\n        var queriesCount = s.queriesCount;\n        var helper = s.helper;\n        var specificResults = results.splice(0, queriesCount);\n        if (!state.index) {\n            helper.emit(\"result\", {\n                results: null,\n                state: state\n            });\n            return;\n        }\n        helper.lastResults = new SearchResults(state, specificResults);\n        helper.emit(\"result\", {\n            results: helper.lastResults,\n            state: state\n        });\n    });\n};\nAlgoliaSearchHelper.prototype._dispatchAlgoliaError = function(queryId, error) {\n    if (queryId < this._lastQueryIdReceived) {\n        // Outdated answer\n        return;\n    }\n    this._currentNbQueries -= queryId - this._lastQueryIdReceived;\n    this._lastQueryIdReceived = queryId;\n    this.emit(\"error\", {\n        error: error\n    });\n    if (this._currentNbQueries === 0) this.emit(\"searchQueueEmpty\");\n};\nAlgoliaSearchHelper.prototype.containsRefinement = function(query, facetFilters, numericFilters, tagFilters) {\n    return query || facetFilters.length !== 0 || numericFilters.length !== 0 || tagFilters.length !== 0;\n};\n/**\n * Test if there are some disjunctive refinements on the facet\n * @private\n * @param {string} facet the attribute to test\n * @return {boolean} true if there are refinements on this attribute\n */ AlgoliaSearchHelper.prototype._hasDisjunctiveRefinements = function(facet) {\n    return this.state.disjunctiveRefinements[facet] && this.state.disjunctiveRefinements[facet].length > 0;\n};\nAlgoliaSearchHelper.prototype._change = function(event) {\n    var state = event.state;\n    var isPageReset = event.isPageReset;\n    if (state !== this.state) {\n        this.state = state;\n        this.emit(\"change\", {\n            state: this.state,\n            results: this.lastResults,\n            isPageReset: isPageReset\n        });\n    }\n};\n/**\n * Clears the cache of the underlying Algolia client.\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n */ AlgoliaSearchHelper.prototype.clearCache = function() {\n    if (this.client.clearCache) this.client.clearCache();\n    return this;\n};\n/**\n * Updates the internal client instance. If the reference of the clients\n * are equal then no update is actually done.\n * @param  {AlgoliaSearch} newClient an AlgoliaSearch client\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n */ AlgoliaSearchHelper.prototype.setClient = function(newClient) {\n    if (this.client === newClient) return this;\n    if (typeof newClient.addAlgoliaAgent === \"function\") {\n        newClient.addAlgoliaAgent(\"JS Helper (\" + version + \")\");\n    }\n    this.client = newClient;\n    return this;\n};\n/**\n * Gets the instance of the currently used client.\n * @return {AlgoliaSearch} the currently used client\n */ AlgoliaSearchHelper.prototype.getClient = function() {\n    return this.client;\n};\n/**\n * Creates an derived instance of the Helper. A derived helper\n * is a way to request other indices synchronised with the lifecycle\n * of the main Helper. This mechanism uses the multiqueries feature\n * of Algolia to aggregate all the requests in a single network call.\n *\n * This method takes a function that is used to create a new SearchParameter\n * that will be used to create requests to Algolia. Those new requests\n * are created just before the `search` event. The signature of the function\n * is `SearchParameters -> SearchParameters`.\n *\n * This method returns a new DerivedHelper which is an EventEmitter\n * that fires the same `search`, `result` and `error` events. Those\n * events, however, will receive data specific to this DerivedHelper\n * and the SearchParameters that is returned by the call of the\n * parameter function.\n * @param {function} fn SearchParameters -> SearchParameters\n * @return {DerivedHelper} a new DerivedHelper\n */ AlgoliaSearchHelper.prototype.derive = function(fn) {\n    var derivedHelper = new DerivedHelper(this, fn);\n    this.derivedHelpers.push(derivedHelper);\n    return derivedHelper;\n};\n/**\n * This method detaches a derived Helper from the main one. Prefer using the one from the\n * derived helper itself, to remove the event listeners too.\n * @private\n * @param  {DerivedHelper} derivedHelper the derived helper to detach\n * @return {undefined} nothing is returned\n * @throws Error\n */ AlgoliaSearchHelper.prototype.detachDerivedHelper = function(derivedHelper) {\n    var pos = this.derivedHelpers.indexOf(derivedHelper);\n    if (pos === -1) throw new Error(\"Derived helper already detached\");\n    this.derivedHelpers.splice(pos, 1);\n};\n/**\n * This method returns true if there is currently at least one on-going search.\n * @return {boolean} true if there is a search pending\n */ AlgoliaSearchHelper.prototype.hasPendingRequests = function() {\n    return this._currentNbQueries > 0;\n};\n/**\n * @typedef AlgoliaSearchHelper.NumericRefinement\n * @type {object}\n * @property {number[]} value the numbers that are used for filtering this attribute with\n * the operator specified.\n * @property {string} operator the faceting data: value, number of entries\n * @property {string} type will be 'numeric'\n */ /**\n * @typedef AlgoliaSearchHelper.FacetRefinement\n * @type {object}\n * @property {string} value the string use to filter the attribute\n * @property {string} type the type of filter: 'conjunctive', 'disjunctive', 'exclude'\n */ module.exports = AlgoliaSearchHelper;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9ub2RlX21vZHVsZXMvYWxnb2xpYXNlYXJjaC1oZWxwZXIvc3JjL2FsZ29saWFzZWFyY2guaGVscGVyLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBRUEsSUFBSUEsZUFBZUMsbUJBQU9BLENBQUM7QUFFM0IsSUFBSUMsZ0JBQWdCRCxtQkFBT0EsQ0FBQztBQUM1QixJQUFJRSxtQkFBbUJGLGdNQUF3RDtBQUMvRSxJQUFJRyxXQUFXSCxtQkFBT0EsQ0FBQztBQUN2QixJQUFJSSxRQUFRSixtQkFBT0EsQ0FBQztBQUNwQixJQUFJSyxnQkFBZ0JMLG1CQUFPQSxDQUFDO0FBQzVCLElBQUlNLE9BQU9OLG1CQUFPQSxDQUFDO0FBQ25CLElBQUlPLGlCQUFpQlAsbUJBQU9BLENBQUM7QUFDN0IsSUFBSVEsbUJBQW1CUixtQkFBT0EsQ0FBQztBQUMvQixJQUFJUyxnQkFBZ0JULG1CQUFPQSxDQUFDO0FBQzVCLElBQUlVLFVBQVVWLG1CQUFPQSxDQUFDO0FBRXRCOzs7Ozs7Ozs7O0NBVUMsR0FFRDs7Ozs7Ozs7OztDQVVDLEdBRUQ7Ozs7Ozs7Ozs7O0NBV0MsR0FFRDs7Ozs7Ozs7O0NBU0MsR0FFRDs7Ozs7Ozs7OztDQVVDLEdBRUQ7Ozs7Ozs7Ozs7Q0FVQyxHQUVEOzs7Ozs7Ozs7O0NBVUMsR0FFRDs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBa0JDLEdBQ0QsU0FBU1csb0JBQW9CQyxNQUFNLEVBQUVDLEtBQUssRUFBRUMsT0FBTztJQUNqRCxJQUFJLE9BQU9GLE9BQU9HLGVBQWUsS0FBSyxZQUFZO1FBQ2hESCxPQUFPRyxlQUFlLENBQUMsZ0JBQWdCTCxVQUFVO0lBQ25EO0lBRUEsSUFBSSxDQUFDTSxTQUFTLENBQUNKO0lBQ2YsSUFBSUssT0FBT0gsV0FBVyxDQUFDO0lBQ3ZCRyxLQUFLSixLQUFLLEdBQUdBO0lBQ2IsSUFBSSxDQUFDSyxLQUFLLEdBQUdWLGlCQUFpQlcsSUFBSSxDQUFDRjtJQUNu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UyxHQUFHLFNBQVUyTCxTQUFTO0lBQzNELElBQUksSUFBSSxDQUFDL0wsTUFBTSxLQUFLK0wsV0FBVyxPQUFPLElBQUk7SUFFMUMsSUFBSSxPQUFPQSxVQUFVNUwsZUFBZSxLQUFLLFlBQVk7UUFDbkQ0TCxVQUFVNUwsZUFBZSxDQUFDLGdCQUFnQkwsVUFBVTtJQUN0RDtJQUNBLElBQUksQ0FBQ0UsTUFBTSxHQUFHK0w7SUFFZCxPQUFPLElBQUk7QUFDYjtBQUVBOzs7Q0FHQyxHQUNEaE0sb0JBQW9CYyxTQUFTLENBQUNtTCxTQUFTLEdBQUc7SUFDeEMsT0FBTyxJQUFJLENBQUNoTSxNQUFNO0FBQ3BCO0FBRUE7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQWtCQyxHQUNERCxvQkFBb0JjLFNBQVMsQ0FBQ29MLE1BQU0sR0FBRyxTQUFVQyxFQUFFO0lBQ2pELElBQUkzSixnQkFBZ0IsSUFBSWxELGNBQWMsSUFBSSxFQUFFNk07SUFDNUMsSUFBSSxDQUFDdkwsY0FBYyxDQUFDaUosSUFBSSxDQUFDckg7SUFDekIsT0FBT0E7QUFDVDtBQUVBOzs7Ozs7O0NBT0MsR0FDRHhDLG9CQUFvQmMsU0FBUyxDQUFDc0wsbUJBQW1CLEdBQUcsU0FBVTVKLGFBQWE7SUFDekUsSUFBSTZKLE1BQU0sSUFBSSxDQUFDekwsY0FBYyxDQUFDMEwsT0FBTyxDQUFDOUo7SUFDdEMsSUFBSTZKLFFBQVEsQ0FBQyxHQUFHLE1BQU0sSUFBSWxKLE1BQU07SUFDaEMsSUFBSSxDQUFDdkMsY0FBYyxDQUFDNEssTUFBTSxDQUFDYSxLQUFLO0FBQ2xDO0FBRUE7OztDQUdDLEdBQ0RyTSxvQkFBb0JjLFNBQVMsQ0FBQ3lMLGtCQUFrQixHQUFHO0lBQ2pELE9BQU8sSUFBSSxDQUFDMUwsaUJBQWlCLEdBQUc7QUFDbEM7QUFFQTs7Ozs7OztDQU9DLEdBRUQ7Ozs7O0NBS0MsR0FFRDJMLE9BQU9DLE9BQU8sR0FBR3pNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVkdXNhLW5leHQvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9ub2RlX21vZHVsZXMvYWxnb2xpYXNlYXJjaC1oZWxwZXIvc3JjL2FsZ29saWFzZWFyY2guaGVscGVyLmpzPzlkY2MiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnQGFsZ29saWEvZXZlbnRzJyk7XG5cbnZhciBEZXJpdmVkSGVscGVyID0gcmVxdWlyZSgnLi9EZXJpdmVkSGVscGVyJyk7XG52YXIgZXNjYXBlRmFjZXRWYWx1ZSA9IHJlcXVpcmUoJy4vZnVuY3Rpb25zL2VzY2FwZUZhY2V0VmFsdWUnKS5lc2NhcGVGYWNldFZhbHVlO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnLi9mdW5jdGlvbnMvaW5oZXJpdHMnKTtcbnZhciBtZXJnZSA9IHJlcXVpcmUoJy4vZnVuY3Rpb25zL21lcmdlJyk7XG52YXIgb2JqZWN0SGFzS2V5cyA9IHJlcXVpcmUoJy4vZnVuY3Rpb25zL29iamVjdEhhc0tleXMnKTtcbnZhciBvbWl0ID0gcmVxdWlyZSgnLi9mdW5jdGlvbnMvb21pdCcpO1xudmFyIHJlcXVlc3RCdWlsZGVyID0gcmVxdWlyZSgnLi9yZXF1ZXN0QnVpbGRlcicpO1xudmFyIFNlYXJjaFBhcmFtZXRlcnMgPSByZXF1aXJlKCcuL1NlYXJjaFBhcmFtZXRlcnMnKTtcbnZhciBTZWFyY2hSZXN1bHRzID0gcmVxdWlyZSgnLi9TZWFyY2hSZXN1bHRzJyk7XG52YXIgdmVyc2lvbiA9IHJlcXVpcmUoJy4vdmVyc2lvbicpO1xuXG4vKipcbiAqIEV2ZW50IHRyaWdnZXJlZCB3aGVuIGEgcGFyYW1ldGVyIGlzIHNldCBvciB1cGRhdGVkXG4gKiBAZXZlbnQgQWxnb2xpYVNlYXJjaEhlbHBlciNldmVudDpjaGFuZ2VcbiAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBldmVudFxuICogQHByb3BlcnR5IHtTZWFyY2hQYXJhbWV0ZXJzfSBldmVudC5zdGF0ZSB0aGUgY3VycmVudCBwYXJhbWV0ZXJzIHdpdGggdGhlIGxhdGVzdCBjaGFuZ2VzIGFwcGxpZWRcbiAqIEBwcm9wZXJ0eSB7U2VhcmNoUmVzdWx0c30gZXZlbnQucmVzdWx0cyB0aGUgcHJldmlvdXMgcmVzdWx0cyByZWNlaXZlZCBmcm9tIEFsZ29saWEuIGBudWxsYCBiZWZvcmUgdGhlIGZpcnN0IHJlcXVlc3RcbiAqIEBleGFtcGxlXG4gKiBoZWxwZXIub24oJ2NoYW5nZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gKiAgIGNvbnNvbGUubG9nKCdUaGUgcGFyYW1ldGVycyBoYXZlIGNoYW5nZWQnKTtcbiAqIH0pO1xuICovXG5cbi8qKlxuICogRXZlbnQgdHJpZ2dlcmVkIHdoZW4gYSBtYWluIHNlYXJjaCBpcyBzZW50IHRvIEFsZ29saWFcbiAqIEBldmVudCBBbGdvbGlhU2VhcmNoSGVscGVyI2V2ZW50OnNlYXJjaFxuICogQHByb3BlcnR5IHtvYmplY3R9IGV2ZW50XG4gKiBAcHJvcGVydHkge1NlYXJjaFBhcmFtZXRlcnN9IGV2ZW50LnN0YXRlIHRoZSBwYXJhbWV0ZXJzIHVzZWQgZm9yIHRoaXMgc2VhcmNoXG4gKiBAcHJvcGVydHkge1NlYXJjaFJlc3VsdHN9IGV2ZW50LnJlc3VsdHMgdGhlIHJlc3VsdHMgZnJvbSB0aGUgcHJldmlvdXMgc2VhcmNoLiBgbnVsbGAgaWYgaXQgaXMgdGhlIGZpcnN0IHNlYXJjaC5cbiAqIEBleGFtcGxlXG4gKiBoZWxwZXIub24oJ3NlYXJjaCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gKiAgIGNvbnNvbGUubG9nKCdTZWFyY2ggc2VudCcpO1xuICogfSk7XG4gKi9cblxuLyoqXG4gKiBFdmVudCB0cmlnZ2VyZWQgd2hlbiBhIHNlYXJjaCB1c2luZyBgc2VhcmNoRm9yRmFjZXRWYWx1ZXNgIGlzIHNlbnQgdG8gQWxnb2xpYVxuICogQGV2ZW50IEFsZ29saWFTZWFyY2hIZWxwZXIjZXZlbnQ6c2VhcmNoRm9yRmFjZXRWYWx1ZXNcbiAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBldmVudFxuICogQHByb3BlcnR5IHtTZWFyY2hQYXJhbWV0ZXJzfSBldmVudC5zdGF0ZSB0aGUgcGFyYW1ldGVycyB1c2VkIGZvciB0aGlzIHNlYXJjaCBpdCBpcyB0aGUgZmlyc3Qgc2VhcmNoLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGV2ZW50LmZhY2V0IHRoZSBmYWNldCBzZWFyY2hlZCBpbnRvXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZXZlbnQucXVlcnkgdGhlIHF1ZXJ5IHVzZWQgdG8gc2VhcmNoIGluIHRoZSBmYWNldHNcbiAqIEBleGFtcGxlXG4gKiBoZWxwZXIub24oJ3NlYXJjaEZvckZhY2V0VmFsdWVzJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAqICAgY29uc29sZS5sb2coJ3NlYXJjaEZvckZhY2V0VmFsdWVzIHNlbnQnKTtcbiAqIH0pO1xuICovXG5cbi8qKlxuICogRXZlbnQgdHJpZ2dlcmVkIHdoZW4gYSBzZWFyY2ggdXNpbmcgYHNlYXJjaE9uY2VgIGlzIHNlbnQgdG8gQWxnb2xpYVxuICogQGV2ZW50IEFsZ29saWFTZWFyY2hIZWxwZXIjZXZlbnQ6c2VhcmNoT25jZVxuICogQHByb3BlcnR5IHtvYmplY3R9IGV2ZW50XG4gKiBAcHJvcGVydHkge1NlYXJjaFBhcmFtZXRlcnN9IGV2ZW50LnN0YXRlIHRoZSBwYXJhbWV0ZXJzIHVzZWQgZm9yIHRoaXMgc2VhcmNoIGl0IGlzIHRoZSBmaXJzdCBzZWFyY2guXG4gKiBAZXhhbXBsZVxuICogaGVscGVyLm9uKCdzZWFyY2hPbmNlJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAqICAgY29uc29sZS5sb2coJ3NlYXJjaE9uY2Ugc2VudCcpO1xuICogfSk7XG4gKi9cblxuLyoqXG4gKiBFdmVudCB0cmlnZ2VyZWQgd2hlbiB0aGUgcmVzdWx0cyBhcmUgcmV0cmlldmVkIGZyb20gQWxnb2xpYVxuICogQGV2ZW50IEFsZ29saWFTZWFyY2hIZWxwZXIjZXZlbnQ6cmVzdWx0XG4gKiBAcHJvcGVydHkge29iamVjdH0gZXZlbnRcbiAqIEBwcm9wZXJ0eSB7U2VhcmNoUmVzdWx0c30gZXZlbnQucmVzdWx0cyB0aGUgcmVzdWx0cyByZWNlaXZlZCBmcm9tIEFsZ29saWFcbiAqIEBwcm9wZXJ0eSB7U2VhcmNoUGFyYW1ldGVyc30gZXZlbnQuc3RhdGUgdGhlIHBhcmFtZXRlcnMgdXNlZCB0byBxdWVyeSBBbGdvbGlhLiBUaG9zZSBtaWdodCBiZSBkaWZmZXJlbnQgZnJvbSB0aGUgb25lIGluIHRoZSBoZWxwZXIgaW5zdGFuY2UgKGZvciBleGFtcGxlIGlmIHRoZSBuZXR3b3JrIGlzIHVucmVsaWFibGUpLlxuICogQGV4YW1wbGVcbiAqIGhlbHBlci5vbigncmVzdWx0JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAqICAgY29uc29sZS5sb2coJ1NlYXJjaCByZXN1bHRzIHJlY2VpdmVkJyk7XG4gKiB9KTtcbiAqL1xuXG4vKipcbiAqIEV2ZW50IHRyaWdnZXJlZCB3aGVuIEFsZ29saWEgc2VuZHMgYmFjayBhbiBlcnJvci4gRm9yIGV4YW1wbGUsIGlmIGFuIHVua25vd24gcGFyYW1ldGVyIGlzXG4gKiB1c2VkLCB0aGUgZXJyb3IgY2FuIGJlIGNhdWdodCB1c2luZyB0aGlzIGV2ZW50LlxuICogQGV2ZW50IEFsZ29saWFTZWFyY2hIZWxwZXIjZXZlbnQ6ZXJyb3JcbiAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBldmVudFxuICogQHByb3BlcnR5IHtFcnJvcn0gZXZlbnQuZXJyb3IgdGhlIGVycm9yIHJldHVybmVkIGJ5IHRoZSBBbGdvbGlhLlxuICogQGV4YW1wbGVcbiAqIGhlbHBlci5vbignZXJyb3InLCBmdW5jdGlvbihldmVudCkge1xuICogICBjb25zb2xlLmxvZygnSG91c3RvbiB3ZSBnb3QgYSBwcm9ibGVtLicpO1xuICogfSk7XG4gKi9cblxuLyoqXG4gKiBFdmVudCB0cmlnZ2VyZWQgd2hlbiB0aGUgcXVldWUgb2YgcXVlcmllcyBoYXZlIGJlZW4gZGVwbGV0ZWQgKHdpdGggYW55IHJlc3VsdCBvciBvdXRkYXRlZCBxdWVyaWVzKVxuICogQGV2ZW50IEFsZ29saWFTZWFyY2hIZWxwZXIjZXZlbnQ6c2VhcmNoUXVldWVFbXB0eVxuICogQGV4YW1wbGVcbiAqIGhlbHBlci5vbignc2VhcmNoUXVldWVFbXB0eScsIGZ1bmN0aW9uKCkge1xuICogICBjb25zb2xlLmxvZygnTm8gbW9yZSBzZWFyY2ggcGVuZGluZycpO1xuICogICAvLyBUaGlzIGlzIHJlY2VpdmVkIGJlZm9yZSB0aGUgcmVzdWx0IGV2ZW50IGlmIHdlJ3JlIG5vdCBleHBlY3RpbmcgbmV3IHJlc3VsdHNcbiAqIH0pO1xuICpcbiAqIGhlbHBlci5zZWFyY2goKTtcbiAqL1xuXG4vKipcbiAqIEluaXRpYWxpemUgYSBuZXcgQWxnb2xpYVNlYXJjaEhlbHBlclxuICogQGNsYXNzXG4gKiBAY2xhc3NkZXNjIFRoZSBBbGdvbGlhU2VhcmNoSGVscGVyIGlzIGEgY2xhc3MgdGhhdCBlYXNlIHRoZSBtYW5hZ2VtZW50IG9mIHRoZVxuICogc2VhcmNoLiBJdCBwcm92aWRlcyBhbiBldmVudCBiYXNlZCBpbnRlcmZhY2UgZm9yIHNlYXJjaCBjYWxsYmFja3M6XG4gKiAgLSBjaGFuZ2U6IHdoZW4gdGhlIGludGVybmFsIHNlYXJjaCBzdGF0ZSBpcyBjaGFuZ2VkLlxuICogICAgVGhpcyBldmVudCBjb250YWlucyBhIHtAbGluayBTZWFyY2hQYXJhbWV0ZXJzfSBvYmplY3QgYW5kIHRoZVxuICogICAge0BsaW5rIFNlYXJjaFJlc3VsdHN9IG9mIHRoZSBsYXN0IHJlc3VsdCBpZiBhbnkuXG4gKiAgLSBzZWFyY2g6IHdoZW4gYSBzZWFyY2ggaXMgdHJpZ2dlcmVkIHVzaW5nIHRoZSBgc2VhcmNoKClgIG1ldGhvZC5cbiAqICAtIHJlc3VsdDogd2hlbiB0aGUgcmVzcG9uc2UgaXMgcmV0cmlldmVkIGZyb20gQWxnb2xpYSBhbmQgaXMgcHJvY2Vzc2VkLlxuICogICAgVGhpcyBldmVudCBjb250YWlucyBhIHtAbGluayBTZWFyY2hSZXN1bHRzfSBvYmplY3QgYW5kIHRoZVxuICogICAge0BsaW5rIFNlYXJjaFBhcmFtZXRlcnN9IGNvcnJlc3BvbmRpbmcgdG8gdGhpcyBhbnN3ZXIuXG4gKiAgLSBlcnJvcjogd2hlbiB0aGUgcmVzcG9uc2UgaXMgYW4gZXJyb3IuIFRoaXMgZXZlbnQgY29udGFpbnMgdGhlIGVycm9yIHJldHVybmVkIGJ5IHRoZSBzZXJ2ZXIuXG4gKiBAcGFyYW0gIHtBbGdvbGlhU2VhcmNofSBjbGllbnQgYW4gQWxnb2xpYVNlYXJjaCBjbGllbnRcbiAqIEBwYXJhbSAge3N0cmluZ30gaW5kZXggdGhlIGluZGV4IG5hbWUgdG8gcXVlcnlcbiAqIEBwYXJhbSAge1NlYXJjaFBhcmFtZXRlcnMgfCBvYmplY3R9IG9wdGlvbnMgYW4gb2JqZWN0IGRlZmluaW5nIHRoZSBpbml0aWFsXG4gKiBjb25maWcgb2YgdGhlIHNlYXJjaC4gSXQgZG9lc24ndCBoYXZlIHRvIGJlIGEge1NlYXJjaFBhcmFtZXRlcnN9LFxuICoganVzdCBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgcHJvcGVydGllcyB5b3UgbmVlZCBmcm9tIGl0LlxuICovXG5mdW5jdGlvbiBBbGdvbGlhU2VhcmNoSGVscGVyKGNsaWVudCwgaW5kZXgsIG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBjbGllbnQuYWRkQWxnb2xpYUFnZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2xpZW50LmFkZEFsZ29saWFBZ2VudCgnSlMgSGVscGVyICgnICsgdmVyc2lvbiArICcpJyk7XG4gIH1cblxuICB0aGlzLnNldENsaWVudChjbGllbnQpO1xuICB2YXIgb3B0cyA9IG9wdGlvbnMgfHwge307XG4gIG9wdHMuaW5kZXggPSBpbmRleDtcbiAgdGhpcy5zdGF0ZSA9IFNlYXJjaFBhcmFtZXRlcnMubWFrZShvcHRzKTtcbiAgdGhpcy5sYXN0UmVzdWx0cyA9IG51bGw7XG4gIHRoaXMuX3F1ZXJ5SWQgPSAwO1xuICB0aGlzLl9sYXN0UXVlcnlJZFJlY2VpdmVkID0gLTE7XG4gIHRoaXMuZGVyaXZlZEhlbHBlcnMgPSBbXTtcbiAgdGhpcy5fY3VycmVudE5iUXVlcmllcyA9IDA7XG59XG5cbmluaGVyaXRzKEFsZ29saWFTZWFyY2hIZWxwZXIsIEV2ZW50RW1pdHRlcik7XG5cbi8qKlxuICogU3RhcnQgdGhlIHNlYXJjaCB3aXRoIHRoZSBwYXJhbWV0ZXJzIHNldCBpbiB0aGUgc3RhdGUuIFdoZW4gdGhlXG4gKiBtZXRob2QgaXMgY2FsbGVkLCBpdCB0cmlnZ2VycyBhIGBzZWFyY2hgIGV2ZW50LiBUaGUgcmVzdWx0cyB3aWxsXG4gKiBiZSBhdmFpbGFibGUgdGhyb3VnaCB0aGUgYHJlc3VsdGAgZXZlbnQuIElmIGFuIGVycm9yIG9jY3VycywgYW5cbiAqIGBlcnJvcmAgd2lsbCBiZSBmaXJlZCBpbnN0ZWFkLlxuICogQHJldHVybiB7QWxnb2xpYVNlYXJjaEhlbHBlcn0gTWV0aG9kIGlzIGNoYWluYWJsZSwgaXQgcmV0dXJucyBpdHNlbGZcbiAqIEBmaXJlcyBzZWFyY2hcbiAqIEBmaXJlcyByZXN1bHRcbiAqIEBmaXJlcyBlcnJvclxuICogQGNoYWluYWJsZVxuICovXG5BbGdvbGlhU2VhcmNoSGVscGVyLnByb3RvdHlwZS5zZWFyY2ggPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuX3NlYXJjaCh7IG9ubHlXaXRoRGVyaXZlZEhlbHBlcnM6IGZhbHNlIH0pO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkFsZ29saWFTZWFyY2hIZWxwZXIucHJvdG90eXBlLnNlYXJjaE9ubHlXaXRoRGVyaXZlZEhlbHBlcnMgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuX3NlYXJjaCh7IG9ubHlXaXRoRGVyaXZlZEhlbHBlcnM6IHRydWUgfSk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBHZXRzIHRoZSBzZWFyY2ggcXVlcnkgcGFyYW1ldGVycyB0aGF0IHdvdWxkIGJlIHNlbnQgdG8gdGhlIEFsZ29saWEgQ2xpZW50XG4gKiBmb3IgdGhlIGhpdHNcbiAqIEByZXR1cm4ge29iamVjdH0gUXVlcnkgUGFyYW1ldGVyc1xuICovXG5BbGdvbGlhU2VhcmNoSGVscGVyLnByb3RvdHlwZS5nZXRRdWVyeSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgcmV0dXJuIHJlcXVlc3RCdWlsZGVyLl9nZXRIaXRzU2VhcmNoUGFyYW1zKHN0YXRlKTtcbn07XG5cbi8qKlxuICogU3RhcnQgYSBzZWFyY2ggdXNpbmcgYSBtb2RpZmllZCB2ZXJzaW9uIG9mIHRoZSBjdXJyZW50IHN0YXRlLiBUaGlzIG1ldGhvZCBkb2VzXG4gKiBub3QgdHJpZ2dlciB0aGUgaGVscGVyIGxpZmVjeWNsZSBhbmQgZG9lcyBub3QgbW9kaWZ5IHRoZSBzdGF0ZSBrZXB0IGludGVybmFsbHlcbiAqIGJ5IHRoZSBoZWxwZXIuIFRoaXMgc2Vjb25kIGFzcGVjdCBtZWFucyB0aGF0IHRoZSBuZXh0IHNlYXJjaCBjYWxsIHdpbGwgYmUgdGhlXG4gKiBzYW1lIGFzIGEgc2VhcmNoIGNhbGwgYmVmb3JlIGNhbGxpbmcgc2VhcmNoT25jZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIGNhbiBjb250YWluIGFsbCB0aGUgcGFyYW1ldGVycyB0aGF0IGNhbiBiZSBzZXQgdG8gU2VhcmNoUGFyYW1ldGVyc1xuICogcGx1cyB0aGUgaW5kZXhcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYl0gb3B0aW9uYWwgY2FsbGJhY2sgZXhlY3V0ZWQgd2hlbiB0aGUgcmVzcG9uc2UgZnJvbSB0aGVcbiAqIHNlcnZlciBpcyBiYWNrLlxuICogQHJldHVybiB7cHJvbWlzZXx1bmRlZmluZWR9IGlmIGEgY2FsbGJhY2sgaXMgcGFzc2VkIHRoZSBtZXRob2QgcmV0dXJucyB1bmRlZmluZWRcbiAqIG90aGVyd2lzZSBpdCByZXR1cm5zIGEgcHJvbWlzZSBjb250YWluaW5nIGFuIG9iamVjdCB3aXRoIHR3byBrZXlzIDpcbiAqICAtIGNvbnRlbnQgd2l0aCBhIFNlYXJjaFJlc3VsdHNcbiAqICAtIHN0YXRlIHdpdGggdGhlIHN0YXRlIHVzZWQgZm9yIHRoZSBxdWVyeSBhcyBhIFNlYXJjaFBhcmFtZXRlcnNcbiAqIEBleGFtcGxlXG4gKiAvLyBDaGFuZ2luZyB0aGUgbnVtYmVyIG9mIHJlY29yZHMgcmV0dXJuZWQgcGVyIHBhZ2UgdG8gMVxuICogLy8gVGhpcyBleGFtcGxlIHVzZXMgdGhlIGNhbGxiYWNrIEFQSVxuICogdmFyIHN0YXRlID0gaGVscGVyLnNlYXJjaE9uY2Uoe2hpdHNQZXJQYWdlOiAxfSxcbiAqICAgZnVuY3Rpb24oZXJyb3IsIGNvbnRlbnQsIHN0YXRlKSB7XG4gKiAgICAgLy8gaWYgYW4gZXJyb3Igb2NjdXJyZWQgaXQgd2lsbCBiZSBwYXNzZWQgaW4gZXJyb3IsIG90aGVyd2lzZSBpdHMgdmFsdWUgaXMgbnVsbFxuICogICAgIC8vIGNvbnRlbnQgY29udGFpbnMgdGhlIHJlc3VsdHMgZm9ybWF0dGVkIGFzIGEgU2VhcmNoUmVzdWx0c1xuICogICAgIC8vIHN0YXRlIGlzIHRoZSBpbnN0YW5jZSBvZiBTZWFyY2hQYXJhbWV0ZXJzIHVzZWQgZm9yIHRoaXMgc2VhcmNoXG4gKiAgIH0pO1xuICogQGV4YW1wbGVcbiAqIC8vIENoYW5naW5nIHRoZSBudW1iZXIgb2YgcmVjb3JkcyByZXR1cm5lZCBwZXIgcGFnZSB0byAxXG4gKiAvLyBUaGlzIGV4YW1wbGUgdXNlcyB0aGUgcHJvbWlzZSBBUElcbiAqIHZhciBzdGF0ZTEgPSBoZWxwZXIuc2VhcmNoT25jZSh7aGl0c1BlclBhZ2U6IDF9KVxuICogICAgICAgICAgICAgICAgIC50aGVuKHByb21pc2VIYW5kbGVyKTtcbiAqXG4gKiBmdW5jdGlvbiBwcm9taXNlSGFuZGxlcihyZXMpIHtcbiAqICAgLy8gcmVzIGNvbnRhaW5zXG4gKiAgIC8vIHtcbiAqICAgLy8gICBjb250ZW50IDogU2VhcmNoUmVzdWx0c1xuICogICAvLyAgIHN0YXRlICAgOiBTZWFyY2hQYXJhbWV0ZXJzICh0aGUgb25lIHVzZWQgZm9yIHRoaXMgc3BlY2lmaWMgc2VhcmNoKVxuICogICAvLyB9XG4gKiB9XG4gKi9cbkFsZ29saWFTZWFyY2hIZWxwZXIucHJvdG90eXBlLnNlYXJjaE9uY2UgPSBmdW5jdGlvbiAob3B0aW9ucywgY2IpIHtcbiAgdmFyIHRlbXBTdGF0ZSA9ICFvcHRpb25zXG4gICAgPyB0aGlzLnN0YXRlXG4gICAgOiB0aGlzLnN0YXRlLnNldFF1ZXJ5UGFyYW1ldGVycyhvcHRpb25zKTtcbiAgdmFyIHF1ZXJpZXMgPSByZXF1ZXN0QnVpbGRlci5fZ2V0UXVlcmllcyh0ZW1wU3RhdGUuaW5kZXgsIHRlbXBTdGF0ZSk7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXRoaXNcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHRoaXMuX2N1cnJlbnROYlF1ZXJpZXMrKztcblxuICB0aGlzLmVtaXQoJ3NlYXJjaE9uY2UnLCB7XG4gICAgc3RhdGU6IHRlbXBTdGF0ZSxcbiAgfSk7XG5cbiAgaWYgKGNiKSB7XG4gICAgdGhpcy5jbGllbnRcbiAgICAgIC5zZWFyY2gocXVlcmllcylcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgICAgIHNlbGYuX2N1cnJlbnROYlF1ZXJpZXMtLTtcbiAgICAgICAgaWYgKHNlbGYuX2N1cnJlbnROYlF1ZXJpZXMgPT09IDApIHtcbiAgICAgICAgICBzZWxmLmVtaXQoJ3NlYXJjaFF1ZXVlRW1wdHknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNiKG51bGwsIG5ldyBTZWFyY2hSZXN1bHRzKHRlbXBTdGF0ZSwgY29udGVudC5yZXN1bHRzKSwgdGVtcFN0YXRlKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICBzZWxmLl9jdXJyZW50TmJRdWVyaWVzLS07XG4gICAgICAgIGlmIChzZWxmLl9jdXJyZW50TmJRdWVyaWVzID09PSAwKSB7XG4gICAgICAgICAgc2VsZi5lbWl0KCdzZWFyY2hRdWV1ZUVtcHR5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBjYihlcnIsIG51bGwsIHRlbXBTdGF0ZSk7XG4gICAgICB9KTtcblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICByZXR1cm4gdGhpcy5jbGllbnQuc2VhcmNoKHF1ZXJpZXMpLnRoZW4oXG4gICAgZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAgICAgIHNlbGYuX2N1cnJlbnROYlF1ZXJpZXMtLTtcbiAgICAgIGlmIChzZWxmLl9jdXJyZW50TmJRdWVyaWVzID09PSAwKSBzZWxmLmVtaXQoJ3NlYXJjaFF1ZXVlRW1wdHknKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbnRlbnQ6IG5ldyBTZWFyY2hSZXN1bHRzKHRlbXBTdGF0ZSwgY29udGVudC5yZXN1bHRzKSxcbiAgICAgICAgc3RhdGU6IHRlbXBTdGF0ZSxcbiAgICAgICAgX29yaWdpbmFsUmVzcG9uc2U6IGNvbnRlbnQsXG4gICAgICB9O1xuICAgIH0sXG4gICAgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHNlbGYuX2N1cnJlbnROYlF1ZXJpZXMtLTtcbiAgICAgIGlmIChzZWxmLl9jdXJyZW50TmJRdWVyaWVzID09PSAwKSBzZWxmLmVtaXQoJ3NlYXJjaFF1ZXVlRW1wdHknKTtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICApO1xufTtcblxuLyoqXG4gKiBTdGFydCB0aGUgc2VhcmNoIGZvciBhbnN3ZXJzIHdpdGggdGhlIHBhcmFtZXRlcnMgc2V0IGluIHRoZSBzdGF0ZS5cbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgYSBwcm9taXNlLlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSB0aGUgb3B0aW9ucyBmb3IgYW5zd2VycyBBUEkgY2FsbFxuICogQHBhcmFtIHtzdHJpbmdbXX0gb3B0aW9ucy5hdHRyaWJ1dGVzRm9yUHJlZGljdGlvbiAtIEF0dHJpYnV0ZXMgdG8gdXNlIGZvciBwcmVkaWN0aW9ucy4gSWYgZW1wdHksIGBzZWFyY2hhYmxlQXR0cmlidXRlc2AgaXMgdXNlZCBpbnN0ZWFkLlxuICogQHBhcmFtIHtzdHJpbmdbXX0gb3B0aW9ucy5xdWVyeUxhbmd1YWdlcyAtIFRoZSBsYW5ndWFnZXMgaW4gdGhlIHF1ZXJ5LiBDdXJyZW50bHkgb25seSBzdXBwb3J0cyBbJ2VuJ10uXG4gKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5uYkhpdHMgLSBNYXhpbXVtIG51bWJlciBvZiBhbnN3ZXJzIHRvIHJldHJpZXZlIGZyb20gdGhlIEFuc3dlcnMgRW5naW5lLiBDYW5ub3QgYmUgZ3JlYXRlciB0aGFuIDEwMDAuXG4gKlxuICogQHJldHVybiB7cHJvbWlzZX0gdGhlIGFuc3dlciByZXN1bHRzXG4gKiBAZGVwcmVjYXRlZCBhbnN3ZXJzIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCBuZXcgaW5pdGlhdGl2ZXNcbiAqL1xuQWxnb2xpYVNlYXJjaEhlbHBlci5wcm90b3R5cGUuZmluZEFuc3dlcnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICBjb25zb2xlLndhcm4oJ1thbGdvbGlhc2VhcmNoLWhlbHBlcl0gYW5zd2VycyBpcyBubyBsb25nZXIgc3VwcG9ydGVkJyk7XG4gIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gIHZhciBkZXJpdmVkSGVscGVyID0gdGhpcy5kZXJpdmVkSGVscGVyc1swXTtcbiAgaWYgKCFkZXJpdmVkSGVscGVyKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShbXSk7XG4gIH1cbiAgdmFyIGRlcml2ZWRTdGF0ZSA9IGRlcml2ZWRIZWxwZXIuZ2V0TW9kaWZpZWRTdGF0ZShzdGF0ZSk7XG4gIHZhciBkYXRhID0gbWVyZ2UoXG4gICAge1xuICAgICAgYXR0cmlidXRlc0ZvclByZWRpY3Rpb246IG9wdGlvbnMuYXR0cmlidXRlc0ZvclByZWRpY3Rpb24sXG4gICAgICBuYkhpdHM6IG9wdGlvbnMubmJIaXRzLFxuICAgIH0sXG4gICAge1xuICAgICAgcGFyYW1zOiBvbWl0KHJlcXVlc3RCdWlsZGVyLl9nZXRIaXRzU2VhcmNoUGFyYW1zKGRlcml2ZWRTdGF0ZSksIFtcbiAgICAgICAgJ2F0dHJpYnV0ZXNUb1NuaXBwZXQnLFxuICAgICAgICAnaGl0c1BlclBhZ2UnLFxuICAgICAgICAncmVzdHJpY3RTZWFyY2hhYmxlQXR0cmlidXRlcycsXG4gICAgICAgICdzbmlwcGV0RWxsaXBzaXNUZXh0JyxcbiAgICAgIF0pLFxuICAgIH1cbiAgKTtcblxuICB2YXIgZXJyb3JNZXNzYWdlID1cbiAgICAnc2VhcmNoIGZvciBhbnN3ZXJzIHdhcyBjYWxsZWQsIGJ1dCB0aGlzIGNsaWVudCBkb2VzIG5vdCBoYXZlIGEgZnVuY3Rpb24gY2xpZW50LmluaXRJbmRleChpbmRleCkuZmluZEFuc3dlcnMnO1xuICBpZiAodHlwZW9mIHRoaXMuY2xpZW50LmluaXRJbmRleCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuICB9XG4gIHZhciBpbmRleCA9IHRoaXMuY2xpZW50LmluaXRJbmRleChkZXJpdmVkU3RhdGUuaW5kZXgpO1xuICBpZiAodHlwZW9mIGluZGV4LmZpbmRBbnN3ZXJzICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG4gIH1cbiAgcmV0dXJuIGluZGV4LmZpbmRBbnN3ZXJzKGRlcml2ZWRTdGF0ZS5xdWVyeSwgb3B0aW9ucy5xdWVyeUxhbmd1YWdlcywgZGF0YSk7XG59O1xuXG4vKipcbiAqIFN0cnVjdHVyZSBvZiBlYWNoIHJlc3VsdCB3aGVuIHVzaW5nXG4gKiBbYHNlYXJjaEZvckZhY2V0VmFsdWVzKClgXShyZWZlcmVuY2UuaHRtbCNBbGdvbGlhU2VhcmNoSGVscGVyI3NlYXJjaEZvckZhY2V0VmFsdWVzKVxuICogQHR5cGVkZWYgRmFjZXRTZWFyY2hIaXRcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge3N0cmluZ30gdmFsdWUgdGhlIGZhY2V0IHZhbHVlXG4gKiBAcHJvcGVydHkge3N0cmluZ30gaGlnaGxpZ2h0ZWQgdGhlIGZhY2V0IHZhbHVlIGhpZ2hsaWdodGVkIHdpdGggdGhlIHF1ZXJ5IHN0cmluZ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGNvdW50IG51bWJlciBvZiBvY2N1cnJlbmNlIG9mIHRoaXMgZmFjZXQgdmFsdWVcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gaXNSZWZpbmVkIHRydWUgaWYgdGhlIHZhbHVlIGlzIGFscmVhZHkgcmVmaW5lZFxuICovXG5cbi8qKlxuICogU3RydWN0dXJlIG9mIHRoZSBkYXRhIHJlc29sdmVkIGJ5IHRoZVxuICogW2BzZWFyY2hGb3JGYWNldFZhbHVlcygpYF0ocmVmZXJlbmNlLmh0bWwjQWxnb2xpYVNlYXJjaEhlbHBlciNzZWFyY2hGb3JGYWNldFZhbHVlcylcbiAqIHByb21pc2UuXG4gKiBAdHlwZWRlZiBGYWNldFNlYXJjaFJlc3VsdFxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7RmFjZXRTZWFyY2hIaXR9IGZhY2V0SGl0cyB0aGUgcmVzdWx0cyBmb3IgdGhpcyBzZWFyY2ggZm9yIGZhY2V0IHZhbHVlc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHByb2Nlc3NpbmdUaW1lTVMgdGltZSB0YWtlbiBieSB0aGUgcXVlcnkgaW5zaWRlIHRoZSBlbmdpbmVcbiAqL1xuXG4vKipcbiAqIFNlYXJjaCBmb3IgZmFjZXQgdmFsdWVzIGJhc2VkIG9uIGFuIHF1ZXJ5IGFuZCB0aGUgbmFtZSBvZiBhIGZhY2V0ZWQgYXR0cmlidXRlLiBUaGlzXG4gKiB0cmlnZ2VycyBhIHNlYXJjaCBhbmQgd2lsbCByZXR1cm4gYSBwcm9taXNlLiBPbiB0b3Agb2YgdXNpbmcgdGhlIHF1ZXJ5LCBpdCBhbHNvIHNlbmRzXG4gKiB0aGUgcGFyYW1ldGVycyBmcm9tIHRoZSBzdGF0ZSBzbyB0aGF0IHRoZSBzZWFyY2ggaXMgbmFycm93ZWQgZG93biB0byBvbmx5IHRoZSBwb3NzaWJsZSB2YWx1ZXMuXG4gKlxuICogU2VlIHRoZSBkZXNjcmlwdGlvbiBvZiBbRmFjZXRTZWFyY2hSZXN1bHRdKHJlZmVyZW5jZS5odG1sI0ZhY2V0U2VhcmNoUmVzdWx0KVxuICogQHBhcmFtIHtzdHJpbmd9IGZhY2V0IHRoZSBuYW1lIG9mIHRoZSBmYWNldGVkIGF0dHJpYnV0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHF1ZXJ5IHRoZSBzdHJpbmcgcXVlcnkgZm9yIHRoZSBzZWFyY2hcbiAqIEBwYXJhbSB7bnVtYmVyfSBbbWF4RmFjZXRIaXRzXSB0aGUgbWF4aW11bSBudW1iZXIgdmFsdWVzIHJldHVybmVkLiBTaG91bGQgYmUgPiAwIGFuZCA8PSAxMDBcbiAqIEBwYXJhbSB7b2JqZWN0fSBbdXNlclN0YXRlXSB0aGUgc2V0IG9mIGN1c3RvbSBwYXJhbWV0ZXJzIHRvIHVzZSBvbiB0b3Agb2YgdGhlIGN1cnJlbnQgc3RhdGUuIFNldHRpbmcgYSBwcm9wZXJ0eSB0byBgdW5kZWZpbmVkYCByZW1vdmVzXG4gKiBpdCBpbiB0aGUgZ2VuZXJhdGVkIHF1ZXJ5LlxuICogQHJldHVybiB7cHJvbWlzZS48RmFjZXRTZWFyY2hSZXN1bHQ+fSB0aGUgcmVzdWx0cyBvZiB0aGUgc2VhcmNoXG4gKi9cbkFsZ29saWFTZWFyY2hIZWxwZXIucHJvdG90eXBlLnNlYXJjaEZvckZhY2V0VmFsdWVzID0gZnVuY3Rpb24gKFxuICBmYWNldCxcbiAgcXVlcnksXG4gIG1heEZhY2V0SGl0cyxcbiAgdXNlclN0YXRlXG4pIHtcbiAgdmFyIGNsaWVudEhhc1NGRlYgPSB0eXBlb2YgdGhpcy5jbGllbnQuc2VhcmNoRm9yRmFjZXRWYWx1ZXMgPT09ICdmdW5jdGlvbic7XG4gIHZhciBjbGllbnRIYXNJbml0SW5kZXggPSB0eXBlb2YgdGhpcy5jbGllbnQuaW5pdEluZGV4ID09PSAnZnVuY3Rpb24nO1xuICBpZiAoXG4gICAgIWNsaWVudEhhc1NGRlYgJiZcbiAgICAhY2xpZW50SGFzSW5pdEluZGV4ICYmXG4gICAgdHlwZW9mIHRoaXMuY2xpZW50LnNlYXJjaCAhPT0gJ2Z1bmN0aW9uJ1xuICApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnc2VhcmNoIGZvciBmYWNldCB2YWx1ZXMgKHNlYXJjaGFibGUpIHdhcyBjYWxsZWQsIGJ1dCB0aGlzIGNsaWVudCBkb2VzIG5vdCBoYXZlIGEgZnVuY3Rpb24gY2xpZW50LnNlYXJjaEZvckZhY2V0VmFsdWVzIG9yIGNsaWVudC5pbml0SW5kZXgoaW5kZXgpLnNlYXJjaEZvckZhY2V0VmFsdWVzJ1xuICAgICk7XG4gIH1cblxuICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlLnNldFF1ZXJ5UGFyYW1ldGVycyh1c2VyU3RhdGUgfHwge30pO1xuICB2YXIgaXNEaXNqdW5jdGl2ZSA9IHN0YXRlLmlzRGlzanVuY3RpdmVGYWNldChmYWNldCk7XG4gIHZhciBhbGdvbGlhUXVlcnkgPSByZXF1ZXN0QnVpbGRlci5nZXRTZWFyY2hGb3JGYWNldFF1ZXJ5KFxuICAgIGZhY2V0LFxuICAgIHF1ZXJ5LFxuICAgIG1heEZhY2V0SGl0cyxcbiAgICBzdGF0ZVxuICApO1xuXG4gIHRoaXMuX2N1cnJlbnROYlF1ZXJpZXMrKztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtdGhpc1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciBzZWFyY2hGb3JGYWNldFZhbHVlc1Byb21pc2U7XG4gIC8vIG5ld2VyIGFsZ29saWFzZWFyY2ggXjMuMjcuMSAtIH40LjAuMFxuICBpZiAoY2xpZW50SGFzU0ZGVikge1xuICAgIHNlYXJjaEZvckZhY2V0VmFsdWVzUHJvbWlzZSA9IHRoaXMuY2xpZW50LnNlYXJjaEZvckZhY2V0VmFsdWVzKFtcbiAgICAgIHsgaW5kZXhOYW1lOiBzdGF0ZS5pbmRleCwgcGFyYW1zOiBhbGdvbGlhUXVlcnkgfSxcbiAgICBdKTtcbiAgICAvLyBhbGdvbGlhc2VhcmNoIDwgMy4yNy4xXG4gIH0gZWxzZSBpZiAoY2xpZW50SGFzSW5pdEluZGV4KSB7XG4gICAgc2VhcmNoRm9yRmFjZXRWYWx1ZXNQcm9taXNlID0gdGhpcy5jbGllbnRcbiAgICAgIC5pbml0SW5kZXgoc3RhdGUuaW5kZXgpXG4gICAgICAuc2VhcmNoRm9yRmFjZXRWYWx1ZXMoYWxnb2xpYVF1ZXJ5KTtcbiAgICAvLyBhbGdvbGlhc2VhcmNoIH41LjAuMFxuICB9IGVsc2Uge1xuICAgIC8vIEBNQUpPUiBvbmx5IHVzZSBjbGllbnQuc2VhcmNoXG4gICAgZGVsZXRlIGFsZ29saWFRdWVyeS5mYWNldE5hbWU7XG4gICAgc2VhcmNoRm9yRmFjZXRWYWx1ZXNQcm9taXNlID0gdGhpcy5jbGllbnRcbiAgICAgIC5zZWFyY2goW1xuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogJ2ZhY2V0JyxcbiAgICAgICAgICBmYWNldDogZmFjZXQsXG4gICAgICAgICAgaW5kZXhOYW1lOiBzdGF0ZS5pbmRleCxcbiAgICAgICAgICBwYXJhbXM6IGFsZ29saWFRdWVyeSxcbiAgICAgICAgfSxcbiAgICAgIF0pXG4gICAgICAudGhlbihmdW5jdGlvbiBwcm9jZXNzUmVzcG9uc2UocmVzcG9uc2UpIHtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnJlc3VsdHNbMF07XG4gICAgICB9KTtcbiAgfVxuXG4gIHRoaXMuZW1pdCgnc2VhcmNoRm9yRmFjZXRWYWx1ZXMnLCB7XG4gICAgc3RhdGU6IHN0YXRlLFxuICAgIGZhY2V0OiBmYWNldCxcbiAgICBxdWVyeTogcXVlcnksXG4gIH0pO1xuXG4gIHJldHVybiBzZWFyY2hGb3JGYWNldFZhbHVlc1Byb21pc2UudGhlbihcbiAgICBmdW5jdGlvbiBhZGRJc1JlZmluZWQoY29udGVudCkge1xuICAgICAgc2VsZi5fY3VycmVudE5iUXVlcmllcy0tO1xuICAgICAgaWYgKHNlbGYuX2N1cnJlbnROYlF1ZXJpZXMgPT09IDApIHNlbGYuZW1pdCgnc2VhcmNoUXVldWVFbXB0eScpO1xuXG4gICAgICBjb250ZW50ID0gQXJyYXkuaXNBcnJheShjb250ZW50KSA/IGNvbnRlbnRbMF0gOiBjb250ZW50O1xuXG4gICAgICBjb250ZW50LmZhY2V0SGl0cy5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7XG4gICAgICAgIGYuZXNjYXBlZFZhbHVlID0gZXNjYXBlRmFjZXRWYWx1ZShmLnZhbHVlKTtcbiAgICAgICAgZi5pc1JlZmluZWQgPSBpc0Rpc2p1bmN0aXZlXG4gICAgICAgICAgPyBzdGF0ZS5pc0Rpc2p1bmN0aXZlRmFjZXRSZWZpbmVkKGZhY2V0LCBmLmVzY2FwZWRWYWx1ZSlcbiAgICAgICAgICA6IHN0YXRlLmlzRmFjZXRSZWZpbmVkKGZhY2V0LCBmLmVzY2FwZWRWYWx1ZSk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSxcbiAgICBmdW5jdGlvbiAoZSkge1xuICAgICAgc2VsZi5fY3VycmVudE5iUXVlcmllcy0tO1xuICAgICAgaWYgKHNlbGYuX2N1cnJlbnROYlF1ZXJpZXMgPT09IDApIHNlbGYuZW1pdCgnc2VhcmNoUXVldWVFbXB0eScpO1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gICk7XG59O1xuXG4vKipcbiAqIFNldHMgdGhlIHRleHQgcXVlcnkgdXNlZCBmb3IgdGhlIHNlYXJjaC5cbiAqXG4gKiBUaGlzIG1ldGhvZCByZXNldHMgdGhlIGN1cnJlbnQgcGFnZSB0byAwLlxuICogQHBhcmFtICB7c3RyaW5nfSBxIHRoZSB1c2VyIHF1ZXJ5XG4gKiBAcmV0dXJuIHtBbGdvbGlhU2VhcmNoSGVscGVyfSBNZXRob2QgaXMgY2hhaW5hYmxlLCBpdCByZXR1cm5zIGl0c2VsZlxuICogQGZpcmVzIGNoYW5nZVxuICogQGNoYWluYWJsZVxuICovXG5BbGdvbGlhU2VhcmNoSGVscGVyLnByb3RvdHlwZS5zZXRRdWVyeSA9IGZ1bmN0aW9uIChxKSB7XG4gIHRoaXMuX2NoYW5nZSh7XG4gICAgc3RhdGU6IHRoaXMuc3RhdGUucmVzZXRQYWdlKCkuc2V0UXVlcnkocSksXG4gICAgaXNQYWdlUmVzZXQ6IHRydWUsXG4gIH0pO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYWxsIHRoZSB0eXBlcyBvZiByZWZpbmVtZW50cyBleGNlcHQgdGFncy4gQSBzdHJpbmcgY2FuIGJlIHByb3ZpZGVkIHRvIHJlbW92ZVxuICogb25seSB0aGUgcmVmaW5lbWVudHMgb2YgYSBzcGVjaWZpYyBhdHRyaWJ1dGUuIEZvciBtb3JlIGFkdmFuY2VkIHVzZSBjYXNlLCB5b3UgY2FuXG4gKiBwcm92aWRlIGEgZnVuY3Rpb24gaW5zdGVhZC4gVGhpcyBmdW5jdGlvbiBzaG91bGQgZm9sbG93IHRoZVxuICogW2NsZWFyQ2FsbGJhY2sgZGVmaW5pdGlvbl0oI1NlYXJjaFBhcmFtZXRlcnMuY2xlYXJDYWxsYmFjaykuXG4gKlxuICogVGhpcyBtZXRob2QgcmVzZXRzIHRoZSBjdXJyZW50IHBhZ2UgdG8gMC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZV0gb3B0aW9uYWwgbmFtZSBvZiB0aGUgZmFjZXQgLyBhdHRyaWJ1dGUgb24gd2hpY2ggd2Ugd2FudCB0byByZW1vdmUgYWxsIHJlZmluZW1lbnRzXG4gKiBAcmV0dXJuIHtBbGdvbGlhU2VhcmNoSGVscGVyfSBNZXRob2QgaXMgY2hhaW5hYmxlLCBpdCByZXR1cm5zIGl0c2VsZlxuICogQGZpcmVzIGNoYW5nZVxuICogQGNoYWluYWJsZVxuICogQGV4YW1wbGVcbiAqIC8vIFJlbW92aW5nIGFsbCB0aGUgcmVmaW5lbWVudHNcbiAqIGhlbHBlci5jbGVhclJlZmluZW1lbnRzKCkuc2VhcmNoKCk7XG4gKiBAZXhhbXBsZVxuICogLy8gUmVtb3ZpbmcgYWxsIHRoZSBmaWx0ZXJzIG9uIGEgdGhlIGNhdGVnb3J5IGF0dHJpYnV0ZS5cbiAqIGhlbHBlci5jbGVhclJlZmluZW1lbnRzKCdjYXRlZ29yeScpLnNlYXJjaCgpO1xuICogQGV4YW1wbGVcbiAqIC8vIFJlbW92aW5nIG9ubHkgdGhlIGV4Y2x1ZGUgZmlsdGVycyBvbiB0aGUgY2F0ZWdvcnkgZmFjZXQuXG4gKiBoZWxwZXIuY2xlYXJSZWZpbmVtZW50cyhmdW5jdGlvbih2YWx1ZSwgYXR0cmlidXRlLCB0eXBlKSB7XG4gKiAgIHJldHVybiB0eXBlID09PSAnZXhjbHVkZScgJiYgYXR0cmlidXRlID09PSAnY2F0ZWdvcnknO1xuICogfSkuc2VhcmNoKCk7XG4gKi9cbkFsZ29saWFTZWFyY2hIZWxwZXIucHJvdG90eXBlLmNsZWFyUmVmaW5lbWVudHMgPSBmdW5jdGlvbiAobmFtZSkge1xuICB0aGlzLl9jaGFuZ2Uoe1xuICAgIHN0YXRlOiB0aGlzLnN0YXRlLnJlc2V0UGFnZSgpLmNsZWFyUmVmaW5lbWVudHMobmFtZSksXG4gICAgaXNQYWdlUmVzZXQ6IHRydWUsXG4gIH0pO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYWxsIHRoZSB0YWcgZmlsdGVycy5cbiAqXG4gKiBUaGlzIG1ldGhvZCByZXNldHMgdGhlIGN1cnJlbnQgcGFnZSB0byAwLlxuICogQHJldHVybiB7QWxnb2xpYVNlYXJjaEhlbHBlcn0gTWV0aG9kIGlzIGNoYWluYWJsZSwgaXQgcmV0dXJucyBpdHNlbGZcbiAqIEBmaXJlcyBjaGFuZ2VcbiAqIEBjaGFpbmFibGVcbiAqL1xuQWxnb2xpYVNlYXJjaEhlbHBlci5wcm90b3R5cGUuY2xlYXJUYWdzID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLl9jaGFuZ2Uoe1xuICAgIHN0YXRlOiB0aGlzLnN0YXRlLnJlc2V0UGFnZSgpLmNsZWFyVGFncygpLFxuICAgIGlzUGFnZVJlc2V0OiB0cnVlLFxuICB9KTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQWRkcyBhIGRpc2p1bmN0aXZlIGZpbHRlciB0byBhIGZhY2V0ZWQgYXR0cmlidXRlIHdpdGggdGhlIGB2YWx1ZWAgcHJvdmlkZWQuIElmIHRoZVxuICogZmlsdGVyIGlzIGFscmVhZHkgc2V0LCBpdCBkb2Vzbid0IGNoYW5nZSB0aGUgZmlsdGVycy5cbiAqXG4gKiBUaGlzIG1ldGhvZCByZXNldHMgdGhlIGN1cnJlbnQgcGFnZSB0byAwLlxuICogQHBhcmFtICB7c3RyaW5nfSBmYWNldCB0aGUgZmFjZXQgdG8gcmVmaW5lXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHZhbHVlIHRoZSBhc3NvY2lhdGVkIHZhbHVlICh3aWxsIGJlIGNvbnZlcnRlZCB0byBzdHJpbmcpXG4gKiBAcmV0dXJuIHtBbGdvbGlhU2VhcmNoSGVscGVyfSBNZXRob2QgaXMgY2hhaW5hYmxlLCBpdCByZXR1cm5zIGl0c2VsZlxuICogQGZpcmVzIGNoYW5nZVxuICogQGNoYWluYWJsZVxuICovXG5BbGdvbGlhU2VhcmNoSGVscGVyLnByb3RvdHlwZS5hZGREaXNqdW5jdGl2ZUZhY2V0UmVmaW5lbWVudCA9IGZ1bmN0aW9uIChcbiAgZmFjZXQsXG4gIHZhbHVlXG4pIHtcbiAgdGhpcy5fY2hhbmdlKHtcbiAgICBzdGF0ZTogdGhpcy5zdGF0ZS5yZXNldFBhZ2UoKS5hZGREaXNqdW5jdGl2ZUZhY2V0UmVmaW5lbWVudChmYWNldCwgdmFsdWUpLFxuICAgIGlzUGFnZVJlc2V0OiB0cnVlLFxuICB9KTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB2YWxpZC1qc2RvY1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDIuNC4wLCBzZWUge0BsaW5rIEFsZ29saWFTZWFyY2hIZWxwZXIjYWRkRGlzanVuY3RpdmVGYWNldFJlZmluZW1lbnR9XG4gKi9cbkFsZ29saWFTZWFyY2hIZWxwZXIucHJvdG90eXBlLmFkZERpc2p1bmN0aXZlUmVmaW5lID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5hZGREaXNqdW5jdGl2ZUZhY2V0UmVmaW5lbWVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcblxuLyoqXG4gKiBBZGRzIGEgcmVmaW5lbWVudCBvbiBhIGhpZXJhcmNoaWNhbCBmYWNldC4gSXQgd2lsbCB0aHJvd1xuICogYW4gZXhjZXB0aW9uIGlmIHRoZSBmYWNldCBpcyBub3QgZGVmaW5lZCBvciBpZiB0aGUgZmFjZXRcbiAqIGlzIGFscmVhZHkgcmVmaW5lZC5cbiAqXG4gKiBUaGlzIG1ldGhvZCByZXNldHMgdGhlIGN1cnJlbnQgcGFnZSB0byAwLlxuICogQHBhcmFtIHtzdHJpbmd9IGZhY2V0IHRoZSBmYWNldCBuYW1lXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCB0aGUgaGllcmFyY2hpY2FsIGZhY2V0IHBhdGhcbiAqIEByZXR1cm4ge0FsZ29saWFTZWFyY2hIZWxwZXJ9IE1ldGhvZCBpcyBjaGFpbmFibGUsIGl0IHJldHVybnMgaXRzZWxmXG4gKiBAdGhyb3dzIEVycm9yIGlmIHRoZSBmYWNldCBpcyBub3QgZGVmaW5lZCBvciBpZiB0aGUgZmFjZXQgaXMgcmVmaW5lZFxuICogQGNoYWluYWJsZVxuICogQGZpcmVzIGNoYW5nZVxuICovXG5BbGdvbGlhU2VhcmNoSGVscGVyLnByb3RvdHlwZS5hZGRIaWVyYXJjaGljYWxGYWNldFJlZmluZW1lbnQgPSBmdW5jdGlvbiAoXG4gIGZhY2V0LFxuICBwYXRoXG4pIHtcbiAgdGhpcy5fY2hhbmdlKHtcbiAgICBzdGF0ZTogdGhpcy5zdGF0ZS5yZXNldFBhZ2UoKS5hZGRIaWVyYXJjaGljYWxGYWNldFJlZmluZW1lbnQoZmFjZXQsIHBhdGgpLFxuICAgIGlzUGFnZVJlc2V0OiB0cnVlLFxuICB9KTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQWRkcyBhIGFuIG51bWVyaWMgZmlsdGVyIHRvIGFuIGF0dHJpYnV0ZSB3aXRoIHRoZSBgb3BlcmF0b3JgIGFuZCBgdmFsdWVgIHByb3ZpZGVkLiBJZiB0aGVcbiAqIGZpbHRlciBpcyBhbHJlYWR5IHNldCwgaXQgZG9lc24ndCBjaGFuZ2UgdGhlIGZpbHRlcnMuXG4gKlxuICogVGhpcyBtZXRob2QgcmVzZXRzIHRoZSBjdXJyZW50IHBhZ2UgdG8gMC5cbiAqIEBwYXJhbSAge3N0cmluZ30gYXR0cmlidXRlIHRoZSBhdHRyaWJ1dGUgb24gd2hpY2ggdGhlIG51bWVyaWMgZmlsdGVyIGFwcGxpZXNcbiAqIEBwYXJhbSAge3N0cmluZ30gb3BlcmF0b3IgdGhlIG9wZXJhdG9yIG9mIHRoZSBmaWx0ZXJcbiAqIEBwYXJhbSAge251bWJlcn0gdmFsdWUgdGhlIHZhbHVlIG9mIHRoZSBmaWx0ZXJcbiAqIEByZXR1cm4ge0FsZ29saWFTZWFyY2hIZWxwZXJ9IE1ldGhvZCBpcyBjaGFpbmFibGUsIGl0IHJldHVybnMgaXRzZWxmXG4gKiBAZmlyZXMgY2hhbmdlXG4gKiBAY2hhaW5hYmxlXG4gKi9cbkFsZ29saWFTZWFyY2hIZWxwZXIucHJvdG90eXBlLmFkZE51bWVyaWNSZWZpbmVtZW50ID0gZnVuY3Rpb24gKFxuICBhdHRyaWJ1dGUsXG4gIG9wZXJhdG9yLFxuICB2YWx1ZVxuKSB7XG4gIHRoaXMuX2NoYW5nZSh7XG4gICAgc3RhdGU6IHRoaXMuc3RhdGVcbiAgICAgIC5yZXNldFBhZ2UoKVxuICAgICAgLmFkZE51bWVyaWNSZWZpbmVtZW50KGF0dHJpYnV0ZSwgb3BlcmF0b3IsIHZhbHVlKSxcbiAgICBpc1BhZ2VSZXNldDogdHJ1ZSxcbiAgfSk7XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEFkZHMgYSBmaWx0ZXIgdG8gYSBmYWNldGVkIGF0dHJpYnV0ZSB3aXRoIHRoZSBgdmFsdWVgIHByb3ZpZGVkLiBJZiB0aGVcbiAqIGZpbHRlciBpcyBhbHJlYWR5IHNldCwgaXQgZG9lc24ndCBjaGFuZ2UgdGhlIGZpbHRlcnMuXG4gKlxuICogVGhpcyBtZXRob2QgcmVzZXRzIHRoZSBjdXJyZW50IHBhZ2UgdG8gMC5cbiAqIEBwYXJhbSAge3N0cmluZ30gZmFjZXQgdGhlIGZhY2V0IHRvIHJlZmluZVxuICogQHBhcmFtICB7c3RyaW5nfSB2YWx1ZSB0aGUgYXNzb2NpYXRlZCB2YWx1ZSAod2lsbCBiZSBjb252ZXJ0ZWQgdG8gc3RyaW5nKVxuICogQHJldHVybiB7QWxnb2xpYVNlYXJjaEhlbHBlcn0gTWV0aG9kIGlzIGNoYWluYWJsZSwgaXQgcmV0dXJucyBpdHNlbGZcbiAqIEBmaXJlcyBjaGFuZ2VcbiAqIEBjaGFpbmFibGVcbiAqL1xuQWxnb2xpYVNlYXJjaEhlbHBlci5wcm90b3R5cGUuYWRkRmFjZXRSZWZpbmVtZW50ID0gZnVuY3Rpb24gKGZhY2V0LCB2YWx1ZSkge1xuICB0aGlzLl9jaGFuZ2Uoe1xuICAgIHN0YXRlOiB0aGlzLnN0YXRlLnJlc2V0UGFnZSgpLmFkZEZhY2V0UmVmaW5lbWVudChmYWNldCwgdmFsdWUpLFxuICAgIGlzUGFnZVJlc2V0OiB0cnVlLFxuICB9KTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB2YWxpZC1qc2RvY1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDIuNC4wLCBzZWUge0BsaW5rIEFsZ29saWFTZWFyY2hIZWxwZXIjYWRkRmFjZXRSZWZpbmVtZW50fVxuICovXG5BbGdvbGlhU2VhcmNoSGVscGVyLnByb3RvdHlwZS5hZGRSZWZpbmUgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmFkZEZhY2V0UmVmaW5lbWVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcblxuLyoqXG4gKiBBZGRzIGEgYW4gZXhjbHVzaW9uIGZpbHRlciB0byBhIGZhY2V0ZWQgYXR0cmlidXRlIHdpdGggdGhlIGB2YWx1ZWAgcHJvdmlkZWQuIElmIHRoZVxuICogZmlsdGVyIGlzIGFscmVhZHkgc2V0LCBpdCBkb2Vzbid0IGNoYW5nZSB0aGUgZmlsdGVycy5cbiAqXG4gKiBUaGlzIG1ldGhvZCByZXNldHMgdGhlIGN1cnJlbnQgcGFnZSB0byAwLlxuICogQHBhcmFtICB7c3RyaW5nfSBmYWNldCB0aGUgZmFjZXQgdG8gcmVmaW5lXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHZhbHVlIHRoZSBhc3NvY2lhdGVkIHZhbHVlICh3aWxsIGJlIGNvbnZlcnRlZCB0byBzdHJpbmcpXG4gKiBAcmV0dXJuIHtBbGdvbGlhU2VhcmNoSGVscGVyfSBNZXRob2QgaXMgY2hhaW5hYmxlLCBpdCByZXR1cm5zIGl0c2VsZlxuICogQGZpcmVzIGNoYW5nZVxuICogQGNoYWluYWJsZVxuICovXG5BbGdvbGlhU2VhcmNoSGVscGVyLnByb3RvdHlwZS5hZGRGYWNldEV4Y2x1c2lvbiA9IGZ1bmN0aW9uIChmYWNldCwgdmFsdWUpIHtcbiAgdGhpcy5fY2hhbmdlKHtcbiAgICBzdGF0ZTogdGhpcy5zdGF0ZS5yZXNldFBhZ2UoKS5hZGRFeGNsdWRlUmVmaW5lbWVudChmYWNldCwgdmFsdWUpLFxuICAgIGlzUGFnZVJlc2V0OiB0cnVlLFxuICB9KTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB2YWxpZC1qc2RvY1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDIuNC4wLCBzZWUge0BsaW5rIEFsZ29saWFTZWFyY2hIZWxwZXIjYWRkRmFjZXRFeGNsdXNpb259XG4gKi9cbkFsZ29saWFTZWFyY2hIZWxwZXIucHJvdG90eXBlLmFkZEV4Y2x1ZGUgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmFkZEZhY2V0RXhjbHVzaW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuXG4vKipcbiAqIEFkZHMgYSB0YWcgZmlsdGVyIHdpdGggdGhlIGB0YWdgIHByb3ZpZGVkLiBJZiB0aGVcbiAqIGZpbHRlciBpcyBhbHJlYWR5IHNldCwgaXQgZG9lc24ndCBjaGFuZ2UgdGhlIGZpbHRlcnMuXG4gKlxuICogVGhpcyBtZXRob2QgcmVzZXRzIHRoZSBjdXJyZW50IHBhZ2UgdG8gMC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgdGhlIHRhZyB0byBhZGQgdG8gdGhlIGZpbHRlclxuICogQHJldHVybiB7QWxnb2xpYVNlYXJjaEhlbHBlcn0gTWV0aG9kIGlzIGNoYWluYWJsZSwgaXQgcmV0dXJucyBpdHNlbGZcbiAqIEBmaXJlcyBjaGFuZ2VcbiAqIEBjaGFpbmFibGVcbiAqL1xuQWxnb2xpYVNlYXJjaEhlbHBlci5wcm90b3R5cGUuYWRkVGFnID0gZnVuY3Rpb24gKHRhZykge1xuICB0aGlzLl9jaGFuZ2Uoe1xuICAgIHN0YXRlOiB0aGlzLnN0YXRlLnJlc2V0UGFnZSgpLmFkZFRhZ1JlZmluZW1lbnQodGFnKSxcbiAgICBpc1BhZ2VSZXNldDogdHJ1ZSxcbiAgfSk7XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZXMgYW4gbnVtZXJpYyBmaWx0ZXIgdG8gYW4gYXR0cmlidXRlIHdpdGggdGhlIGBvcGVyYXRvcmAgYW5kIGB2YWx1ZWAgcHJvdmlkZWQuIElmIHRoZVxuICogZmlsdGVyIGlzIG5vdCBzZXQsIGl0IGRvZXNuJ3QgY2hhbmdlIHRoZSBmaWx0ZXJzLlxuICpcbiAqIFNvbWUgcGFyYW1ldGVycyBhcmUgb3B0aW9uYWwsIHRyaWdnZXJpbmcgZGlmZmVyZW50IGJlaGF2aW9yOlxuICogIC0gaWYgdGhlIHZhbHVlIGlzIG5vdCBwcm92aWRlZCwgdGhlbiBhbGwgdGhlIG51bWVyaWMgdmFsdWUgd2lsbCBiZSByZW1vdmVkIGZvciB0aGVcbiAqICBzcGVjaWZpZWQgYXR0cmlidXRlL29wZXJhdG9yIGNvdXBsZS5cbiAqICAtIGlmIHRoZSBvcGVyYXRvciBpcyBub3QgcHJvdmlkZWQgZWl0aGVyLCB0aGVuIGFsbCB0aGUgbnVtZXJpYyBmaWx0ZXIgb24gdGhpcyBhdHRyaWJ1dGVcbiAqICB3aWxsIGJlIHJlbW92ZWQuXG4gKlxuICogVGhpcyBtZXRob2QgcmVzZXRzIHRoZSBjdXJyZW50IHBhZ2UgdG8gMC5cbiAqIEBwYXJhbSAge3N0cmluZ30gYXR0cmlidXRlIHRoZSBhdHRyaWJ1dGUgb24gd2hpY2ggdGhlIG51bWVyaWMgZmlsdGVyIGFwcGxpZXNcbiAqIEBwYXJhbSAge3N0cmluZ30gW29wZXJhdG9yXSB0aGUgb3BlcmF0b3Igb2YgdGhlIGZpbHRlclxuICogQHBhcmFtICB7bnVtYmVyfSBbdmFsdWVdIHRoZSB2YWx1ZSBvZiB0aGUgZmlsdGVyXG4gKiBAcmV0dXJuIHtBbGdvbGlhU2VhcmNoSGVscGVyfSBNZXRob2QgaXMgY2hhaW5hYmxlLCBpdCByZXR1cm5zIGl0c2VsZlxuICogQGZpcmVzIGNoYW5nZVxuICogQGNoYWluYWJsZVxuICovXG5BbGdvbGlhU2VhcmNoSGVscGVyLnByb3RvdHlwZS5yZW1vdmVOdW1lcmljUmVmaW5lbWVudCA9IGZ1bmN0aW9uIChcbiAgYXR0cmlidXRlLFxuICBvcGVyYXRvcixcbiAgdmFsdWVcbikge1xuICB0aGlzLl9jaGFuZ2Uoe1xuICAgIHN0YXRlOiB0aGlzLnN0YXRlXG4gICAgICAucmVzZXRQYWdlKClcbiAgICAgIC5yZW1vdmVOdW1lcmljUmVmaW5lbWVudChhdHRyaWJ1dGUsIG9wZXJhdG9yLCB2YWx1ZSksXG4gICAgaXNQYWdlUmVzZXQ6IHRydWUsXG4gIH0pO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmVzIGEgZGlzanVuY3RpdmUgZmlsdGVyIHRvIGEgZmFjZXRlZCBhdHRyaWJ1dGUgd2l0aCB0aGUgYHZhbHVlYCBwcm92aWRlZC4gSWYgdGhlXG4gKiBmaWx0ZXIgaXMgbm90IHNldCwgaXQgZG9lc24ndCBjaGFuZ2UgdGhlIGZpbHRlcnMuXG4gKlxuICogSWYgdGhlIHZhbHVlIGlzIG9taXR0ZWQsIHRoZW4gdGhpcyBtZXRob2Qgd2lsbCByZW1vdmUgYWxsIHRoZSBmaWx0ZXJzIGZvciB0aGVcbiAqIGF0dHJpYnV0ZS5cbiAqXG4gKiBUaGlzIG1ldGhvZCByZXNldHMgdGhlIGN1cnJlbnQgcGFnZSB0byAwLlxuICogQHBhcmFtICB7c3RyaW5nfSBmYWNldCB0aGUgZmFjZXQgdG8gcmVmaW5lXG4gKiBAcGFyYW0gIHtzdHJpbmd9IFt2YWx1ZV0gdGhlIGFzc29jaWF0ZWQgdmFsdWVcbiAqIEByZXR1cm4ge0FsZ29saWFTZWFyY2hIZWxwZXJ9IE1ldGhvZCBpcyBjaGFpbmFibGUsIGl0IHJldHVybnMgaXRzZWxmXG4gKiBAZmlyZXMgY2hhbmdlXG4gKiBAY2hhaW5hYmxlXG4gKi9cbkFsZ29saWFTZWFyY2hIZWxwZXIucHJvdG90eXBlLnJlbW92ZURpc2p1bmN0aXZlRmFjZXRSZWZpbmVtZW50ID0gZnVuY3Rpb24gKFxuICBmYWNldCxcbiAgdmFsdWVcbikge1xuICB0aGlzLl9jaGFuZ2Uoe1xuICAgIHN0YXRlOiB0aGlzLnN0YXRlXG4gICAgICAucmVzZXRQYWdlKClcbiAgICAgIC5yZW1vdmVEaXNqdW5jdGl2ZUZhY2V0UmVmaW5lbWVudChmYWNldCwgdmFsdWUpLFxuICAgIGlzUGFnZVJlc2V0OiB0cnVlLFxuICB9KTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB2YWxpZC1qc2RvY1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDIuNC4wLCBzZWUge0BsaW5rIEFsZ29saWFTZWFyY2hIZWxwZXIjcmVtb3ZlRGlzanVuY3RpdmVGYWNldFJlZmluZW1lbnR9XG4gKi9cbkFsZ29saWFTZWFyY2hIZWxwZXIucHJvdG90eXBlLnJlbW92ZURpc2p1bmN0aXZlUmVmaW5lID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5yZW1vdmVEaXNqdW5jdGl2ZUZhY2V0UmVmaW5lbWVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcblxuLyoqXG4gKiBSZW1vdmVzIHRoZSByZWZpbmVtZW50IHNldCBvbiBhIGhpZXJhcmNoaWNhbCBmYWNldC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBmYWNldCB0aGUgZmFjZXQgbmFtZVxuICogQHJldHVybiB7QWxnb2xpYVNlYXJjaEhlbHBlcn0gTWV0aG9kIGlzIGNoYWluYWJsZSwgaXQgcmV0dXJucyBpdHNlbGZcbiAqIEB0aHJvd3MgRXJyb3IgaWYgdGhlIGZhY2V0IGlzIG5vdCBkZWZpbmVkIG9yIGlmIHRoZSBmYWNldCBpcyBub3QgcmVmaW5lZFxuICogQGZpcmVzIGNoYW5nZVxuICogQGNoYWluYWJsZVxuICovXG5BbGdvbGlhU2VhcmNoSGVscGVyLnByb3RvdHlwZS5yZW1vdmVIaWVyYXJjaGljYWxGYWNldFJlZmluZW1lbnQgPSBmdW5jdGlvbiAoXG4gIGZhY2V0XG4pIHtcbiAgdGhpcy5fY2hhbmdlKHtcbiAgICBzdGF0ZTogdGhpcy5zdGF0ZS5yZXNldFBhZ2UoKS5yZW1vdmVIaWVyYXJjaGljYWxGYWNldFJlZmluZW1lbnQoZmFjZXQpLFxuICAgIGlzUGFnZVJlc2V0OiB0cnVlLFxuICB9KTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlcyBhIGZpbHRlciB0byBhIGZhY2V0ZWQgYXR0cmlidXRlIHdpdGggdGhlIGB2YWx1ZWAgcHJvdmlkZWQuIElmIHRoZVxuICogZmlsdGVyIGlzIG5vdCBzZXQsIGl0IGRvZXNuJ3QgY2hhbmdlIHRoZSBmaWx0ZXJzLlxuICpcbiAqIElmIHRoZSB2YWx1ZSBpcyBvbWl0dGVkLCB0aGVuIHRoaXMgbWV0aG9kIHdpbGwgcmVtb3ZlIGFsbCB0aGUgZmlsdGVycyBmb3IgdGhlXG4gKiBhdHRyaWJ1dGUuXG4gKlxuICogVGhpcyBtZXRob2QgcmVzZXRzIHRoZSBjdXJyZW50IHBhZ2UgdG8gMC5cbiAqIEBwYXJhbSAge3N0cmluZ30gZmFjZXQgdGhlIGZhY2V0IHRvIHJlZmluZVxuICogQHBhcmFtICB7c3RyaW5nfSBbdmFsdWVdIHRoZSBhc3NvY2lhdGVkIHZhbHVlXG4gKiBAcmV0dXJuIHtBbGdvbGlhU2VhcmNoSGVscGVyfSBNZXRob2QgaXMgY2hhaW5hYmxlLCBpdCByZXR1cm5zIGl0c2VsZlxuICogQGZpcmVzIGNoYW5nZVxuICogQGNoYWluYWJsZVxuICovXG5BbGdvbGlhU2VhcmNoSGVscGVyLnByb3RvdHlwZS5yZW1vdmVGYWNldFJlZmluZW1lbnQgPSBmdW5jdGlvbiAoZmFjZXQsIHZhbHVlKSB7XG4gIHRoaXMuX2NoYW5nZSh7XG4gICAgc3RhdGU6IHRoaXMuc3RhdGUucmVzZXRQYWdlKCkucmVtb3ZlRmFjZXRSZWZpbmVtZW50KGZhY2V0LCB2YWx1ZSksXG4gICAgaXNQYWdlUmVzZXQ6IHRydWUsXG4gIH0pO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHZhbGlkLWpzZG9jXG4vKipcbiAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMi40LjAsIHNlZSB7QGxpbmsgQWxnb2xpYVNlYXJjaEhlbHBlciNyZW1vdmVGYWNldFJlZmluZW1lbnR9XG4gKi9cbkFsZ29saWFTZWFyY2hIZWxwZXIucHJvdG90eXBlLnJlbW92ZVJlZmluZSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMucmVtb3ZlRmFjZXRSZWZpbmVtZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuXG4vKipcbiAqIFJlbW92ZXMgYW4gZXhjbHVzaW9uIGZpbHRlciB0byBhIGZhY2V0ZWQgYXR0cmlidXRlIHdpdGggdGhlIGB2YWx1ZWAgcHJvdmlkZWQuIElmIHRoZVxuICogZmlsdGVyIGlzIG5vdCBzZXQsIGl0IGRvZXNuJ3QgY2hhbmdlIHRoZSBmaWx0ZXJzLlxuICpcbiAqIElmIHRoZSB2YWx1ZSBpcyBvbWl0dGVkLCB0aGVuIHRoaXMgbWV0aG9kIHdpbGwgcmVtb3ZlIGFsbCB0aGUgZmlsdGVycyBmb3IgdGhlXG4gKiBhdHRyaWJ1dGUuXG4gKlxuICogVGhpcyBtZXRob2QgcmVzZXRzIHRoZSBjdXJyZW50IHBhZ2UgdG8gMC5cbiAqIEBwYXJhbSAge3N0cmluZ30gZmFjZXQgdGhlIGZhY2V0IHRvIHJlZmluZVxuICogQHBhcmFtICB7c3RyaW5nfSBbdmFsdWVdIHRoZSBhc3NvY2lhdGVkIHZhbHVlXG4gKiBAcmV0dXJuIHtBbGdvbGlhU2VhcmNoSGVscGVyfSBNZXRob2QgaXMgY2hhaW5hYmxlLCBpdCByZXR1cm5zIGl0c2VsZlxuICogQGZpcmVzIGNoYW5nZVxuICogQGNoYWluYWJsZVxuICovXG5BbGdvbGlhU2VhcmNoSGVscGVyLnByb3RvdHlwZS5yZW1vdmVGYWNldEV4Y2x1c2lvbiA9IGZ1bmN0aW9uIChmYWNldCwgdmFsdWUpIHtcbiAgdGhpcy5fY2hhbmdlKHtcbiAgICBzdGF0ZTogdGhpcy5zdGF0ZS5yZXNldFBhZ2UoKS5yZW1vdmVFeGNsdWRlUmVmaW5lbWVudChmYWNldCwgdmFsdWUpLFxuICAgIGlzUGFnZVJlc2V0OiB0cnVlLFxuICB9KTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB2YWxpZC1qc2RvY1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDIuNC4wLCBzZWUge0BsaW5rIEFsZ29saWFTZWFyY2hIZWxwZXIjcmVtb3ZlRmFjZXRFeGNsdXNpb259XG4gKi9cbkFsZ29saWFTZWFyY2hIZWxwZXIucHJvdG90eXBlLnJlbW92ZUV4Y2x1ZGUgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLnJlbW92ZUZhY2V0RXhjbHVzaW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuXG4vKipcbiAqIFJlbW92ZXMgYSB0YWcgZmlsdGVyIHdpdGggdGhlIGB0YWdgIHByb3ZpZGVkLiBJZiB0aGVcbiAqIGZpbHRlciBpcyBub3Qgc2V0LCBpdCBkb2Vzbid0IGNoYW5nZSB0aGUgZmlsdGVycy5cbiAqXG4gKiBUaGlzIG1ldGhvZCByZXNldHMgdGhlIGN1cnJlbnQgcGFnZSB0byAwLlxuICogQHBhcmFtIHtzdHJpbmd9IHRhZyB0YWcgdG8gcmVtb3ZlIGZyb20gdGhlIGZpbHRlclxuICogQHJldHVybiB7QWxnb2xpYVNlYXJjaEhlbHBlcn0gTWV0aG9kIGlzIGNoYWluYWJsZSwgaXQgcmV0dXJucyBpdHNlbGZcbiAqIEBmaXJlcyBjaGFuZ2VcbiAqIEBjaGFpbmFibGVcbiAqL1xuQWxnb2xpYVNlYXJjaEhlbHBlci5wcm90b3R5cGUucmVtb3ZlVGFnID0gZnVuY3Rpb24gKHRhZykge1xuICB0aGlzLl9jaGFuZ2Uoe1xuICAgIHN0YXRlOiB0aGlzLnN0YXRlLnJlc2V0UGFnZSgpLnJlbW92ZVRhZ1JlZmluZW1lbnQodGFnKSxcbiAgICBpc1BhZ2VSZXNldDogdHJ1ZSxcbiAgfSk7XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEFkZHMgb3IgcmVtb3ZlcyBhbiBleGNsdXNpb24gZmlsdGVyIHRvIGEgZmFjZXRlZCBhdHRyaWJ1dGUgd2l0aCB0aGUgYHZhbHVlYCBwcm92aWRlZC4gSWZcbiAqIHRoZSB2YWx1ZSBpcyBzZXQgdGhlbiBpdCByZW1vdmVzIGl0LCBvdGhlcndpc2UgaXQgYWRkcyB0aGUgZmlsdGVyLlxuICpcbiAqIFRoaXMgbWV0aG9kIHJlc2V0cyB0aGUgY3VycmVudCBwYWdlIHRvIDAuXG4gKiBAcGFyYW0gIHtzdHJpbmd9IGZhY2V0IHRoZSBmYWNldCB0byByZWZpbmVcbiAqIEBwYXJhbSAge3N0cmluZ30gdmFsdWUgdGhlIGFzc29jaWF0ZWQgdmFsdWVcbiAqIEByZXR1cm4ge0FsZ29saWFTZWFyY2hIZWxwZXJ9IE1ldGhvZCBpcyBjaGFpbmFibGUsIGl0IHJldHVybnMgaXRzZWxmXG4gKiBAZmlyZXMgY2hhbmdlXG4gKiBAY2hhaW5hYmxlXG4gKi9cbkFsZ29saWFTZWFyY2hIZWxwZXIucHJvdG90eXBlLnRvZ2dsZUZhY2V0RXhjbHVzaW9uID0gZnVuY3Rpb24gKGZhY2V0LCB2YWx1ZSkge1xuICB0aGlzLl9jaGFuZ2Uoe1xuICAgIHN0YXRlOiB0aGlzLnN0YXRlLnJlc2V0UGFnZSgpLnRvZ2dsZUV4Y2x1ZGVGYWNldFJlZmluZW1lbnQoZmFjZXQsIHZhbHVlKSxcbiAgICBpc1BhZ2VSZXNldDogdHJ1ZSxcbiAgfSk7XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdmFsaWQtanNkb2Ncbi8qKlxuICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAyLjQuMCwgc2VlIHtAbGluayBBbGdvbGlhU2VhcmNoSGVscGVyI3RvZ2dsZUZhY2V0RXhjbHVzaW9ufVxuICovXG5BbGdvbGlhU2VhcmNoSGVscGVyLnByb3RvdHlwZS50b2dnbGVFeGNsdWRlID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy50b2dnbGVGYWNldEV4Y2x1c2lvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcblxuLyoqXG4gKiBBZGRzIG9yIHJlbW92ZXMgYSBmaWx0ZXIgdG8gYSBmYWNldGVkIGF0dHJpYnV0ZSB3aXRoIHRoZSBgdmFsdWVgIHByb3ZpZGVkLiBJZlxuICogdGhlIHZhbHVlIGlzIHNldCB0aGVuIGl0IHJlbW92ZXMgaXQsIG90aGVyd2lzZSBpdCBhZGRzIHRoZSBmaWx0ZXIuXG4gKlxuICogVGhpcyBtZXRob2QgY2FuIGJlIHVzZWQgZm9yIGNvbmp1bmN0aXZlLCBkaXNqdW5jdGl2ZSBhbmQgaGllcmFyY2hpY2FsIGZpbHRlcnMuXG4gKlxuICogVGhpcyBtZXRob2QgcmVzZXRzIHRoZSBjdXJyZW50IHBhZ2UgdG8gMC5cbiAqIEBwYXJhbSAge3N0cmluZ30gZmFjZXQgdGhlIGZhY2V0IHRvIHJlZmluZVxuICogQHBhcmFtICB7c3RyaW5nfSB2YWx1ZSB0aGUgYXNzb2NpYXRlZCB2YWx1ZVxuICogQHJldHVybiB7QWxnb2xpYVNlYXJjaEhlbHBlcn0gTWV0aG9kIGlzIGNoYWluYWJsZSwgaXQgcmV0dXJucyBpdHNlbGZcbiAqIEB0aHJvd3MgRXJyb3Igd2lsbCB0aHJvdyBhbiBlcnJvciBpZiB0aGUgZmFjZXQgaXMgbm90IGRlY2xhcmVkIGluIHRoZSBzZXR0aW5ncyBvZiB0aGUgaGVscGVyXG4gKiBAZmlyZXMgY2hhbmdlXG4gKiBAY2hhaW5hYmxlXG4gKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDIuMTkuMCwgc2VlIHtAbGluayBBbGdvbGlhU2VhcmNoSGVscGVyI3RvZ2dsZUZhY2V0UmVmaW5lbWVudH1cbiAqL1xuQWxnb2xpYVNlYXJjaEhlbHBlci5wcm90b3R5cGUudG9nZ2xlUmVmaW5lbWVudCA9IGZ1bmN0aW9uIChmYWNldCwgdmFsdWUpIHtcbiAgcmV0dXJuIHRoaXMudG9nZ2xlRmFjZXRSZWZpbmVtZW50KGZhY2V0LCB2YWx1ZSk7XG59O1xuXG4vKipcbiAqIEFkZHMgb3IgcmVtb3ZlcyBhIGZpbHRlciB0byBhIGZhY2V0ZWQgYXR0cmlidXRlIHdpdGggdGhlIGB2YWx1ZWAgcHJvdmlkZWQuIElmXG4gKiB0aGUgdmFsdWUgaXMgc2V0IHRoZW4gaXQgcmVtb3ZlcyBpdCwgb3RoZXJ3aXNlIGl0IGFkZHMgdGhlIGZpbHRlci5cbiAqXG4gKiBUaGlzIG1ldGhvZCBjYW4gYmUgdXNlZCBmb3IgY29uanVuY3RpdmUsIGRpc2p1bmN0aXZlIGFuZCBoaWVyYXJjaGljYWwgZmlsdGVycy5cbiAqXG4gKiBUaGlzIG1ldGhvZCByZXNldHMgdGhlIGN1cnJlbnQgcGFnZSB0byAwLlxuICogQHBhcmFtICB7c3RyaW5nfSBmYWNldCB0aGUgZmFjZXQgdG8gcmVmaW5lXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHZhbHVlIHRoZSBhc3NvY2lhdGVkIHZhbHVlXG4gKiBAcmV0dXJuIHtBbGdvbGlhU2VhcmNoSGVscGVyfSBNZXRob2QgaXMgY2hhaW5hYmxlLCBpdCByZXR1cm5zIGl0c2VsZlxuICogQHRocm93cyBFcnJvciB3aWxsIHRocm93IGFuIGVycm9yIGlmIHRoZSBmYWNldCBpcyBub3QgZGVjbGFyZWQgaW4gdGhlIHNldHRpbmdzIG9mIHRoZSBoZWxwZXJcbiAqIEBmaXJlcyBjaGFuZ2VcbiAqIEBjaGFpbmFibGVcbiAqL1xuQWxnb2xpYVNlYXJjaEhlbHBlci5wcm90b3R5cGUudG9nZ2xlRmFjZXRSZWZpbmVtZW50ID0gZnVuY3Rpb24gKGZhY2V0LCB2YWx1ZSkge1xuICB0aGlzLl9jaGFuZ2Uoe1xuICAgIHN0YXRlOiB0aGlzLnN0YXRlLnJlc2V0UGFnZSgpLnRvZ2dsZUZhY2V0UmVmaW5lbWVudChmYWNldCwgdmFsdWUpLFxuICAgIGlzUGFnZVJlc2V0OiB0cnVlLFxuICB9KTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB2YWxpZC1qc2RvY1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDIuNC4wLCBzZWUge0BsaW5rIEFsZ29saWFTZWFyY2hIZWxwZXIjdG9nZ2xlRmFjZXRSZWZpbmVtZW50fVxuICovXG5BbGdvbGlhU2VhcmNoSGVscGVyLnByb3RvdHlwZS50b2dnbGVSZWZpbmUgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLnRvZ2dsZUZhY2V0UmVmaW5lbWVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcblxuLyoqXG4gKiBBZGRzIG9yIHJlbW92ZXMgYSB0YWcgZmlsdGVyIHdpdGggdGhlIGB2YWx1ZWAgcHJvdmlkZWQuIElmXG4gKiB0aGUgdmFsdWUgaXMgc2V0IHRoZW4gaXQgcmVtb3ZlcyBpdCwgb3RoZXJ3aXNlIGl0IGFkZHMgdGhlIGZpbHRlci5cbiAqXG4gKiBUaGlzIG1ldGhvZCByZXNldHMgdGhlIGN1cnJlbnQgcGFnZSB0byAwLlxuICogQHBhcmFtIHtzdHJpbmd9IHRhZyB0YWcgdG8gcmVtb3ZlIG9yIGFkZFxuICogQHJldHVybiB7QWxnb2xpYVNlYXJjaEhlbHBlcn0gTWV0aG9kIGlzIGNoYWluYWJsZSwgaXQgcmV0dXJucyBpdHNlbGZcbiAqIEBmaXJlcyBjaGFuZ2VcbiAqIEBjaGFpbmFibGVcbiAqL1xuQWxnb2xpYVNlYXJjaEhlbHBlci5wcm90b3R5cGUudG9nZ2xlVGFnID0gZnVuY3Rpb24gKHRhZykge1xuICB0aGlzLl9jaGFuZ2Uoe1xuICAgIHN0YXRlOiB0aGlzLnN0YXRlLnJlc2V0UGFnZSgpLnRvZ2dsZVRhZ1JlZmluZW1lbnQodGFnKSxcbiAgICBpc1BhZ2VSZXNldDogdHJ1ZSxcbiAgfSk7XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEluY3JlbWVudHMgdGhlIHBhZ2UgbnVtYmVyIGJ5IG9uZS5cbiAqIEByZXR1cm4ge0FsZ29saWFTZWFyY2hIZWxwZXJ9IE1ldGhvZCBpcyBjaGFpbmFibGUsIGl0IHJldHVybnMgaXRzZWxmXG4gKiBAZmlyZXMgY2hhbmdlXG4gKiBAY2hhaW5hYmxlXG4gKiBAZXhhbXBsZVxuICogaGVscGVyLnNldFBhZ2UoMCkubmV4dFBhZ2UoKS5nZXRQYWdlKCk7XG4gKiAvLyByZXR1cm5zIDFcbiAqL1xuQWxnb2xpYVNlYXJjaEhlbHBlci5wcm90b3R5cGUubmV4dFBhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBwYWdlID0gdGhpcy5zdGF0ZS5wYWdlIHx8IDA7XG4gIHJldHVybiB0aGlzLnNldFBhZ2UocGFnZSArIDEpO1xufTtcblxuLyoqXG4gKiBEZWNyZW1lbnRzIHRoZSBwYWdlIG51bWJlciBieSBvbmUuXG4gKiBAZmlyZXMgY2hhbmdlXG4gKiBAcmV0dXJuIHtBbGdvbGlhU2VhcmNoSGVscGVyfSBNZXRob2QgaXMgY2hhaW5hYmxlLCBpdCByZXR1cm5zIGl0c2VsZlxuICogQGNoYWluYWJsZVxuICogQGV4YW1wbGVcbiAqIGhlbHBlci5zZXRQYWdlKDEpLnByZXZpb3VzUGFnZSgpLmdldFBhZ2UoKTtcbiAqIC8vIHJldHVybnMgMFxuICovXG5BbGdvbGlhU2VhcmNoSGVscGVyLnByb3RvdHlwZS5wcmV2aW91c1BhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBwYWdlID0gdGhpcy5zdGF0ZS5wYWdlIHx8IDA7XG4gIHJldHVybiB0aGlzLnNldFBhZ2UocGFnZSAtIDEpO1xufTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IHBhZ2UgVGhlIHBhZ2UgbnVtYmVyXG4gKiBAcmV0dXJuIHtBbGdvbGlhU2VhcmNoSGVscGVyfSBNZXRob2QgaXMgY2hhaW5hYmxlLCBpdCByZXR1cm5zIGl0c2VsZlxuICogQGNoYWluYWJsZVxuICogQGZpcmVzIGNoYW5nZVxuICovXG5mdW5jdGlvbiBzZXRDdXJyZW50UGFnZShwYWdlKSB7XG4gIGlmIChwYWdlIDwgMCkgdGhyb3cgbmV3IEVycm9yKCdQYWdlIHJlcXVlc3RlZCBiZWxvdyAwLicpO1xuXG4gIHRoaXMuX2NoYW5nZSh7XG4gICAgc3RhdGU6IHRoaXMuc3RhdGUuc2V0UGFnZShwYWdlKSxcbiAgICBpc1BhZ2VSZXNldDogZmFsc2UsXG4gIH0pO1xuXG4gIHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIENoYW5nZSB0aGUgY3VycmVudCBwYWdlXG4gKiBAZGVwcmVjYXRlZFxuICogQHBhcmFtICB7bnVtYmVyfSBwYWdlIFRoZSBwYWdlIG51bWJlclxuICogQHJldHVybiB7QWxnb2xpYVNlYXJjaEhlbHBlcn0gTWV0aG9kIGlzIGNoYWluYWJsZSwgaXQgcmV0dXJucyBpdHNlbGZcbiAqIEBmaXJlcyBjaGFuZ2VcbiAqIEBjaGFpbmFibGVcbiAqL1xuQWxnb2xpYVNlYXJjaEhlbHBlci5wcm90b3R5cGUuc2V0Q3VycmVudFBhZ2UgPSBzZXRDdXJyZW50UGFnZTtcblxuLyoqXG4gKiBVcGRhdGVzIHRoZSBjdXJyZW50IHBhZ2UuXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSAge251bWJlcn0gcGFnZSBUaGUgcGFnZSBudW1iZXJcbiAqIEByZXR1cm4ge0FsZ29saWFTZWFyY2hIZWxwZXJ9IE1ldGhvZCBpcyBjaGFpbmFibGUsIGl0IHJldHVybnMgaXRzZWxmXG4gKiBAZmlyZXMgY2hhbmdlXG4gKiBAY2hhaW5hYmxlXG4gKi9cbkFsZ29saWFTZWFyY2hIZWxwZXIucHJvdG90eXBlLnNldFBhZ2UgPSBzZXRDdXJyZW50UGFnZTtcblxuLyoqXG4gKiBVcGRhdGVzIHRoZSBuYW1lIG9mIHRoZSBpbmRleCB0aGF0IHdpbGwgYmUgdGFyZ2V0ZWQgYnkgdGhlIHF1ZXJ5LlxuICpcbiAqIFRoaXMgbWV0aG9kIHJlc2V0cyB0aGUgY3VycmVudCBwYWdlIHRvIDAuXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSB0aGUgaW5kZXggbmFtZVxuICogQHJldHVybiB7QWxnb2xpYVNlYXJjaEhlbHBlcn0gTWV0aG9kIGlzIGNoYWluYWJsZSwgaXQgcmV0dXJucyBpdHNlbGZcbiAqIEBmaXJlcyBjaGFuZ2VcbiAqIEBjaGFpbmFibGVcbiAqL1xuQWxnb2xpYVNlYXJjaEhlbHBlci5wcm90b3R5cGUuc2V0SW5kZXggPSBmdW5jdGlvbiAobmFtZSkge1xuICB0aGlzLl9jaGFuZ2Uoe1xuICAgIHN0YXRlOiB0aGlzLnN0YXRlLnJlc2V0UGFnZSgpLnNldEluZGV4KG5hbWUpLFxuICAgIGlzUGFnZVJlc2V0OiB0cnVlLFxuICB9KTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogVXBkYXRlIGEgcGFyYW1ldGVyIG9mIHRoZSBzZWFyY2guIFRoaXMgbWV0aG9kIHJlc2V0IHRoZSBwYWdlXG4gKlxuICogVGhlIGNvbXBsZXRlIGxpc3Qgb2YgcGFyYW1ldGVycyBpcyBhdmFpbGFibGUgb24gdGhlXG4gKiBbQWxnb2xpYSB3ZWJzaXRlXShodHRwczovL3d3dy5hbGdvbGlhLmNvbS9kb2MvcmVzdCNxdWVyeS1hbi1pbmRleCkuXG4gKiBUaGUgbW9zdCBjb21tb25seSB1c2VkIHBhcmFtZXRlcnMgaGF2ZSB0aGVpciBvd24gW3Nob3J0Y3V0c10oI3F1ZXJ5LXBhcmFtZXRlcnMtc2hvcnRjdXRzKVxuICogb3IgYmVuZWZpdCBmcm9tIGhpZ2hlci1sZXZlbCBBUElzIChhbGwgdGhlIGtpbmQgb2YgZmlsdGVycyBhbmQgZmFjZXRzIGhhdmUgdGhlaXIgb3duIEFQSSlcbiAqXG4gKiBUaGlzIG1ldGhvZCByZXNldHMgdGhlIGN1cnJlbnQgcGFnZSB0byAwLlxuICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtZXRlciBuYW1lIG9mIHRoZSBwYXJhbWV0ZXIgdG8gdXBkYXRlXG4gKiBAcGFyYW0ge2FueX0gdmFsdWUgbmV3IHZhbHVlIG9mIHRoZSBwYXJhbWV0ZXJcbiAqIEByZXR1cm4ge0FsZ29saWFTZWFyY2hIZWxwZXJ9IE1ldGhvZCBpcyBjaGFpbmFibGUsIGl0IHJldHVybnMgaXRzZWxmXG4gKiBAZmlyZXMgY2hhbmdlXG4gKiBAY2hhaW5hYmxlXG4gKiBAZXhhbXBsZVxuICogaGVscGVyLnNldFF1ZXJ5UGFyYW1ldGVyKCdoaXRzUGVyUGFnZScsIDIwKS5zZWFyY2goKTtcbiAqL1xuQWxnb2xpYVNlYXJjaEhlbHBlci5wcm90b3R5cGUuc2V0UXVlcnlQYXJhbWV0ZXIgPSBmdW5jdGlvbiAocGFyYW1ldGVyLCB2YWx1ZSkge1xuICB0aGlzLl9jaGFuZ2Uoe1xuICAgIHN0YXRlOiB0aGlzLnN0YXRlLnJlc2V0UGFnZSgpLnNldFF1ZXJ5UGFyYW1ldGVyKHBhcmFtZXRlciwgdmFsdWUpLFxuICAgIGlzUGFnZVJlc2V0OiB0cnVlLFxuICB9KTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0IHRoZSB3aG9sZSBzdGF0ZSAod2FybmluZzogd2lsbCBlcmFzZSBwcmV2aW91cyBzdGF0ZSlcbiAqIEBwYXJhbSB7U2VhcmNoUGFyYW1ldGVyc30gbmV3U3RhdGUgdGhlIHdob2xlIG5ldyBzdGF0ZVxuICogQHJldHVybiB7QWxnb2xpYVNlYXJjaEhlbHBlcn0gTWV0aG9kIGlzIGNoYWluYWJsZSwgaXQgcmV0dXJucyBpdHNlbGZcbiAqIEBmaXJlcyBjaGFuZ2VcbiAqIEBjaGFpbmFibGVcbiAqL1xuQWxnb2xpYVNlYXJjaEhlbHBlci5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAobmV3U3RhdGUpIHtcbiAgdGhpcy5fY2hhbmdlKHtcbiAgICBzdGF0ZTogU2VhcmNoUGFyYW1ldGVycy5tYWtlKG5ld1N0YXRlKSxcbiAgICBpc1BhZ2VSZXNldDogZmFsc2UsXG4gIH0pO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBPdmVycmlkZSB0aGUgY3VycmVudCBzdGF0ZSB3aXRob3V0IHRyaWdnZXJpbmcgYSBjaGFuZ2UgZXZlbnQuXG4gKiBEbyBub3QgdXNlIHRoaXMgbWV0aG9kIHVubGVzcyB5b3Uga25vdyB3aGF0IHlvdSBhcmUgZG9pbmcuIChzZWUgdGhlIGV4YW1wbGVcbiAqIGZvciBhIGxlZ2l0IHVzZSBjYXNlKVxuICogQHBhcmFtIHtTZWFyY2hQYXJhbWV0ZXJzfSBuZXdTdGF0ZSB0aGUgd2hvbGUgbmV3IHN0YXRlXG4gKiBAcmV0dXJuIHtBbGdvbGlhU2VhcmNoSGVscGVyfSBNZXRob2QgaXMgY2hhaW5hYmxlLCBpdCByZXR1cm5zIGl0c2VsZlxuICogQGV4YW1wbGVcbiAqICBoZWxwZXIub24oJ2NoYW5nZScsIGZ1bmN0aW9uKHN0YXRlKXtcbiAqICAgIC8vIEluIHRoaXMgZnVuY3Rpb24geW91IG1pZ2h0IHdhbnQgdG8gZmluZCBhIHdheSB0byBzdG9yZSB0aGUgc3RhdGUgaW4gdGhlIHVybC9oaXN0b3J5XG4gKiAgICB1cGRhdGVZb3VyVVJMKHN0YXRlKVxuICogIH0pXG4gKiAgd2luZG93Lm9ucG9wc3RhdGUgPSBmdW5jdGlvbihldmVudCl7XG4gKiAgICAvLyBUaGlzIGlzIG5haXZlIHRob3VnaCBhcyB5b3Ugc2hvdWxkIGNoZWNrIGlmIHRoZSBzdGF0ZSBpcyByZWFsbHkgZGVmaW5lZCBldGMuXG4gKiAgICBoZWxwZXIub3ZlcnJpZGVTdGF0ZVdpdGhvdXRUcmlnZ2VyaW5nQ2hhbmdlRXZlbnQoZXZlbnQuc3RhdGUpLnNlYXJjaCgpXG4gKiAgfVxuICogQGNoYWluYWJsZVxuICovXG5BbGdvbGlhU2VhcmNoSGVscGVyLnByb3RvdHlwZS5vdmVycmlkZVN0YXRlV2l0aG91dFRyaWdnZXJpbmdDaGFuZ2VFdmVudCA9XG4gIGZ1bmN0aW9uIChuZXdTdGF0ZSkge1xuICAgIHRoaXMuc3RhdGUgPSBuZXcgU2VhcmNoUGFyYW1ldGVycyhuZXdTdGF0ZSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbi8qKlxuICogQ2hlY2sgaWYgYW4gYXR0cmlidXRlIGhhcyBhbnkgbnVtZXJpYywgY29uanVuY3RpdmUsIGRpc2p1bmN0aXZlIG9yIGhpZXJhcmNoaWNhbCBmaWx0ZXJzLlxuICogQHBhcmFtIHtzdHJpbmd9IGF0dHJpYnV0ZSB0aGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlXG4gKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoZSBhdHRyaWJ1dGUgaXMgZmlsdGVyZWQgYnkgYXQgbGVhc3Qgb25lIHZhbHVlXG4gKiBAZXhhbXBsZVxuICogLy8gaGFzUmVmaW5lbWVudHMgd29ya3Mgd2l0aCBudW1lcmljLCBjb25qdW5jdGl2ZSwgZGlzanVuY3RpdmUgYW5kIGhpZXJhcmNoaWNhbCBmaWx0ZXJzXG4gKiBoZWxwZXIuaGFzUmVmaW5lbWVudHMoJ3ByaWNlJyk7IC8vIGZhbHNlXG4gKiBoZWxwZXIuYWRkTnVtZXJpY1JlZmluZW1lbnQoJ3ByaWNlJywgJz4nLCAxMDApO1xuICogaGVscGVyLmhhc1JlZmluZW1lbnRzKCdwcmljZScpOyAvLyB0cnVlXG4gKlxuICogaGVscGVyLmhhc1JlZmluZW1lbnRzKCdjb2xvcicpOyAvLyBmYWxzZVxuICogaGVscGVyLmFkZEZhY2V0UmVmaW5lbWVudCgnY29sb3InLCAnYmx1ZScpO1xuICogaGVscGVyLmhhc1JlZmluZW1lbnRzKCdjb2xvcicpOyAvLyB0cnVlXG4gKlxuICogaGVscGVyLmhhc1JlZmluZW1lbnRzKCdtYXRlcmlhbCcpOyAvLyBmYWxzZVxuICogaGVscGVyLmFkZERpc2p1bmN0aXZlRmFjZXRSZWZpbmVtZW50KCdtYXRlcmlhbCcsICdwbGFzdGljJyk7XG4gKiBoZWxwZXIuaGFzUmVmaW5lbWVudHMoJ21hdGVyaWFsJyk7IC8vIHRydWVcbiAqXG4gKiBoZWxwZXIuaGFzUmVmaW5lbWVudHMoJ2NhdGVnb3JpZXMnKTsgLy8gZmFsc2VcbiAqIGhlbHBlci50b2dnbGVGYWNldFJlZmluZW1lbnQoJ2NhdGVnb3JpZXMnLCAna2l0Y2hlbiA+IGtuaWZlJyk7XG4gKiBoZWxwZXIuaGFzUmVmaW5lbWVudHMoJ2NhdGVnb3JpZXMnKTsgLy8gdHJ1ZVxuICpcbiAqL1xuQWxnb2xpYVNlYXJjaEhlbHBlci5wcm90b3R5cGUuaGFzUmVmaW5lbWVudHMgPSBmdW5jdGlvbiAoYXR0cmlidXRlKSB7XG4gIGlmIChvYmplY3RIYXNLZXlzKHRoaXMuc3RhdGUuZ2V0TnVtZXJpY1JlZmluZW1lbnRzKGF0dHJpYnV0ZSkpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc0Nvbmp1bmN0aXZlRmFjZXQoYXR0cmlidXRlKSkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLmlzRmFjZXRSZWZpbmVkKGF0dHJpYnV0ZSk7XG4gIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc0Rpc2p1bmN0aXZlRmFjZXQoYXR0cmlidXRlKSkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLmlzRGlzanVuY3RpdmVGYWNldFJlZmluZWQoYXR0cmlidXRlKTtcbiAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmlzSGllcmFyY2hpY2FsRmFjZXQoYXR0cmlidXRlKSkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLmlzSGllcmFyY2hpY2FsRmFjZXRSZWZpbmVkKGF0dHJpYnV0ZSk7XG4gIH1cblxuICAvLyB0aGVyZSdzIGN1cnJlbnRseSBubyB3YXkgdG8ga25vdyB0aGF0IHRoZSB1c2VyIGRpZCBjYWxsIGBhZGROdW1lcmljUmVmaW5lbWVudGAgYXQgc29tZSBwb2ludFxuICAvLyB0aHVzIHdlIGNhbm5vdCBkaXN0aW5ndWlzaCBpZiB0aGVyZSBvbmNlIHdhcyBhIG51bWVyaWMgcmVmaW5lbWVudCB0aGF0IHdhcyBjbGVhcmVkXG4gIC8vIHNvIHdlIHdpbGwgcmV0dXJuIGZhbHNlIGluIGV2ZXJ5IG90aGVyIHNpdHVhdGlvbnMgdG8gYmUgY29uc2lzdGVudFxuICAvLyB3aGlsZSB3aGF0IHdlIHNob3VsZCBkbyBoZXJlIGlzIHRocm93IGJlY2F1c2Ugd2UgZGlkIG5vdCBmaW5kIHRoZSBhdHRyaWJ1dGUgaW4gYW55IHR5cGVcbiAgLy8gb2YgcmVmaW5lbWVudFxuICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIGEgdmFsdWUgaXMgZXhjbHVkZWQgZm9yIGEgc3BlY2lmaWMgZmFjZXRlZCBhdHRyaWJ1dGUuIElmIHRoZSB2YWx1ZVxuICogaXMgb21pdHRlZCB0aGVuIHRoZSBmdW5jdGlvbiBjaGVja3MgaWYgdGhlcmUgaXMgYW55IGV4Y2x1ZGluZyByZWZpbmVtZW50cy5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICBmYWNldCBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgZm9yIHVzZWQgZm9yIGZhY2V0aW5nXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICBbdmFsdWVdIG9wdGlvbmFsIHZhbHVlLiBJZiBwYXNzZWQgd2lsbCB0ZXN0IHRoYXQgdGhpcyB2YWx1ZVxuICogaXMgZmlsdGVyaW5nIHRoZSBnaXZlbiBmYWNldC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgcmVmaW5lZFxuICogQGV4YW1wbGVcbiAqIGhlbHBlci5pc0V4Y2x1ZGVSZWZpbmVkKCdjb2xvcicpOyAvLyBmYWxzZVxuICogaGVscGVyLmlzRXhjbHVkZVJlZmluZWQoJ2NvbG9yJywgJ2JsdWUnKSAvLyBmYWxzZVxuICogaGVscGVyLmlzRXhjbHVkZVJlZmluZWQoJ2NvbG9yJywgJ3JlZCcpIC8vIGZhbHNlXG4gKlxuICogaGVscGVyLmFkZEZhY2V0RXhjbHVzaW9uKCdjb2xvcicsICdyZWQnKTtcbiAqXG4gKiBoZWxwZXIuaXNFeGNsdWRlUmVmaW5lZCgnY29sb3InKTsgLy8gdHJ1ZVxuICogaGVscGVyLmlzRXhjbHVkZVJlZmluZWQoJ2NvbG9yJywgJ2JsdWUnKSAvLyBmYWxzZVxuICogaGVscGVyLmlzRXhjbHVkZVJlZmluZWQoJ2NvbG9yJywgJ3JlZCcpIC8vIHRydWVcbiAqL1xuQWxnb2xpYVNlYXJjaEhlbHBlci5wcm90b3R5cGUuaXNFeGNsdWRlZCA9IGZ1bmN0aW9uIChmYWNldCwgdmFsdWUpIHtcbiAgcmV0dXJuIHRoaXMuc3RhdGUuaXNFeGNsdWRlUmVmaW5lZChmYWNldCwgdmFsdWUpO1xufTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHZhbGlkLWpzZG9jXG4vKipcbiAqIEBkZXByZWNhdGVkIHNpbmNlIDIuNC4wLCBzZWUge0BsaW5rIEFsZ29saWFTZWFyY2hIZWxwZXIjaGFzUmVmaW5lbWVudHN9XG4gKi9cbkFsZ29saWFTZWFyY2hIZWxwZXIucHJvdG90eXBlLmlzRGlzanVuY3RpdmVSZWZpbmVkID0gZnVuY3Rpb24gKGZhY2V0LCB2YWx1ZSkge1xuICByZXR1cm4gdGhpcy5zdGF0ZS5pc0Rpc2p1bmN0aXZlRmFjZXRSZWZpbmVkKGZhY2V0LCB2YWx1ZSk7XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBzdHJpbmcgaXMgYSBjdXJyZW50bHkgZmlsdGVyaW5nIHRhZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgdGFnIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoZSB0YWcgaXMgY3VycmVudGx5IHJlZmluZWRcbiAqL1xuQWxnb2xpYVNlYXJjaEhlbHBlci5wcm90b3R5cGUuaGFzVGFnID0gZnVuY3Rpb24gKHRhZykge1xuICByZXR1cm4gdGhpcy5zdGF0ZS5pc1RhZ1JlZmluZWQodGFnKTtcbn07XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB2YWxpZC1qc2RvY1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBzaW5jZSAyLjQuMCwgc2VlIHtAbGluayBBbGdvbGlhU2VhcmNoSGVscGVyI2hhc1RhZ31cbiAqL1xuQWxnb2xpYVNlYXJjaEhlbHBlci5wcm90b3R5cGUuaXNUYWdSZWZpbmVkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5oYXNUYWdSZWZpbmVtZW50cy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcblxuLyoqXG4gKiBHZXQgdGhlIG5hbWUgb2YgdGhlIGN1cnJlbnRseSB1c2VkIGluZGV4LlxuICogQHJldHVybiB7c3RyaW5nfSBuYW1lIG9mIHRoZSBpbmRleFxuICogQGV4YW1wbGVcbiAqIGhlbHBlci5zZXRJbmRleCgnaGlnaGVzdFByaWNlX3Byb2R1Y3RzJykuZ2V0SW5kZXgoKTtcbiAqIC8vIHJldHVybnMgJ2hpZ2hlc3RQcmljZV9wcm9kdWN0cydcbiAqL1xuQWxnb2xpYVNlYXJjaEhlbHBlci5wcm90b3R5cGUuZ2V0SW5kZXggPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLnN0YXRlLmluZGV4O1xufTtcblxuZnVuY3Rpb24gZ2V0Q3VycmVudFBhZ2UoKSB7XG4gIHJldHVybiB0aGlzLnN0YXRlLnBhZ2U7XG59XG5cbi8qKlxuICogR2V0IHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgcGFnZVxuICogQGRlcHJlY2F0ZWRcbiAqIEByZXR1cm4ge251bWJlcn0gdGhlIGN1cnJlbnQgcGFnZVxuICovXG5BbGdvbGlhU2VhcmNoSGVscGVyLnByb3RvdHlwZS5nZXRDdXJyZW50UGFnZSA9IGdldEN1cnJlbnRQYWdlO1xuLyoqXG4gKiBHZXQgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBwYWdlXG4gKiBAZnVuY3Rpb25cbiAqIEByZXR1cm4ge251bWJlcn0gdGhlIGN1cnJlbnQgcGFnZVxuICovXG5BbGdvbGlhU2VhcmNoSGVscGVyLnByb3RvdHlwZS5nZXRQYWdlID0gZ2V0Q3VycmVudFBhZ2U7XG5cbi8qKlxuICogR2V0IGFsbCB0aGUgdGFncyBjdXJyZW50bHkgc2V0IHRvIGZpbHRlcnMgdGhlIHJlc3VsdHMuXG4gKlxuICogQHJldHVybiB7c3RyaW5nW119IFRoZSBsaXN0IG9mIHRhZ3MgY3VycmVudGx5IHNldC5cbiAqL1xuQWxnb2xpYVNlYXJjaEhlbHBlci5wcm90b3R5cGUuZ2V0VGFncyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuc3RhdGUudGFnUmVmaW5lbWVudHM7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgbGlzdCBvZiByZWZpbmVtZW50cyBmb3IgYSBnaXZlbiBhdHRyaWJ1dGUuIFRoaXMgbWV0aG9kIHdvcmtzIHdpdGhcbiAqIGNvbmp1bmN0aXZlLCBkaXNqdW5jdGl2ZSwgZXhjbHVkaW5nIGFuZCBudW1lcmljYWwgZmlsdGVycy5cbiAqXG4gKiBTZWUgYWxzbyBTZWFyY2hSZXN1bHRzI2dldFJlZmluZW1lbnRzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGZhY2V0TmFtZSBhdHRyaWJ1dGUgbmFtZSB1c2VkIGZvciBmYWNldGluZ1xuICogQHJldHVybiB7QXJyYXkuPEZhY2V0UmVmaW5lbWVudHxOdW1lcmljUmVmaW5lbWVudD59IEFsbCBSZWZpbmVtZW50IGFyZSBvYmplY3RzIHRoYXQgY29udGFpbiBhIHZhbHVlLCBhbmRcbiAqIGEgdHlwZS4gTnVtZXJpYyBhbHNvIGNvbnRhaW5zIGFuIG9wZXJhdG9yLlxuICogQGV4YW1wbGVcbiAqIGhlbHBlci5hZGROdW1lcmljUmVmaW5lbWVudCgncHJpY2UnLCAnPicsIDEwMCk7XG4gKiBoZWxwZXIuZ2V0UmVmaW5lbWVudHMoJ3ByaWNlJyk7XG4gKiAvLyBbXG4gKiAvLyAgIHtcbiAqIC8vICAgICBcInZhbHVlXCI6IFtcbiAqIC8vICAgICAgIDEwMFxuICogLy8gICAgIF0sXG4gKiAvLyAgICAgXCJvcGVyYXRvclwiOiBcIj5cIixcbiAqIC8vICAgICBcInR5cGVcIjogXCJudW1lcmljXCJcbiAqIC8vICAgfVxuICogLy8gXVxuICogQGV4YW1wbGVcbiAqIGhlbHBlci5hZGRGYWNldFJlZmluZW1lbnQoJ2NvbG9yJywgJ2JsdWUnKTtcbiAqIGhlbHBlci5hZGRGYWNldEV4Y2x1c2lvbignY29sb3InLCAncmVkJyk7XG4gKiBoZWxwZXIuZ2V0UmVmaW5lbWVudHMoJ2NvbG9yJyk7XG4gKiAvLyBbXG4gKiAvLyAgIHtcbiAqIC8vICAgICBcInZhbHVlXCI6IFwiYmx1ZVwiLFxuICogLy8gICAgIFwidHlwZVwiOiBcImNvbmp1bmN0aXZlXCJcbiAqIC8vICAgfSxcbiAqIC8vICAge1xuICogLy8gICAgIFwidmFsdWVcIjogXCJyZWRcIixcbiAqIC8vICAgICBcInR5cGVcIjogXCJleGNsdWRlXCJcbiAqIC8vICAgfVxuICogLy8gXVxuICogQGV4YW1wbGVcbiAqIGhlbHBlci5hZGREaXNqdW5jdGl2ZUZhY2V0UmVmaW5lbWVudCgnbWF0ZXJpYWwnLCAncGxhc3RpYycpO1xuICogLy8gW1xuICogLy8gICB7XG4gKiAvLyAgICAgXCJ2YWx1ZVwiOiBcInBsYXN0aWNcIixcbiAqIC8vICAgICBcInR5cGVcIjogXCJkaXNqdW5jdGl2ZVwiXG4gKiAvLyAgIH1cbiAqIC8vIF1cbiAqL1xuQWxnb2xpYVNlYXJjaEhlbHBlci5wcm90b3R5cGUuZ2V0UmVmaW5lbWVudHMgPSBmdW5jdGlvbiAoZmFjZXROYW1lKSB7XG4gIHZhciByZWZpbmVtZW50cyA9IFtdO1xuXG4gIGlmICh0aGlzLnN0YXRlLmlzQ29uanVuY3RpdmVGYWNldChmYWNldE5hbWUpKSB7XG4gICAgdmFyIGNvbmpSZWZpbmVtZW50cyA9IHRoaXMuc3RhdGUuZ2V0Q29uanVuY3RpdmVSZWZpbmVtZW50cyhmYWNldE5hbWUpO1xuXG4gICAgY29ualJlZmluZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKHIpIHtcbiAgICAgIHJlZmluZW1lbnRzLnB1c2goe1xuICAgICAgICB2YWx1ZTogcixcbiAgICAgICAgdHlwZTogJ2Nvbmp1bmN0aXZlJyxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdmFyIGV4Y2x1ZGVSZWZpbmVtZW50cyA9IHRoaXMuc3RhdGUuZ2V0RXhjbHVkZVJlZmluZW1lbnRzKGZhY2V0TmFtZSk7XG5cbiAgICBleGNsdWRlUmVmaW5lbWVudHMuZm9yRWFjaChmdW5jdGlvbiAocikge1xuICAgICAgcmVmaW5lbWVudHMucHVzaCh7XG4gICAgICAgIHZhbHVlOiByLFxuICAgICAgICB0eXBlOiAnZXhjbHVkZScsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmlzRGlzanVuY3RpdmVGYWNldChmYWNldE5hbWUpKSB7XG4gICAgdmFyIGRpc2p1bmN0aXZlUmVmaW5lbWVudHMgPVxuICAgICAgdGhpcy5zdGF0ZS5nZXREaXNqdW5jdGl2ZVJlZmluZW1lbnRzKGZhY2V0TmFtZSk7XG5cbiAgICBkaXNqdW5jdGl2ZVJlZmluZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKHIpIHtcbiAgICAgIHJlZmluZW1lbnRzLnB1c2goe1xuICAgICAgICB2YWx1ZTogcixcbiAgICAgICAgdHlwZTogJ2Rpc2p1bmN0aXZlJyxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIG51bWVyaWNSZWZpbmVtZW50cyA9IHRoaXMuc3RhdGUuZ2V0TnVtZXJpY1JlZmluZW1lbnRzKGZhY2V0TmFtZSk7XG5cbiAgT2JqZWN0LmtleXMobnVtZXJpY1JlZmluZW1lbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChvcGVyYXRvcikge1xuICAgIHZhciB2YWx1ZSA9IG51bWVyaWNSZWZpbmVtZW50c1tvcGVyYXRvcl07XG5cbiAgICByZWZpbmVtZW50cy5wdXNoKHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIG9wZXJhdG9yOiBvcGVyYXRvcixcbiAgICAgIHR5cGU6ICdudW1lcmljJyxcbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHJlZmluZW1lbnRzO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGN1cnJlbnQgcmVmaW5lbWVudCBmb3IgdGhlIChhdHRyaWJ1dGUsIG9wZXJhdG9yKVxuICogQHBhcmFtIHtzdHJpbmd9IGF0dHJpYnV0ZSBhdHRyaWJ1dGUgaW4gdGhlIHJlY29yZFxuICogQHBhcmFtIHtzdHJpbmd9IG9wZXJhdG9yIG9wZXJhdG9yIGFwcGxpZWQgb24gdGhlIHJlZmluZWQgdmFsdWVzXG4gKiBAcmV0dXJuIHtBcnJheS48bnVtYmVyfG51bWJlcltdPn0gcmVmaW5lZCB2YWx1ZXNcbiAqL1xuQWxnb2xpYVNlYXJjaEhlbHBlci5wcm90b3R5cGUuZ2V0TnVtZXJpY1JlZmluZW1lbnQgPSBmdW5jdGlvbiAoXG4gIGF0dHJpYnV0ZSxcbiAgb3BlcmF0b3Jcbikge1xuICByZXR1cm4gdGhpcy5zdGF0ZS5nZXROdW1lcmljUmVmaW5lbWVudChhdHRyaWJ1dGUsIG9wZXJhdG9yKTtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBjdXJyZW50IGJyZWFkY3J1bWIgZm9yIGEgaGllcmFyY2hpY2FsIGZhY2V0LCBhcyBhbiBhcnJheVxuICogQHBhcmFtICB7c3RyaW5nfSBmYWNldE5hbWUgSGllcmFyY2hpY2FsIGZhY2V0IG5hbWVcbiAqIEByZXR1cm4ge2FycmF5LjxzdHJpbmc+fSB0aGUgcGF0aCBhcyBhbiBhcnJheSBvZiBzdHJpbmdcbiAqL1xuQWxnb2xpYVNlYXJjaEhlbHBlci5wcm90b3R5cGUuZ2V0SGllcmFyY2hpY2FsRmFjZXRCcmVhZGNydW1iID0gZnVuY3Rpb24gKFxuICBmYWNldE5hbWVcbikge1xuICByZXR1cm4gdGhpcy5zdGF0ZS5nZXRIaWVyYXJjaGljYWxGYWNldEJyZWFkY3J1bWIoZmFjZXROYW1lKTtcbn07XG5cbi8vIC8vLy8vLy8vLy8vIFBSSVZBVEVcblxuLyoqXG4gKiBQZXJmb3JtIHRoZSB1bmRlcmx5aW5nIHF1ZXJpZXNcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBvcHRpb25zIGZvciB0aGUgcXVlcnlcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMub25seVdpdGhEZXJpdmVkSGVscGVycz1mYWxzZV0gaWYgdHJ1ZSwgb25seSB0aGUgZGVyaXZlZCBoZWxwZXJzIHdpbGwgYmUgcXVlcmllZFxuICogQHJldHVybiB7dW5kZWZpbmVkfSBkb2VzIG5vdCByZXR1cm4gYW55dGhpbmdcbiAqIEBmaXJlcyBzZWFyY2hcbiAqIEBmaXJlcyByZXN1bHRcbiAqIEBmaXJlcyBlcnJvclxuICovXG5BbGdvbGlhU2VhcmNoSGVscGVyLnByb3RvdHlwZS5fc2VhcmNoID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgdmFyIHN0YXRlcyA9IFtdO1xuICB2YXIgbWFpblF1ZXJpZXMgPSBbXTtcblxuICBpZiAoIW9wdGlvbnMub25seVdpdGhEZXJpdmVkSGVscGVycykge1xuICAgIG1haW5RdWVyaWVzID0gcmVxdWVzdEJ1aWxkZXIuX2dldFF1ZXJpZXMoc3RhdGUuaW5kZXgsIHN0YXRlKTtcblxuICAgIHN0YXRlcy5wdXNoKHtcbiAgICAgIHN0YXRlOiBzdGF0ZSxcbiAgICAgIHF1ZXJpZXNDb3VudDogbWFpblF1ZXJpZXMubGVuZ3RoLFxuICAgICAgaGVscGVyOiB0aGlzLFxuICAgIH0pO1xuXG4gICAgdGhpcy5lbWl0KCdzZWFyY2gnLCB7XG4gICAgICBzdGF0ZTogc3RhdGUsXG4gICAgICByZXN1bHRzOiB0aGlzLmxhc3RSZXN1bHRzLFxuICAgIH0pO1xuICB9XG5cbiAgdmFyIGRlcml2ZWRRdWVyaWVzID0gdGhpcy5kZXJpdmVkSGVscGVycy5tYXAoZnVuY3Rpb24gKGRlcml2ZWRIZWxwZXIpIHtcbiAgICB2YXIgZGVyaXZlZFN0YXRlID0gZGVyaXZlZEhlbHBlci5nZXRNb2RpZmllZFN0YXRlKHN0YXRlKTtcbiAgICB2YXIgZGVyaXZlZFN0YXRlUXVlcmllcyA9IGRlcml2ZWRTdGF0ZS5pbmRleFxuICAgICAgPyByZXF1ZXN0QnVpbGRlci5fZ2V0UXVlcmllcyhkZXJpdmVkU3RhdGUuaW5kZXgsIGRlcml2ZWRTdGF0ZSlcbiAgICAgIDogW107XG5cbiAgICBzdGF0ZXMucHVzaCh7XG4gICAgICBzdGF0ZTogZGVyaXZlZFN0YXRlLFxuICAgICAgcXVlcmllc0NvdW50OiBkZXJpdmVkU3RhdGVRdWVyaWVzLmxlbmd0aCxcbiAgICAgIGhlbHBlcjogZGVyaXZlZEhlbHBlcixcbiAgICB9KTtcblxuICAgIGRlcml2ZWRIZWxwZXIuZW1pdCgnc2VhcmNoJywge1xuICAgICAgc3RhdGU6IGRlcml2ZWRTdGF0ZSxcbiAgICAgIHJlc3VsdHM6IGRlcml2ZWRIZWxwZXIubGFzdFJlc3VsdHMsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gZGVyaXZlZFN0YXRlUXVlcmllcztcbiAgfSk7XG5cbiAgdmFyIHF1ZXJpZXMgPSBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KG1haW5RdWVyaWVzLCBkZXJpdmVkUXVlcmllcyk7XG5cbiAgdmFyIHF1ZXJ5SWQgPSB0aGlzLl9xdWVyeUlkKys7XG4gIHRoaXMuX2N1cnJlbnROYlF1ZXJpZXMrKztcblxuICBpZiAoIXF1ZXJpZXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7IHJlc3VsdHM6IFtdIH0pLnRoZW4oXG4gICAgICB0aGlzLl9kaXNwYXRjaEFsZ29saWFSZXNwb25zZS5iaW5kKHRoaXMsIHN0YXRlcywgcXVlcnlJZClcbiAgICApO1xuICB9XG5cbiAgdHJ5IHtcbiAgICB0aGlzLmNsaWVudFxuICAgICAgLnNlYXJjaChxdWVyaWVzKVxuICAgICAgLnRoZW4odGhpcy5fZGlzcGF0Y2hBbGdvbGlhUmVzcG9uc2UuYmluZCh0aGlzLCBzdGF0ZXMsIHF1ZXJ5SWQpKVxuICAgICAgLmNhdGNoKHRoaXMuX2Rpc3BhdGNoQWxnb2xpYUVycm9yLmJpbmQodGhpcywgcXVlcnlJZCkpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIC8vIElmIHdlIHJlYWNoIHRoaXMgcGFydCwgd2UncmUgaW4gYW4gaW50ZXJuYWwgZXJyb3Igc3RhdGVcbiAgICB0aGlzLmVtaXQoJ2Vycm9yJywge1xuICAgICAgZXJyb3I6IGVycm9yLFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbi8qKlxuICogVHJhbnNmb3JtIHRoZSByZXNwb25zZXMgYXMgc2VudCBieSB0aGUgc2VydmVyIGFuZCB0cmFuc2Zvcm0gdGhlbSBpbnRvIGEgdXNlclxuICogdXNhYmxlIG9iamVjdCB0aGF0IG1lcmdlIHRoZSByZXN1bHRzIG9mIGFsbCB0aGUgYmF0Y2ggcmVxdWVzdHMuIEl0IHdpbGwgZGlzcGF0Y2hcbiAqIG92ZXIgdGhlIGRpZmZlcmVudCBoZWxwZXIgKyBkZXJpdmVkIGhlbHBlcnMgKHdoZW4gdGhlcmUgYXJlIHNvbWUpLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7YXJyYXkuPHtTZWFyY2hQYXJhbWV0ZXJzLCBBbGdvbGlhUXVlcmllcywgQWxnb2xpYVNlYXJjaEhlbHBlcn0+fSBzdGF0ZXMgc3RhdGUgdXNlZCB0byBnZW5lcmF0ZSB0aGUgcmVxdWVzdFxuICogQHBhcmFtIHtudW1iZXJ9IHF1ZXJ5SWQgaWQgb2YgdGhlIGN1cnJlbnQgcmVxdWVzdFxuICogQHBhcmFtIHtvYmplY3R9IGNvbnRlbnQgY29udGVudCBvZiB0aGUgcmVzcG9uc2VcbiAqIEByZXR1cm4ge3VuZGVmaW5lZH1cbiAqL1xuQWxnb2xpYVNlYXJjaEhlbHBlci5wcm90b3R5cGUuX2Rpc3BhdGNoQWxnb2xpYVJlc3BvbnNlID0gZnVuY3Rpb24gKFxuICBzdGF0ZXMsXG4gIHF1ZXJ5SWQsXG4gIGNvbnRlbnRcbikge1xuICAvLyBAVE9ETyByZW1vdmUgdGhlIG51bWJlciBvZiBvdXRkYXRlZCBxdWVyaWVzIGRpc2NhcmRlZCBpbnN0ZWFkIG9mIGp1c3Qgb25lXG5cbiAgaWYgKHF1ZXJ5SWQgPCB0aGlzLl9sYXN0UXVlcnlJZFJlY2VpdmVkKSB7XG4gICAgLy8gT3V0ZGF0ZWQgYW5zd2VyXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5fY3VycmVudE5iUXVlcmllcyAtPSBxdWVyeUlkIC0gdGhpcy5fbGFzdFF1ZXJ5SWRSZWNlaXZlZDtcbiAgdGhpcy5fbGFzdFF1ZXJ5SWRSZWNlaXZlZCA9IHF1ZXJ5SWQ7XG5cbiAgaWYgKHRoaXMuX2N1cnJlbnROYlF1ZXJpZXMgPT09IDApIHRoaXMuZW1pdCgnc2VhcmNoUXVldWVFbXB0eScpO1xuXG4gIHZhciByZXN1bHRzID0gY29udGVudC5yZXN1bHRzLnNsaWNlKCk7XG5cbiAgc3RhdGVzLmZvckVhY2goZnVuY3Rpb24gKHMpIHtcbiAgICB2YXIgc3RhdGUgPSBzLnN0YXRlO1xuICAgIHZhciBxdWVyaWVzQ291bnQgPSBzLnF1ZXJpZXNDb3VudDtcbiAgICB2YXIgaGVscGVyID0gcy5oZWxwZXI7XG4gICAgdmFyIHNwZWNpZmljUmVzdWx0cyA9IHJlc3VsdHMuc3BsaWNlKDAsIHF1ZXJpZXNDb3VudCk7XG5cbiAgICBpZiAoIXN0YXRlLmluZGV4KSB7XG4gICAgICBoZWxwZXIuZW1pdCgncmVzdWx0Jywge1xuICAgICAgICByZXN1bHRzOiBudWxsLFxuICAgICAgICBzdGF0ZTogc3RhdGUsXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBoZWxwZXIubGFzdFJlc3VsdHMgPSBuZXcgU2VhcmNoUmVzdWx0cyhzdGF0ZSwgc3BlY2lmaWNSZXN1bHRzKTtcblxuICAgIGhlbHBlci5lbWl0KCdyZXN1bHQnLCB7XG4gICAgICByZXN1bHRzOiBoZWxwZXIubGFzdFJlc3VsdHMsXG4gICAgICBzdGF0ZTogc3RhdGUsXG4gICAgfSk7XG4gIH0pO1xufTtcblxuQWxnb2xpYVNlYXJjaEhlbHBlci5wcm90b3R5cGUuX2Rpc3BhdGNoQWxnb2xpYUVycm9yID0gZnVuY3Rpb24gKFxuICBxdWVyeUlkLFxuICBlcnJvclxuKSB7XG4gIGlmIChxdWVyeUlkIDwgdGhpcy5fbGFzdFF1ZXJ5SWRSZWNlaXZlZCkge1xuICAgIC8vIE91dGRhdGVkIGFuc3dlclxuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuX2N1cnJlbnROYlF1ZXJpZXMgLT0gcXVlcnlJZCAtIHRoaXMuX2xhc3RRdWVyeUlkUmVjZWl2ZWQ7XG4gIHRoaXMuX2xhc3RRdWVyeUlkUmVjZWl2ZWQgPSBxdWVyeUlkO1xuXG4gIHRoaXMuZW1pdCgnZXJyb3InLCB7XG4gICAgZXJyb3I6IGVycm9yLFxuICB9KTtcblxuICBpZiAodGhpcy5fY3VycmVudE5iUXVlcmllcyA9PT0gMCkgdGhpcy5lbWl0KCdzZWFyY2hRdWV1ZUVtcHR5Jyk7XG59O1xuXG5BbGdvbGlhU2VhcmNoSGVscGVyLnByb3RvdHlwZS5jb250YWluc1JlZmluZW1lbnQgPSBmdW5jdGlvbiAoXG4gIHF1ZXJ5LFxuICBmYWNldEZpbHRlcnMsXG4gIG51bWVyaWNGaWx0ZXJzLFxuICB0YWdGaWx0ZXJzXG4pIHtcbiAgcmV0dXJuIChcbiAgICBxdWVyeSB8fFxuICAgIGZhY2V0RmlsdGVycy5sZW5ndGggIT09IDAgfHxcbiAgICBudW1lcmljRmlsdGVycy5sZW5ndGggIT09IDAgfHxcbiAgICB0YWdGaWx0ZXJzLmxlbmd0aCAhPT0gMFxuICApO1xufTtcblxuLyoqXG4gKiBUZXN0IGlmIHRoZXJlIGFyZSBzb21lIGRpc2p1bmN0aXZlIHJlZmluZW1lbnRzIG9uIHRoZSBmYWNldFxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBmYWNldCB0aGUgYXR0cmlidXRlIHRvIHRlc3RcbiAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgdGhlcmUgYXJlIHJlZmluZW1lbnRzIG9uIHRoaXMgYXR0cmlidXRlXG4gKi9cbkFsZ29saWFTZWFyY2hIZWxwZXIucHJvdG90eXBlLl9oYXNEaXNqdW5jdGl2ZVJlZmluZW1lbnRzID0gZnVuY3Rpb24gKGZhY2V0KSB7XG4gIHJldHVybiAoXG4gICAgdGhpcy5zdGF0ZS5kaXNqdW5jdGl2ZVJlZmluZW1lbnRzW2ZhY2V0XSAmJlxuICAgIHRoaXMuc3RhdGUuZGlzanVuY3RpdmVSZWZpbmVtZW50c1tmYWNldF0ubGVuZ3RoID4gMFxuICApO1xufTtcblxuQWxnb2xpYVNlYXJjaEhlbHBlci5wcm90b3R5cGUuX2NoYW5nZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICB2YXIgc3RhdGUgPSBldmVudC5zdGF0ZTtcbiAgdmFyIGlzUGFnZVJlc2V0ID0gZXZlbnQuaXNQYWdlUmVzZXQ7XG5cbiAgaWYgKHN0YXRlICE9PSB0aGlzLnN0YXRlKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuXG4gICAgdGhpcy5lbWl0KCdjaGFuZ2UnLCB7XG4gICAgICBzdGF0ZTogdGhpcy5zdGF0ZSxcbiAgICAgIHJlc3VsdHM6IHRoaXMubGFzdFJlc3VsdHMsXG4gICAgICBpc1BhZ2VSZXNldDogaXNQYWdlUmVzZXQsXG4gICAgfSk7XG4gIH1cbn07XG5cbi8qKlxuICogQ2xlYXJzIHRoZSBjYWNoZSBvZiB0aGUgdW5kZXJseWluZyBBbGdvbGlhIGNsaWVudC5cbiAqIEByZXR1cm4ge0FsZ29saWFTZWFyY2hIZWxwZXJ9IE1ldGhvZCBpcyBjaGFpbmFibGUsIGl0IHJldHVybnMgaXRzZWxmXG4gKi9cbkFsZ29saWFTZWFyY2hIZWxwZXIucHJvdG90eXBlLmNsZWFyQ2FjaGUgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmNsaWVudC5jbGVhckNhY2hlKSB0aGlzLmNsaWVudC5jbGVhckNhY2hlKCk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBVcGRhdGVzIHRoZSBpbnRlcm5hbCBjbGllbnQgaW5zdGFuY2UuIElmIHRoZSByZWZlcmVuY2Ugb2YgdGhlIGNsaWVudHNcbiAqIGFyZSBlcXVhbCB0aGVuIG5vIHVwZGF0ZSBpcyBhY3R1YWxseSBkb25lLlxuICogQHBhcmFtICB7QWxnb2xpYVNlYXJjaH0gbmV3Q2xpZW50IGFuIEFsZ29saWFTZWFyY2ggY2xpZW50XG4gKiBAcmV0dXJuIHtBbGdvbGlhU2VhcmNoSGVscGVyfSBNZXRob2QgaXMgY2hhaW5hYmxlLCBpdCByZXR1cm5zIGl0c2VsZlxuICovXG5BbGdvbGlhU2VhcmNoSGVscGVyLnByb3RvdHlwZS5zZXRDbGllbnQgPSBmdW5jdGlvbiAobmV3Q2xpZW50KSB7XG4gIGlmICh0aGlzLmNsaWVudCA9PT0gbmV3Q2xpZW50KSByZXR1cm4gdGhpcztcblxuICBpZiAodHlwZW9mIG5ld0NsaWVudC5hZGRBbGdvbGlhQWdlbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBuZXdDbGllbnQuYWRkQWxnb2xpYUFnZW50KCdKUyBIZWxwZXIgKCcgKyB2ZXJzaW9uICsgJyknKTtcbiAgfVxuICB0aGlzLmNsaWVudCA9IG5ld0NsaWVudDtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogR2V0cyB0aGUgaW5zdGFuY2Ugb2YgdGhlIGN1cnJlbnRseSB1c2VkIGNsaWVudC5cbiAqIEByZXR1cm4ge0FsZ29saWFTZWFyY2h9IHRoZSBjdXJyZW50bHkgdXNlZCBjbGllbnRcbiAqL1xuQWxnb2xpYVNlYXJjaEhlbHBlci5wcm90b3R5cGUuZ2V0Q2xpZW50ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5jbGllbnQ7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gZGVyaXZlZCBpbnN0YW5jZSBvZiB0aGUgSGVscGVyLiBBIGRlcml2ZWQgaGVscGVyXG4gKiBpcyBhIHdheSB0byByZXF1ZXN0IG90aGVyIGluZGljZXMgc3luY2hyb25pc2VkIHdpdGggdGhlIGxpZmVjeWNsZVxuICogb2YgdGhlIG1haW4gSGVscGVyLiBUaGlzIG1lY2hhbmlzbSB1c2VzIHRoZSBtdWx0aXF1ZXJpZXMgZmVhdHVyZVxuICogb2YgQWxnb2xpYSB0byBhZ2dyZWdhdGUgYWxsIHRoZSByZXF1ZXN0cyBpbiBhIHNpbmdsZSBuZXR3b3JrIGNhbGwuXG4gKlxuICogVGhpcyBtZXRob2QgdGFrZXMgYSBmdW5jdGlvbiB0aGF0IGlzIHVzZWQgdG8gY3JlYXRlIGEgbmV3IFNlYXJjaFBhcmFtZXRlclxuICogdGhhdCB3aWxsIGJlIHVzZWQgdG8gY3JlYXRlIHJlcXVlc3RzIHRvIEFsZ29saWEuIFRob3NlIG5ldyByZXF1ZXN0c1xuICogYXJlIGNyZWF0ZWQganVzdCBiZWZvcmUgdGhlIGBzZWFyY2hgIGV2ZW50LiBUaGUgc2lnbmF0dXJlIG9mIHRoZSBmdW5jdGlvblxuICogaXMgYFNlYXJjaFBhcmFtZXRlcnMgLT4gU2VhcmNoUGFyYW1ldGVyc2AuXG4gKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBEZXJpdmVkSGVscGVyIHdoaWNoIGlzIGFuIEV2ZW50RW1pdHRlclxuICogdGhhdCBmaXJlcyB0aGUgc2FtZSBgc2VhcmNoYCwgYHJlc3VsdGAgYW5kIGBlcnJvcmAgZXZlbnRzLiBUaG9zZVxuICogZXZlbnRzLCBob3dldmVyLCB3aWxsIHJlY2VpdmUgZGF0YSBzcGVjaWZpYyB0byB0aGlzIERlcml2ZWRIZWxwZXJcbiAqIGFuZCB0aGUgU2VhcmNoUGFyYW1ldGVycyB0aGF0IGlzIHJldHVybmVkIGJ5IHRoZSBjYWxsIG9mIHRoZVxuICogcGFyYW1ldGVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gU2VhcmNoUGFyYW1ldGVycyAtPiBTZWFyY2hQYXJhbWV0ZXJzXG4gKiBAcmV0dXJuIHtEZXJpdmVkSGVscGVyfSBhIG5ldyBEZXJpdmVkSGVscGVyXG4gKi9cbkFsZ29saWFTZWFyY2hIZWxwZXIucHJvdG90eXBlLmRlcml2ZSA9IGZ1bmN0aW9uIChmbikge1xuICB2YXIgZGVyaXZlZEhlbHBlciA9IG5ldyBEZXJpdmVkSGVscGVyKHRoaXMsIGZuKTtcbiAgdGhpcy5kZXJpdmVkSGVscGVycy5wdXNoKGRlcml2ZWRIZWxwZXIpO1xuICByZXR1cm4gZGVyaXZlZEhlbHBlcjtcbn07XG5cbi8qKlxuICogVGhpcyBtZXRob2QgZGV0YWNoZXMgYSBkZXJpdmVkIEhlbHBlciBmcm9tIHRoZSBtYWluIG9uZS4gUHJlZmVyIHVzaW5nIHRoZSBvbmUgZnJvbSB0aGVcbiAqIGRlcml2ZWQgaGVscGVyIGl0c2VsZiwgdG8gcmVtb3ZlIHRoZSBldmVudCBsaXN0ZW5lcnMgdG9vLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSAge0Rlcml2ZWRIZWxwZXJ9IGRlcml2ZWRIZWxwZXIgdGhlIGRlcml2ZWQgaGVscGVyIHRvIGRldGFjaFxuICogQHJldHVybiB7dW5kZWZpbmVkfSBub3RoaW5nIGlzIHJldHVybmVkXG4gKiBAdGhyb3dzIEVycm9yXG4gKi9cbkFsZ29saWFTZWFyY2hIZWxwZXIucHJvdG90eXBlLmRldGFjaERlcml2ZWRIZWxwZXIgPSBmdW5jdGlvbiAoZGVyaXZlZEhlbHBlcikge1xuICB2YXIgcG9zID0gdGhpcy5kZXJpdmVkSGVscGVycy5pbmRleE9mKGRlcml2ZWRIZWxwZXIpO1xuICBpZiAocG9zID09PSAtMSkgdGhyb3cgbmV3IEVycm9yKCdEZXJpdmVkIGhlbHBlciBhbHJlYWR5IGRldGFjaGVkJyk7XG4gIHRoaXMuZGVyaXZlZEhlbHBlcnMuc3BsaWNlKHBvcywgMSk7XG59O1xuXG4vKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgdHJ1ZSBpZiB0aGVyZSBpcyBjdXJyZW50bHkgYXQgbGVhc3Qgb25lIG9uLWdvaW5nIHNlYXJjaC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgdGhlcmUgaXMgYSBzZWFyY2ggcGVuZGluZ1xuICovXG5BbGdvbGlhU2VhcmNoSGVscGVyLnByb3RvdHlwZS5oYXNQZW5kaW5nUmVxdWVzdHMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLl9jdXJyZW50TmJRdWVyaWVzID4gMDtcbn07XG5cbi8qKlxuICogQHR5cGVkZWYgQWxnb2xpYVNlYXJjaEhlbHBlci5OdW1lcmljUmVmaW5lbWVudFxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyW119IHZhbHVlIHRoZSBudW1iZXJzIHRoYXQgYXJlIHVzZWQgZm9yIGZpbHRlcmluZyB0aGlzIGF0dHJpYnV0ZSB3aXRoXG4gKiB0aGUgb3BlcmF0b3Igc3BlY2lmaWVkLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IG9wZXJhdG9yIHRoZSBmYWNldGluZyBkYXRhOiB2YWx1ZSwgbnVtYmVyIG9mIGVudHJpZXNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0eXBlIHdpbGwgYmUgJ251bWVyaWMnXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiBBbGdvbGlhU2VhcmNoSGVscGVyLkZhY2V0UmVmaW5lbWVudFxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB2YWx1ZSB0aGUgc3RyaW5nIHVzZSB0byBmaWx0ZXIgdGhlIGF0dHJpYnV0ZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IHR5cGUgdGhlIHR5cGUgb2YgZmlsdGVyOiAnY29uanVuY3RpdmUnLCAnZGlzanVuY3RpdmUnLCAnZXhjbHVkZSdcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFsZ29saWFTZWFyY2hIZWxwZXI7XG4iXSwibmFtZXMiOlsiRXZlbnRFbWl0dGVyIiwicmVxdWlyZSIsIkRlcml2ZWRIZWxwZXIiLCJlc2NhcGVGYWNldFZhbHVlIiwiaW5oZXJpdHMiLCJtZXJnZSIsIm9iamVjdEhhc0tleXMiLCJvbWl0IiwicmVxdWVzdEJ1aWxkZXIiLCJTZWFyY2hQYXJhbWV0ZXJzIiwiU2VhcmNoUmVzdWx0cyIsInZlcnNpb24iLCJBbGdvbGlhU2VhcmNoSGVscGVyIiwiY2xpZW50IiwiaW5kZXgiLCJvcHRpb25zIiwiYWRkQWxnb2xpYUFnZW50Iiwic2V0Q2xpZW50Iiwib3B0cyIsInN0YXRlIiwibWFrZSIsImxhc3RSZXN1bHRzIiwiX3F1ZXJ5SWQiLCJfbGFzdFF1ZXJ5SWRSZWNlaXZlZCIsImRlcml2ZWRIZWxwZXJzIiwiX2N1cnJlbnROYlF1ZXJpZXMiLCJwcm90b3R5cGUiLCJzZWFyY2giLCJfc2VhcmNoIiwib25seVdpdGhEZXJpdmVkSGVscGVycyIsInNlYXJjaE9ubHlXaXRoRGVyaXZlZEhlbHBlcnMiLCJnZXRRdWVyeSIsIl9nZXRIaXRzU2VhcmNoUGFyYW1zIiwic2VhcmNoT25jZSIsImNiIiwidGVtcFN0YXRlIiwic2V0UXVlcnlQYXJhbWV0ZXJzIiwicXVlcmllcyIsIl9nZXRRdWVyaWVzIiwic2VsZiIsImVtaXQiLCJ0aGVuIiwiY29udGVudCIsInJlc3VsdHMiLCJjYXRjaCIsImVyciIsInVuZGVmaW5lZCIsIl9vcmlnaW5hbFJlc3BvbnNlIiwiZSIsImZpbmRBbnN3ZXJzIiwiY29uc29sZSIsIndhcm4iLCJkZXJpdmVkSGVscGVyIiwiUHJvbWlzZSIsInJlc29sdmUiLCJkZXJpdmVkU3RhdGUiLCJnZXRNb2RpZmllZFN0YXRlIiwiZGF0YSIsImF0dHJpYnV0ZXNGb3JQcmVkaWN0aW9uIiwibmJIaXRzIiwicGFyYW1zIiwiZXJyb3JNZXNzYWdlIiwiaW5pdEluZGV4IiwiRXJyb3IiLCJxdWVyeSIsInF1ZXJ5TGFuZ3VhZ2VzIiwic2VhcmNoRm9yRmFjZXRWYWx1ZXMiLCJmYWNldCIsIm1heEZhY2V0SGl0cyIsInVzZXJTdGF0ZSIsImNsaWVudEhhc1NGRlYiLCJjbGllbnRIYXNJbml0SW5kZXgiLCJpc0Rpc2p1bmN0aXZlIiwiaXNEaXNqdW5jdGl2ZUZhY2V0IiwiYWxnb2xpYVF1ZXJ5IiwiZ2V0U2VhcmNoRm9yRmFjZXRRdWVyeSIsInNlYXJjaEZvckZhY2V0VmFsdWVzUHJvbWlzZSIsImluZGV4TmFtZSIsImZhY2V0TmFtZSIsInR5cGUiLCJwcm9jZXNzUmVzcG9uc2UiLCJyZXNwb25zZSIsImFkZElzUmVmaW5lZCIsIkFycmF5IiwiaXNBcnJheSIsImZhY2V0SGl0cyIsImZvckVhY2giLCJmIiwiZXNjYXBlZFZhbHVlIiwidmFsdWUiLCJpc1JlZmluZWQiLCJpc0Rpc2p1bmN0aXZlRmFjZXRSZWZpbmVkIiwiaXNGYWNldFJlZmluZWQiLCJzZXRRdWVyeSIsInEiLCJfY2hhbmdlIiwicmVzZXRQYWdlIiwiaXNQYWdlUmVzZXQiLCJjbGVhclJlZmluZW1lbnRzIiwibmFtZSIsImNsZWFyVGFncyIsImFkZERpc2p1bmN0aXZlRmFjZXRSZWZpbmVtZW50IiwiYWRkRGlzanVuY3RpdmVSZWZpbmUiLCJhcHBseSIsImFyZ3VtZW50cyIsImFkZEhpZXJhcmNoaWNhbEZhY2V0UmVmaW5lbWVudCIsInBhdGgiLCJhZGROdW1lcmljUmVmaW5lbWVudCIsImF0dHJpYnV0ZSIsIm9wZXJhdG9yIiwiYWRkRmFjZXRSZWZpbmVtZW50IiwiYWRkUmVmaW5lIiwiYWRkRmFjZXRFeGNsdXNpb24iLCJhZGRFeGNsdWRlUmVmaW5lbWVudCIsImFkZEV4Y2x1ZGUiLCJhZGRUYWciLCJ0YWciLCJhZGRUYWdSZWZpbmVtZW50IiwicmVtb3ZlTnVtZXJpY1JlZmluZW1lbnQiLCJyZW1vdmVEaXNqdW5jdGl2ZUZhY2V0UmVmaW5lbWVudCIsInJlbW92ZURpc2p1bmN0aXZlUmVmaW5lIiwicmVtb3ZlSGllcmFyY2hpY2FsRmFjZXRSZWZpbmVtZW50IiwicmVtb3ZlRmFjZXRSZWZpbmVtZW50IiwicmVtb3ZlUmVmaW5lIiwicmVtb3ZlRmFjZXRFeGNsdXNpb24iLCJyZW1vdmVFeGNsdWRlUmVmaW5lbWVudCIsInJlbW92ZUV4Y2x1ZGUiLCJyZW1vdmVUYWciLCJyZW1vdmVUYWdSZWZpbmVtZW50IiwidG9nZ2xlRmFjZXRFeGNsdXNpb24iLCJ0b2dnbGVFeGNsdWRlRmFjZXRSZWZpbmVtZW50IiwidG9nZ2xlRXhjbHVkZSIsInRvZ2dsZVJlZmluZW1lbnQiLCJ0b2dnbGVGYWNldFJlZmluZW1lbnQiLCJ0b2dnbGVSZWZpbmUiLCJ0b2dnbGVUYWciLCJ0b2dnbGVUYWdSZWZpbmVtZW50IiwibmV4dFBhZ2UiLCJwYWdlIiwic2V0UGFnZSIsInByZXZpb3VzUGFnZSIsInNldEN1cnJlbnRQYWdlIiwic2V0SW5kZXgiLCJzZXRRdWVyeVBhcmFtZXRlciIsInBhcmFtZXRlciIsInNldFN0YXRlIiwibmV3U3RhdGUiLCJvdmVycmlkZVN0YXRlV2l0aG91dFRyaWdnZXJpbmdDaGFuZ2VFdmVudCIsImhhc1JlZmluZW1lbnRzIiwiZ2V0TnVtZXJpY1JlZmluZW1lbnRzIiwiaXNDb25qdW5jdGl2ZUZhY2V0IiwiaXNIaWVyYXJjaGljYWxGYWNldCIsImlzSGllcmFyY2hpY2FsRmFjZXRSZWZpbmVkIiwiaXNFeGNsdWRlZCIsImlzRXhjbHVkZVJlZmluZWQiLCJpc0Rpc2p1bmN0aXZlUmVmaW5lZCIsImhhc1RhZyIsImlzVGFnUmVmaW5lZCIsImhhc1RhZ1JlZmluZW1lbnRzIiwiZ2V0SW5kZXgiLCJnZXRDdXJyZW50UGFnZSIsImdldFBhZ2UiLCJnZXRUYWdzIiwidGFnUmVmaW5lbWVudHMiLCJnZXRSZWZpbmVtZW50cyIsInJlZmluZW1lbnRzIiwiY29ualJlZmluZW1lbnRzIiwiZ2V0Q29uanVuY3RpdmVSZWZpbmVtZW50cyIsInIiLCJwdXNoIiwiZXhjbHVkZVJlZmluZW1lbnRzIiwiZ2V0RXhjbHVkZVJlZmluZW1lbnRzIiwiZGlzanVuY3RpdmVSZWZpbmVtZW50cyIsImdldERpc2p1bmN0aXZlUmVmaW5lbWVudHMiLCJudW1lcmljUmVmaW5lbWVudHMiLCJPYmplY3QiLCJrZXlzIiwiZ2V0TnVtZXJpY1JlZmluZW1lbnQiLCJnZXRIaWVyYXJjaGljYWxGYWNldEJyZWFkY3J1bWIiLCJzdGF0ZXMiLCJtYWluUXVlcmllcyIsInF1ZXJpZXNDb3VudCIsImxlbmd0aCIsImhlbHBlciIsImRlcml2ZWRRdWVyaWVzIiwibWFwIiwiZGVyaXZlZFN0YXRlUXVlcmllcyIsImNvbmNhdCIsInF1ZXJ5SWQiLCJfZGlzcGF0Y2hBbGdvbGlhUmVzcG9uc2UiLCJiaW5kIiwiX2Rpc3BhdGNoQWxnb2xpYUVycm9yIiwiZXJyb3IiLCJzbGljZSIsInMiLCJzcGVjaWZpY1Jlc3VsdHMiLCJzcGxpY2UiLCJjb250YWluc1JlZmluZW1lbnQiLCJmYWNldEZpbHRlcnMiLCJudW1lcmljRmlsdGVycyIsInRhZ0ZpbHRlcnMiLCJfaGFzRGlzanVuY3RpdmVSZWZpbmVtZW50cyIsImV2ZW50IiwiY2xlYXJDYWNoZSIsIm5ld0NsaWVudCIsImdldENsaWVudCIsImRlcml2ZSIsImZuIiwiZGV0YWNoRGVyaXZlZEhlbHBlciIsInBvcyIsImluZGV4T2YiLCJoYXNQZW5kaW5nUmVxdWVzdHMiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/algoliasearch.helper.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/compact.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/compact.js ***!
  \***********************************************************************************************************/
/***/ ((module) => {

eval("\nmodule.exports = function compact(array) {\n    if (!Array.isArray(array)) {\n        return [];\n    }\n    return array.filter(Boolean);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9ub2RlX21vZHVsZXMvYWxnb2xpYXNlYXJjaC1oZWxwZXIvc3JjL2Z1bmN0aW9ucy9jb21wYWN0LmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBRUFBLE9BQU9DLE9BQU8sR0FBRyxTQUFTQyxRQUFRQyxLQUFLO0lBQ3JDLElBQUksQ0FBQ0MsTUFBTUMsT0FBTyxDQUFDRixRQUFRO1FBQ3pCLE9BQU8sRUFBRTtJQUNYO0lBRUEsT0FBT0EsTUFBTUcsTUFBTSxDQUFDQztBQUN0QiIsInNvdXJjZXMiOlsid2VicGFjazovL21lZHVzYS1uZXh0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LWluc3RhbnRzZWFyY2gtaG9va3Mvbm9kZV9tb2R1bGVzL2FsZ29saWFzZWFyY2gtaGVscGVyL3NyYy9mdW5jdGlvbnMvY29tcGFjdC5qcz9jM2I4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjb21wYWN0KGFycmF5KSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShhcnJheSkpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICByZXR1cm4gYXJyYXkuZmlsdGVyKEJvb2xlYW4pO1xufTtcbiJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiY29tcGFjdCIsImFycmF5IiwiQXJyYXkiLCJpc0FycmF5IiwiZmlsdGVyIiwiQm9vbGVhbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/compact.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/defaultsPure.js":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/defaultsPure.js ***!
  \****************************************************************************************************************/
/***/ ((module) => {

eval("\n// NOTE: this behaves like lodash/defaults, but doesn't mutate the target\n// it also preserve keys order\nmodule.exports = function defaultsPure() {\n    var sources = Array.prototype.slice.call(arguments);\n    return sources.reduceRight(function(acc, source) {\n        Object.keys(Object(source)).forEach(function(key) {\n            if (source[key] === undefined) {\n                return;\n            }\n            if (acc[key] !== undefined) {\n                // remove if already added, so that we can add it in correct order\n                delete acc[key];\n            }\n            acc[key] = source[key];\n        });\n        return acc;\n    }, {});\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9ub2RlX21vZHVsZXMvYWxnb2xpYXNlYXJjaC1oZWxwZXIvc3JjL2Z1bmN0aW9ucy9kZWZhdWx0c1B1cmUuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFFQSx5RUFBeUU7QUFDekUsOEJBQThCO0FBQzlCQSxPQUFPQyxPQUFPLEdBQUcsU0FBU0M7SUFDeEIsSUFBSUMsVUFBVUMsTUFBTUMsU0FBUyxDQUFDQyxLQUFLLENBQUNDLElBQUksQ0FBQ0M7SUFFekMsT0FBT0wsUUFBUU0sV0FBVyxDQUFDLFNBQVVDLEdBQUcsRUFBRUMsTUFBTTtRQUM5Q0MsT0FBT0MsSUFBSSxDQUFDRCxPQUFPRCxTQUFTRyxPQUFPLENBQUMsU0FBVUMsR0FBRztZQUMvQyxJQUFJSixNQUFNLENBQUNJLElBQUksS0FBS0MsV0FBVztnQkFDN0I7WUFDRjtZQUNBLElBQUlOLEdBQUcsQ0FBQ0ssSUFBSSxLQUFLQyxXQUFXO2dCQUMxQixrRUFBa0U7Z0JBQ2xFLE9BQU9OLEdBQUcsQ0FBQ0ssSUFBSTtZQUNqQjtZQUNBTCxHQUFHLENBQUNLLElBQUksR0FBR0osTUFBTSxDQUFDSSxJQUFJO1FBQ3hCO1FBQ0EsT0FBT0w7SUFDVCxHQUFHLENBQUM7QUFDTiIsInNvdXJjZXMiOlsid2VicGFjazovL21lZHVzYS1uZXh0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LWluc3RhbnRzZWFyY2gtaG9va3Mvbm9kZV9tb2R1bGVzL2FsZ29saWFzZWFyY2gtaGVscGVyL3NyYy9mdW5jdGlvbnMvZGVmYXVsdHNQdXJlLmpzPzAxNjciXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG4vLyBOT1RFOiB0aGlzIGJlaGF2ZXMgbGlrZSBsb2Rhc2gvZGVmYXVsdHMsIGJ1dCBkb2Vzbid0IG11dGF0ZSB0aGUgdGFyZ2V0XG4vLyBpdCBhbHNvIHByZXNlcnZlIGtleXMgb3JkZXJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGVmYXVsdHNQdXJlKCkge1xuICB2YXIgc291cmNlcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG5cbiAgcmV0dXJuIHNvdXJjZXMucmVkdWNlUmlnaHQoZnVuY3Rpb24gKGFjYywgc291cmNlKSB7XG4gICAgT2JqZWN0LmtleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgaWYgKHNvdXJjZVtrZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGFjY1trZXldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gcmVtb3ZlIGlmIGFscmVhZHkgYWRkZWQsIHNvIHRoYXQgd2UgY2FuIGFkZCBpdCBpbiBjb3JyZWN0IG9yZGVyXG4gICAgICAgIGRlbGV0ZSBhY2Nba2V5XTtcbiAgICAgIH1cbiAgICAgIGFjY1trZXldID0gc291cmNlW2tleV07XG4gICAgfSk7XG4gICAgcmV0dXJuIGFjYztcbiAgfSwge30pO1xufTtcbiJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiZGVmYXVsdHNQdXJlIiwic291cmNlcyIsIkFycmF5IiwicHJvdG90eXBlIiwic2xpY2UiLCJjYWxsIiwiYXJndW1lbnRzIiwicmVkdWNlUmlnaHQiLCJhY2MiLCJzb3VyY2UiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsInVuZGVmaW5lZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/defaultsPure.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/escapeFacetValue.js":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/escapeFacetValue.js ***!
  \********************************************************************************************************************/
/***/ ((module) => {

eval("\n/**\n * Replaces a leading - with \\-\n * @private\n * @param {any} value the facet value to replace\n * @returns {any} the escaped facet value or the value if it was not a string\n */ function escapeFacetValue(value) {\n    if (typeof value !== \"string\") return value;\n    return String(value).replace(/^-/, \"\\\\-\");\n}\n/**\n * Replaces a leading \\- with -\n * @private\n * @param {any} value the escaped facet value\n * @returns {any} the unescaped facet value or the value if it was not a string\n */ function unescapeFacetValue(value) {\n    if (typeof value !== \"string\") return value;\n    return value.replace(/^\\\\-/, \"-\");\n}\nmodule.exports = {\n    escapeFacetValue: escapeFacetValue,\n    unescapeFacetValue: unescapeFacetValue\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9ub2RlX21vZHVsZXMvYWxnb2xpYXNlYXJjaC1oZWxwZXIvc3JjL2Z1bmN0aW9ucy9lc2NhcGVGYWNldFZhbHVlLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBRUE7Ozs7O0NBS0MsR0FDRCxTQUFTQSxpQkFBaUJDLEtBQUs7SUFDN0IsSUFBSSxPQUFPQSxVQUFVLFVBQVUsT0FBT0E7SUFFdEMsT0FBT0MsT0FBT0QsT0FBT0UsT0FBTyxDQUFDLE1BQU07QUFDckM7QUFFQTs7Ozs7Q0FLQyxHQUNELFNBQVNDLG1CQUFtQkgsS0FBSztJQUMvQixJQUFJLE9BQU9BLFVBQVUsVUFBVSxPQUFPQTtJQUV0QyxPQUFPQSxNQUFNRSxPQUFPLENBQUMsUUFBUTtBQUMvQjtBQUVBRSxPQUFPQyxPQUFPLEdBQUc7SUFDZk4sa0JBQWtCQTtJQUNsQkksb0JBQW9CQTtBQUN0QiIsInNvdXJjZXMiOlsid2VicGFjazovL21lZHVzYS1uZXh0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LWluc3RhbnRzZWFyY2gtaG9va3Mvbm9kZV9tb2R1bGVzL2FsZ29saWFzZWFyY2gtaGVscGVyL3NyYy9mdW5jdGlvbnMvZXNjYXBlRmFjZXRWYWx1ZS5qcz81NGEzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBSZXBsYWNlcyBhIGxlYWRpbmcgLSB3aXRoIFxcLVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZSB0aGUgZmFjZXQgdmFsdWUgdG8gcmVwbGFjZVxuICogQHJldHVybnMge2FueX0gdGhlIGVzY2FwZWQgZmFjZXQgdmFsdWUgb3IgdGhlIHZhbHVlIGlmIGl0IHdhcyBub3QgYSBzdHJpbmdcbiAqL1xuZnVuY3Rpb24gZXNjYXBlRmFjZXRWYWx1ZSh2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykgcmV0dXJuIHZhbHVlO1xuXG4gIHJldHVybiBTdHJpbmcodmFsdWUpLnJlcGxhY2UoL14tLywgJ1xcXFwtJyk7XG59XG5cbi8qKlxuICogUmVwbGFjZXMgYSBsZWFkaW5nIFxcLSB3aXRoIC1cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge2FueX0gdmFsdWUgdGhlIGVzY2FwZWQgZmFjZXQgdmFsdWVcbiAqIEByZXR1cm5zIHthbnl9IHRoZSB1bmVzY2FwZWQgZmFjZXQgdmFsdWUgb3IgdGhlIHZhbHVlIGlmIGl0IHdhcyBub3QgYSBzdHJpbmdcbiAqL1xuZnVuY3Rpb24gdW5lc2NhcGVGYWNldFZhbHVlKHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSByZXR1cm4gdmFsdWU7XG5cbiAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoL15cXFxcLS8sICctJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBlc2NhcGVGYWNldFZhbHVlOiBlc2NhcGVGYWNldFZhbHVlLFxuICB1bmVzY2FwZUZhY2V0VmFsdWU6IHVuZXNjYXBlRmFjZXRWYWx1ZSxcbn07XG4iXSwibmFtZXMiOlsiZXNjYXBlRmFjZXRWYWx1ZSIsInZhbHVlIiwiU3RyaW5nIiwicmVwbGFjZSIsInVuZXNjYXBlRmFjZXRWYWx1ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/escapeFacetValue.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/find.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/find.js ***!
  \********************************************************************************************************/
/***/ ((module) => {

eval("\n// @MAJOR can be replaced by native Array#find when we change support\nmodule.exports = function find(array, comparator) {\n    if (!Array.isArray(array)) {\n        return undefined;\n    }\n    for(var i = 0; i < array.length; i++){\n        if (comparator(array[i])) {\n            return array[i];\n        }\n    }\n    return undefined;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9ub2RlX21vZHVsZXMvYWxnb2xpYXNlYXJjaC1oZWxwZXIvc3JjL2Z1bmN0aW9ucy9maW5kLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBRUEscUVBQXFFO0FBQ3JFQSxPQUFPQyxPQUFPLEdBQUcsU0FBU0MsS0FBS0MsS0FBSyxFQUFFQyxVQUFVO0lBQzlDLElBQUksQ0FBQ0MsTUFBTUMsT0FBTyxDQUFDSCxRQUFRO1FBQ3pCLE9BQU9JO0lBQ1Q7SUFFQSxJQUFLLElBQUlDLElBQUksR0FBR0EsSUFBSUwsTUFBTU0sTUFBTSxFQUFFRCxJQUFLO1FBQ3JDLElBQUlKLFdBQVdELEtBQUssQ0FBQ0ssRUFBRSxHQUFHO1lBQ3hCLE9BQU9MLEtBQUssQ0FBQ0ssRUFBRTtRQUNqQjtJQUNGO0lBRUEsT0FBT0Q7QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL21lZHVzYS1uZXh0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LWluc3RhbnRzZWFyY2gtaG9va3Mvbm9kZV9tb2R1bGVzL2FsZ29saWFzZWFyY2gtaGVscGVyL3NyYy9mdW5jdGlvbnMvZmluZC5qcz81MjkxIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLy8gQE1BSk9SIGNhbiBiZSByZXBsYWNlZCBieSBuYXRpdmUgQXJyYXkjZmluZCB3aGVuIHdlIGNoYW5nZSBzdXBwb3J0XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGZpbmQoYXJyYXksIGNvbXBhcmF0b3IpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGFycmF5KSkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGNvbXBhcmF0b3IoYXJyYXlbaV0pKSB7XG4gICAgICByZXR1cm4gYXJyYXlbaV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG4iXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsImZpbmQiLCJhcnJheSIsImNvbXBhcmF0b3IiLCJBcnJheSIsImlzQXJyYXkiLCJ1bmRlZmluZWQiLCJpIiwibGVuZ3RoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/find.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/findIndex.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/findIndex.js ***!
  \*************************************************************************************************************/
/***/ ((module) => {

eval("\n// @MAJOR can be replaced by native Array#findIndex when we change support\nmodule.exports = function find(array, comparator) {\n    if (!Array.isArray(array)) {\n        return -1;\n    }\n    for(var i = 0; i < array.length; i++){\n        if (comparator(array[i])) {\n            return i;\n        }\n    }\n    return -1;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9ub2RlX21vZHVsZXMvYWxnb2xpYXNlYXJjaC1oZWxwZXIvc3JjL2Z1bmN0aW9ucy9maW5kSW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFFQSwwRUFBMEU7QUFDMUVBLE9BQU9DLE9BQU8sR0FBRyxTQUFTQyxLQUFLQyxLQUFLLEVBQUVDLFVBQVU7SUFDOUMsSUFBSSxDQUFDQyxNQUFNQyxPQUFPLENBQUNILFFBQVE7UUFDekIsT0FBTyxDQUFDO0lBQ1Y7SUFFQSxJQUFLLElBQUlJLElBQUksR0FBR0EsSUFBSUosTUFBTUssTUFBTSxFQUFFRCxJQUFLO1FBQ3JDLElBQUlILFdBQVdELEtBQUssQ0FBQ0ksRUFBRSxHQUFHO1lBQ3hCLE9BQU9BO1FBQ1Q7SUFDRjtJQUNBLE9BQU8sQ0FBQztBQUNWIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVkdXNhLW5leHQvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9ub2RlX21vZHVsZXMvYWxnb2xpYXNlYXJjaC1oZWxwZXIvc3JjL2Z1bmN0aW9ucy9maW5kSW5kZXguanM/Yzk2MCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbi8vIEBNQUpPUiBjYW4gYmUgcmVwbGFjZWQgYnkgbmF0aXZlIEFycmF5I2ZpbmRJbmRleCB3aGVuIHdlIGNoYW5nZSBzdXBwb3J0XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGZpbmQoYXJyYXksIGNvbXBhcmF0b3IpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGFycmF5KSkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoY29tcGFyYXRvcihhcnJheVtpXSkpIHtcbiAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59O1xuIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJmaW5kIiwiYXJyYXkiLCJjb21wYXJhdG9yIiwiQXJyYXkiLCJpc0FycmF5IiwiaSIsImxlbmd0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/findIndex.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/formatSort.js":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/formatSort.js ***!
  \**************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nvar find = __webpack_require__(/*! ./find */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/find.js\");\n/**\n * Transform sort format from user friendly notation to lodash format\n * @param {string[]} sortBy array of predicate of the form \"attribute:order\"\n * @param {string[]} [defaults] array of predicate of the form \"attribute:order\"\n * @return {array.<string[]>} array containing 2 elements : attributes, orders\n */ module.exports = function formatSort(sortBy, defaults) {\n    var defaultInstructions = (defaults || []).map(function(sort) {\n        return sort.split(\":\");\n    });\n    return sortBy.reduce(function preparePredicate(out, sort) {\n        var sortInstruction = sort.split(\":\");\n        var matchingDefault = find(defaultInstructions, function(defaultInstruction) {\n            return defaultInstruction[0] === sortInstruction[0];\n        });\n        if (sortInstruction.length > 1 || !matchingDefault) {\n            out[0].push(sortInstruction[0]);\n            out[1].push(sortInstruction[1]);\n            return out;\n        }\n        out[0].push(matchingDefault[0]);\n        out[1].push(matchingDefault[1]);\n        return out;\n    }, [\n        [],\n        []\n    ]);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9ub2RlX21vZHVsZXMvYWxnb2xpYXNlYXJjaC1oZWxwZXIvc3JjL2Z1bmN0aW9ucy9mb3JtYXRTb3J0LmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBRUEsSUFBSUEsT0FBT0MsbUJBQU9BLENBQUM7QUFFbkI7Ozs7O0NBS0MsR0FDREMsT0FBT0MsT0FBTyxHQUFHLFNBQVNDLFdBQVdDLE1BQU0sRUFBRUMsUUFBUTtJQUNuRCxJQUFJQyxzQkFBc0IsQ0FBQ0QsWUFBWSxFQUFFLEVBQUVFLEdBQUcsQ0FBQyxTQUFVQyxJQUFJO1FBQzNELE9BQU9BLEtBQUtDLEtBQUssQ0FBQztJQUNwQjtJQUVBLE9BQU9MLE9BQU9NLE1BQU0sQ0FDbEIsU0FBU0MsaUJBQWlCQyxHQUFHLEVBQUVKLElBQUk7UUFDakMsSUFBSUssa0JBQWtCTCxLQUFLQyxLQUFLLENBQUM7UUFFakMsSUFBSUssa0JBQWtCZixLQUNwQk8scUJBQ0EsU0FBVVMsa0JBQWtCO1lBQzFCLE9BQU9BLGtCQUFrQixDQUFDLEVBQUUsS0FBS0YsZUFBZSxDQUFDLEVBQUU7UUFDckQ7UUFHRixJQUFJQSxnQkFBZ0JHLE1BQU0sR0FBRyxLQUFLLENBQUNGLGlCQUFpQjtZQUNsREYsR0FBRyxDQUFDLEVBQUUsQ0FBQ0ssSUFBSSxDQUFDSixlQUFlLENBQUMsRUFBRTtZQUM5QkQsR0FBRyxDQUFDLEVBQUUsQ0FBQ0ssSUFBSSxDQUFDSixlQUFlLENBQUMsRUFBRTtZQUM5QixPQUFPRDtRQUNUO1FBRUFBLEdBQUcsQ0FBQyxFQUFFLENBQUNLLElBQUksQ0FBQ0gsZUFBZSxDQUFDLEVBQUU7UUFDOUJGLEdBQUcsQ0FBQyxFQUFFLENBQUNLLElBQUksQ0FBQ0gsZUFBZSxDQUFDLEVBQUU7UUFDOUIsT0FBT0Y7SUFDVCxHQUNBO1FBQUMsRUFBRTtRQUFFLEVBQUU7S0FBQztBQUVaIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVkdXNhLW5leHQvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9ub2RlX21vZHVsZXMvYWxnb2xpYXNlYXJjaC1oZWxwZXIvc3JjL2Z1bmN0aW9ucy9mb3JtYXRTb3J0LmpzP2ZlNmQiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZmluZCA9IHJlcXVpcmUoJy4vZmluZCcpO1xuXG4vKipcbiAqIFRyYW5zZm9ybSBzb3J0IGZvcm1hdCBmcm9tIHVzZXIgZnJpZW5kbHkgbm90YXRpb24gdG8gbG9kYXNoIGZvcm1hdFxuICogQHBhcmFtIHtzdHJpbmdbXX0gc29ydEJ5IGFycmF5IG9mIHByZWRpY2F0ZSBvZiB0aGUgZm9ybSBcImF0dHJpYnV0ZTpvcmRlclwiXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBbZGVmYXVsdHNdIGFycmF5IG9mIHByZWRpY2F0ZSBvZiB0aGUgZm9ybSBcImF0dHJpYnV0ZTpvcmRlclwiXG4gKiBAcmV0dXJuIHthcnJheS48c3RyaW5nW10+fSBhcnJheSBjb250YWluaW5nIDIgZWxlbWVudHMgOiBhdHRyaWJ1dGVzLCBvcmRlcnNcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBmb3JtYXRTb3J0KHNvcnRCeSwgZGVmYXVsdHMpIHtcbiAgdmFyIGRlZmF1bHRJbnN0cnVjdGlvbnMgPSAoZGVmYXVsdHMgfHwgW10pLm1hcChmdW5jdGlvbiAoc29ydCkge1xuICAgIHJldHVybiBzb3J0LnNwbGl0KCc6Jyk7XG4gIH0pO1xuXG4gIHJldHVybiBzb3J0QnkucmVkdWNlKFxuICAgIGZ1bmN0aW9uIHByZXBhcmVQcmVkaWNhdGUob3V0LCBzb3J0KSB7XG4gICAgICB2YXIgc29ydEluc3RydWN0aW9uID0gc29ydC5zcGxpdCgnOicpO1xuXG4gICAgICB2YXIgbWF0Y2hpbmdEZWZhdWx0ID0gZmluZChcbiAgICAgICAgZGVmYXVsdEluc3RydWN0aW9ucyxcbiAgICAgICAgZnVuY3Rpb24gKGRlZmF1bHRJbnN0cnVjdGlvbikge1xuICAgICAgICAgIHJldHVybiBkZWZhdWx0SW5zdHJ1Y3Rpb25bMF0gPT09IHNvcnRJbnN0cnVjdGlvblswXTtcbiAgICAgICAgfVxuICAgICAgKTtcblxuICAgICAgaWYgKHNvcnRJbnN0cnVjdGlvbi5sZW5ndGggPiAxIHx8ICFtYXRjaGluZ0RlZmF1bHQpIHtcbiAgICAgICAgb3V0WzBdLnB1c2goc29ydEluc3RydWN0aW9uWzBdKTtcbiAgICAgICAgb3V0WzFdLnB1c2goc29ydEluc3RydWN0aW9uWzFdKTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgIH1cblxuICAgICAgb3V0WzBdLnB1c2gobWF0Y2hpbmdEZWZhdWx0WzBdKTtcbiAgICAgIG91dFsxXS5wdXNoKG1hdGNoaW5nRGVmYXVsdFsxXSk7XG4gICAgICByZXR1cm4gb3V0O1xuICAgIH0sXG4gICAgW1tdLCBbXV1cbiAgKTtcbn07XG4iXSwibmFtZXMiOlsiZmluZCIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwiZm9ybWF0U29ydCIsInNvcnRCeSIsImRlZmF1bHRzIiwiZGVmYXVsdEluc3RydWN0aW9ucyIsIm1hcCIsInNvcnQiLCJzcGxpdCIsInJlZHVjZSIsInByZXBhcmVQcmVkaWNhdGUiLCJvdXQiLCJzb3J0SW5zdHJ1Y3Rpb24iLCJtYXRjaGluZ0RlZmF1bHQiLCJkZWZhdWx0SW5zdHJ1Y3Rpb24iLCJsZW5ndGgiLCJwdXNoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/formatSort.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/inherits.js":
/*!************************************************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/inherits.js ***!
  \************************************************************************************************************/
/***/ ((module) => {

eval("\nfunction inherits(ctor, superCtor) {\n    ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n            value: ctor,\n            enumerable: false,\n            writable: true,\n            configurable: true\n        }\n    });\n}\nmodule.exports = inherits;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9ub2RlX21vZHVsZXMvYWxnb2xpYXNlYXJjaC1oZWxwZXIvc3JjL2Z1bmN0aW9ucy9pbmhlcml0cy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUVBLFNBQVNBLFNBQVNDLElBQUksRUFBRUMsU0FBUztJQUMvQkQsS0FBS0UsU0FBUyxHQUFHQyxPQUFPQyxNQUFNLENBQUNILFVBQVVDLFNBQVMsRUFBRTtRQUNsREcsYUFBYTtZQUNYQyxPQUFPTjtZQUNQTyxZQUFZO1lBQ1pDLFVBQVU7WUFDVkMsY0FBYztRQUNoQjtJQUNGO0FBQ0Y7QUFFQUMsT0FBT0MsT0FBTyxHQUFHWiIsInNvdXJjZXMiOlsid2VicGFjazovL21lZHVzYS1uZXh0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LWluc3RhbnRzZWFyY2gtaG9va3Mvbm9kZV9tb2R1bGVzL2FsZ29saWFzZWFyY2gtaGVscGVyL3NyYy9mdW5jdGlvbnMvaW5oZXJpdHMuanM/YWFkZiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICB2YWx1ZTogY3RvcixcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgfSxcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5oZXJpdHM7XG4iXSwibmFtZXMiOlsiaW5oZXJpdHMiLCJjdG9yIiwic3VwZXJDdG9yIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJ2YWx1ZSIsImVudW1lcmFibGUiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/inherits.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/intersection.js":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/intersection.js ***!
  \****************************************************************************************************************/
/***/ ((module) => {

eval("\nfunction intersection(arr1, arr2) {\n    return arr1.filter(function(value, index) {\n        return arr2.indexOf(value) > -1 && arr1.indexOf(value) === index /* skips duplicates */ ;\n    });\n}\nmodule.exports = intersection;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9ub2RlX21vZHVsZXMvYWxnb2xpYXNlYXJjaC1oZWxwZXIvc3JjL2Z1bmN0aW9ucy9pbnRlcnNlY3Rpb24uanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFFQSxTQUFTQSxhQUFhQyxJQUFJLEVBQUVDLElBQUk7SUFDOUIsT0FBT0QsS0FBS0UsTUFBTSxDQUFDLFNBQVVDLEtBQUssRUFBRUMsS0FBSztRQUN2QyxPQUNFSCxLQUFLSSxPQUFPLENBQUNGLFNBQVMsQ0FBQyxLQUN2QkgsS0FBS0ssT0FBTyxDQUFDRixXQUFXQyxNQUFNLG9CQUFvQjtJQUV0RDtBQUNGO0FBRUFFLE9BQU9DLE9BQU8sR0FBR1IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZWR1c2EtbmV4dC8uL25vZGVfbW9kdWxlcy9yZWFjdC1pbnN0YW50c2VhcmNoLWhvb2tzL25vZGVfbW9kdWxlcy9hbGdvbGlhc2VhcmNoLWhlbHBlci9zcmMvZnVuY3Rpb25zL2ludGVyc2VjdGlvbi5qcz8zNjU1Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gaW50ZXJzZWN0aW9uKGFycjEsIGFycjIpIHtcbiAgcmV0dXJuIGFycjEuZmlsdGVyKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgYXJyMi5pbmRleE9mKHZhbHVlKSA+IC0xICYmXG4gICAgICBhcnIxLmluZGV4T2YodmFsdWUpID09PSBpbmRleCAvKiBza2lwcyBkdXBsaWNhdGVzICovXG4gICAgKTtcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW50ZXJzZWN0aW9uO1xuIl0sIm5hbWVzIjpbImludGVyc2VjdGlvbiIsImFycjEiLCJhcnIyIiwiZmlsdGVyIiwidmFsdWUiLCJpbmRleCIsImluZGV4T2YiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/intersection.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/merge.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/merge.js ***!
  \*********************************************************************************************************/
/***/ ((module) => {

eval("\nfunction clone(value) {\n    if (typeof value === \"object\" && value !== null) {\n        return _merge(Array.isArray(value) ? [] : {}, value);\n    }\n    return value;\n}\nfunction isObjectOrArrayOrFunction(value) {\n    return typeof value === \"function\" || Array.isArray(value) || Object.prototype.toString.call(value) === \"[object Object]\";\n}\nfunction _merge(target, source) {\n    if (target === source) {\n        return target;\n    }\n    // eslint-disable-next-line no-restricted-syntax\n    for(var key in source){\n        if (!Object.prototype.hasOwnProperty.call(source, key) || key === \"__proto__\" || key === \"constructor\") {\n            continue;\n        }\n        var sourceVal = source[key];\n        var targetVal = target[key];\n        if (typeof targetVal !== \"undefined\" && typeof sourceVal === \"undefined\") {\n            continue;\n        }\n        if (isObjectOrArrayOrFunction(targetVal) && isObjectOrArrayOrFunction(sourceVal)) {\n            target[key] = _merge(targetVal, sourceVal);\n        } else {\n            target[key] = clone(sourceVal);\n        }\n    }\n    return target;\n}\n/**\n * This method is like Object.assign, but recursively merges own and inherited\n * enumerable keyed properties of source objects into the destination object.\n *\n * NOTE: this behaves like lodash/merge, but:\n * - does mutate functions if they are a source\n * - treats non-plain objects as plain\n * - does not work for circular objects\n * - treats sparse arrays as sparse\n * - does not convert Array-like objects (Arguments, NodeLists, etc.) to arrays\n *\n * @param {Object} target The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n */ function merge(target) {\n    if (!isObjectOrArrayOrFunction(target)) {\n        target = {};\n    }\n    for(var i = 1, l = arguments.length; i < l; i++){\n        var source = arguments[i];\n        if (isObjectOrArrayOrFunction(source)) {\n            _merge(target, source);\n        }\n    }\n    return target;\n}\nmodule.exports = merge;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9ub2RlX21vZHVsZXMvYWxnb2xpYXNlYXJjaC1oZWxwZXIvc3JjL2Z1bmN0aW9ucy9tZXJnZS5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUVBLFNBQVNBLE1BQU1DLEtBQUs7SUFDbEIsSUFBSSxPQUFPQSxVQUFVLFlBQVlBLFVBQVUsTUFBTTtRQUMvQyxPQUFPQyxPQUFPQyxNQUFNQyxPQUFPLENBQUNILFNBQVMsRUFBRSxHQUFHLENBQUMsR0FBR0E7SUFDaEQ7SUFDQSxPQUFPQTtBQUNUO0FBRUEsU0FBU0ksMEJBQTBCSixLQUFLO0lBQ3RDLE9BQ0UsT0FBT0EsVUFBVSxjQUNqQkUsTUFBTUMsT0FBTyxDQUFDSCxVQUNkSyxPQUFPQyxTQUFTLENBQUNDLFFBQVEsQ0FBQ0MsSUFBSSxDQUFDUixXQUFXO0FBRTlDO0FBRUEsU0FBU0MsT0FBT1EsTUFBTSxFQUFFQyxNQUFNO0lBQzVCLElBQUlELFdBQVdDLFFBQVE7UUFDckIsT0FBT0Q7SUFDVDtJQUVBLGdEQUFnRDtJQUNoRCxJQUFLLElBQUlFLE9BQU9ELE9BQVE7UUFDdEIsSUFDRSxDQUFDTCxPQUFPQyxTQUFTLENBQUNNLGNBQWMsQ0FBQ0osSUFBSSxDQUFDRSxRQUFRQyxRQUM5Q0EsUUFBUSxlQUNSQSxRQUFRLGVBQ1I7WUFFQTtRQUNGO1FBRUEsSUFBSUUsWUFBWUgsTUFBTSxDQUFDQyxJQUFJO1FBQzNCLElBQUlHLFlBQVlMLE1BQU0sQ0FBQ0UsSUFBSTtRQUUzQixJQUFJLE9BQU9HLGNBQWMsZUFBZSxPQUFPRCxjQUFjLGFBQWE7WUFFeEU7UUFDRjtRQUVBLElBQ0VULDBCQUEwQlUsY0FDMUJWLDBCQUEwQlMsWUFDMUI7WUFDQUosTUFBTSxDQUFDRSxJQUFJLEdBQUdWLE9BQU9hLFdBQVdEO1FBQ2xDLE9BQU87WUFDTEosTUFBTSxDQUFDRSxJQUFJLEdBQUdaLE1BQU1jO1FBQ3RCO0lBQ0Y7SUFDQSxPQUFPSjtBQUNUO0FBRUE7Ozs7Ozs7Ozs7Ozs7O0NBY0MsR0FDRCxTQUFTTSxNQUFNTixNQUFNO0lBQ25CLElBQUksQ0FBQ0wsMEJBQTBCSyxTQUFTO1FBQ3RDQSxTQUFTLENBQUM7SUFDWjtJQUVBLElBQUssSUFBSU8sSUFBSSxHQUFHQyxJQUFJQyxVQUFVQyxNQUFNLEVBQUVILElBQUlDLEdBQUdELElBQUs7UUFDaEQsSUFBSU4sU0FBU1EsU0FBUyxDQUFDRixFQUFFO1FBRXpCLElBQUlaLDBCQUEwQk0sU0FBUztZQUNyQ1QsT0FBT1EsUUFBUUM7UUFDakI7SUFDRjtJQUNBLE9BQU9EO0FBQ1Q7QUFFQVcsT0FBT0MsT0FBTyxHQUFHTiIsInNvdXJjZXMiOlsid2VicGFjazovL21lZHVzYS1uZXh0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LWluc3RhbnRzZWFyY2gtaG9va3Mvbm9kZV9tb2R1bGVzL2FsZ29saWFzZWFyY2gtaGVscGVyL3NyYy9mdW5jdGlvbnMvbWVyZ2UuanM/ZjY2MCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIGNsb25lKHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsKSB7XG4gICAgcmV0dXJuIF9tZXJnZShBcnJheS5pc0FycmF5KHZhbHVlKSA/IFtdIDoge30sIHZhbHVlKTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0T3JBcnJheU9yRnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgfHxcbiAgICBBcnJheS5pc0FycmF5KHZhbHVlKSB8fFxuICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IE9iamVjdF0nXG4gICk7XG59XG5cbmZ1bmN0aW9uIF9tZXJnZSh0YXJnZXQsIHNvdXJjZSkge1xuICBpZiAodGFyZ2V0ID09PSBzb3VyY2UpIHtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICBpZiAoXG4gICAgICAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSB8fFxuICAgICAga2V5ID09PSAnX19wcm90b19fJyB8fFxuICAgICAga2V5ID09PSAnY29uc3RydWN0b3InXG4gICAgKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHZhciBzb3VyY2VWYWwgPSBzb3VyY2Vba2V5XTtcbiAgICB2YXIgdGFyZ2V0VmFsID0gdGFyZ2V0W2tleV07XG5cbiAgICBpZiAodHlwZW9mIHRhcmdldFZhbCAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHNvdXJjZVZhbCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250aW51ZVxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgaXNPYmplY3RPckFycmF5T3JGdW5jdGlvbih0YXJnZXRWYWwpICYmXG4gICAgICBpc09iamVjdE9yQXJyYXlPckZ1bmN0aW9uKHNvdXJjZVZhbClcbiAgICApIHtcbiAgICAgIHRhcmdldFtrZXldID0gX21lcmdlKHRhcmdldFZhbCwgc291cmNlVmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0W2tleV0gPSBjbG9uZShzb3VyY2VWYWwpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgT2JqZWN0LmFzc2lnbiwgYnV0IHJlY3Vyc2l2ZWx5IG1lcmdlcyBvd24gYW5kIGluaGVyaXRlZFxuICogZW51bWVyYWJsZSBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBvYmplY3RzIGludG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAqXG4gKiBOT1RFOiB0aGlzIGJlaGF2ZXMgbGlrZSBsb2Rhc2gvbWVyZ2UsIGJ1dDpcbiAqIC0gZG9lcyBtdXRhdGUgZnVuY3Rpb25zIGlmIHRoZXkgYXJlIGEgc291cmNlXG4gKiAtIHRyZWF0cyBub24tcGxhaW4gb2JqZWN0cyBhcyBwbGFpblxuICogLSBkb2VzIG5vdCB3b3JrIGZvciBjaXJjdWxhciBvYmplY3RzXG4gKiAtIHRyZWF0cyBzcGFyc2UgYXJyYXlzIGFzIHNwYXJzZVxuICogLSBkb2VzIG5vdCBjb252ZXJ0IEFycmF5LWxpa2Ugb2JqZWN0cyAoQXJndW1lbnRzLCBOb2RlTGlzdHMsIGV0Yy4pIHRvIGFycmF5c1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqL1xuZnVuY3Rpb24gbWVyZ2UodGFyZ2V0KSB7XG4gIGlmICghaXNPYmplY3RPckFycmF5T3JGdW5jdGlvbih0YXJnZXQpKSB7XG4gICAgdGFyZ2V0ID0ge307XG4gIH1cblxuICBmb3IgKHZhciBpID0gMSwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgaWYgKGlzT2JqZWN0T3JBcnJheU9yRnVuY3Rpb24oc291cmNlKSkge1xuICAgICAgX21lcmdlKHRhcmdldCwgc291cmNlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBtZXJnZTtcbiJdLCJuYW1lcyI6WyJjbG9uZSIsInZhbHVlIiwiX21lcmdlIiwiQXJyYXkiLCJpc0FycmF5IiwiaXNPYmplY3RPckFycmF5T3JGdW5jdGlvbiIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiY2FsbCIsInRhcmdldCIsInNvdXJjZSIsImtleSIsImhhc093blByb3BlcnR5Iiwic291cmNlVmFsIiwidGFyZ2V0VmFsIiwibWVyZ2UiLCJpIiwibCIsImFyZ3VtZW50cyIsImxlbmd0aCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/merge.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/objectHasKeys.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/objectHasKeys.js ***!
  \*****************************************************************************************************************/
/***/ ((module) => {

eval("\nfunction objectHasKeys(obj) {\n    return obj && Object.keys(obj).length > 0;\n}\nmodule.exports = objectHasKeys;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9ub2RlX21vZHVsZXMvYWxnb2xpYXNlYXJjaC1oZWxwZXIvc3JjL2Z1bmN0aW9ucy9vYmplY3RIYXNLZXlzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBRUEsU0FBU0EsY0FBY0MsR0FBRztJQUN4QixPQUFPQSxPQUFPQyxPQUFPQyxJQUFJLENBQUNGLEtBQUtHLE1BQU0sR0FBRztBQUMxQztBQUVBQyxPQUFPQyxPQUFPLEdBQUdOIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVkdXNhLW5leHQvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9ub2RlX21vZHVsZXMvYWxnb2xpYXNlYXJjaC1oZWxwZXIvc3JjL2Z1bmN0aW9ucy9vYmplY3RIYXNLZXlzLmpzPzM0YzIiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBvYmplY3RIYXNLZXlzKG9iaikge1xuICByZXR1cm4gb2JqICYmIE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID4gMDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBvYmplY3RIYXNLZXlzO1xuIl0sIm5hbWVzIjpbIm9iamVjdEhhc0tleXMiLCJvYmoiLCJPYmplY3QiLCJrZXlzIiwibGVuZ3RoIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/objectHasKeys.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/omit.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/omit.js ***!
  \********************************************************************************************************/
/***/ ((module) => {

eval("\n// https://github.com/babel/babel/blob/3aaafae053fa75febb3aa45d45b6f00646e30ba4/packages/babel-helpers/src/helpers.js#L604-L620\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n    if (source === null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key;\n    var i;\n    for(i = 0; i < sourceKeys.length; i++){\n        key = sourceKeys[i];\n        // eslint-disable-next-line no-continue\n        if (excluded.indexOf(key) >= 0) continue;\n        target[key] = source[key];\n    }\n    return target;\n}\nmodule.exports = _objectWithoutPropertiesLoose;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9ub2RlX21vZHVsZXMvYWxnb2xpYXNlYXJjaC1oZWxwZXIvc3JjL2Z1bmN0aW9ucy9vbWl0LmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBRUEsK0hBQStIO0FBQy9ILFNBQVNBLDhCQUE4QkMsTUFBTSxFQUFFQyxRQUFRO0lBQ3JELElBQUlELFdBQVcsTUFBTSxPQUFPLENBQUM7SUFDN0IsSUFBSUUsU0FBUyxDQUFDO0lBQ2QsSUFBSUMsYUFBYUMsT0FBT0MsSUFBSSxDQUFDTDtJQUM3QixJQUFJTTtJQUNKLElBQUlDO0lBQ0osSUFBS0EsSUFBSSxHQUFHQSxJQUFJSixXQUFXSyxNQUFNLEVBQUVELElBQUs7UUFDdENELE1BQU1ILFVBQVUsQ0FBQ0ksRUFBRTtRQUNuQix1Q0FBdUM7UUFDdkMsSUFBSU4sU0FBU1EsT0FBTyxDQUFDSCxRQUFRLEdBQUc7UUFDaENKLE1BQU0sQ0FBQ0ksSUFBSSxHQUFHTixNQUFNLENBQUNNLElBQUk7SUFDM0I7SUFDQSxPQUFPSjtBQUNUO0FBRUFRLE9BQU9DLE9BQU8sR0FBR1oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZWR1c2EtbmV4dC8uL25vZGVfbW9kdWxlcy9yZWFjdC1pbnN0YW50c2VhcmNoLWhvb2tzL25vZGVfbW9kdWxlcy9hbGdvbGlhc2VhcmNoLWhlbHBlci9zcmMvZnVuY3Rpb25zL29taXQuanM/NGY1NyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9iYWJlbC9iYWJlbC9ibG9iLzNhYWFmYWUwNTNmYTc1ZmViYjNhYTQ1ZDQ1YjZmMDA2NDZlMzBiYTQvcGFja2FnZXMvYmFiZWwtaGVscGVycy9zcmMvaGVscGVycy5qcyNMNjA0LUw2MjBcbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgaWYgKHNvdXJjZSA9PT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleTtcbiAgdmFyIGk7XG4gIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0gc291cmNlS2V5c1tpXTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gIH1cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZTtcbiJdLCJuYW1lcyI6WyJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSIsInNvdXJjZSIsImV4Y2x1ZGVkIiwidGFyZ2V0Iiwic291cmNlS2V5cyIsIk9iamVjdCIsImtleXMiLCJrZXkiLCJpIiwibGVuZ3RoIiwiaW5kZXhPZiIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/omit.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/orderBy.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/orderBy.js ***!
  \***********************************************************************************************************/
/***/ ((module) => {

eval("\nfunction compareAscending(value, other) {\n    if (value !== other) {\n        var valIsDefined = value !== undefined;\n        var valIsNull = value === null;\n        var othIsDefined = other !== undefined;\n        var othIsNull = other === null;\n        if (!othIsNull && value > other || valIsNull && othIsDefined || !valIsDefined) {\n            return 1;\n        }\n        if (!valIsNull && value < other || othIsNull && valIsDefined || !othIsDefined) {\n            return -1;\n        }\n    }\n    return 0;\n}\n/**\n * @param {Array<object>} collection object with keys in attributes\n * @param {Array<string>} iteratees attributes\n * @param {Array<string>} orders asc | desc\n * @return {Array<object>} sorted collection\n */ function orderBy(collection, iteratees, orders) {\n    if (!Array.isArray(collection)) {\n        return [];\n    }\n    if (!Array.isArray(orders)) {\n        orders = [];\n    }\n    var result = collection.map(function(value, index) {\n        return {\n            criteria: iteratees.map(function(iteratee) {\n                return value[iteratee];\n            }),\n            index: index,\n            value: value\n        };\n    });\n    result.sort(function comparer(object, other) {\n        var index = -1;\n        while(++index < object.criteria.length){\n            var res = compareAscending(object.criteria[index], other.criteria[index]);\n            if (res) {\n                if (index >= orders.length) {\n                    return res;\n                }\n                if (orders[index] === \"desc\") {\n                    return -res;\n                }\n                return res;\n            }\n        }\n        // This ensures a stable sort in V8 and other engines.\n        // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n        return object.index - other.index;\n    });\n    return result.map(function(res) {\n        return res.value;\n    });\n}\nmodule.exports = orderBy;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9ub2RlX21vZHVsZXMvYWxnb2xpYXNlYXJjaC1oZWxwZXIvc3JjL2Z1bmN0aW9ucy9vcmRlckJ5LmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBRUEsU0FBU0EsaUJBQWlCQyxLQUFLLEVBQUVDLEtBQUs7SUFDcEMsSUFBSUQsVUFBVUMsT0FBTztRQUNuQixJQUFJQyxlQUFlRixVQUFVRztRQUM3QixJQUFJQyxZQUFZSixVQUFVO1FBRTFCLElBQUlLLGVBQWVKLFVBQVVFO1FBQzdCLElBQUlHLFlBQVlMLFVBQVU7UUFFMUIsSUFDRSxDQUFFSyxhQUFhTixRQUFRQyxTQUN0QkcsYUFBYUMsZ0JBQ2QsQ0FBQ0gsY0FDRDtZQUNBLE9BQU87UUFDVDtRQUNBLElBQ0UsQ0FBRUUsYUFBYUosUUFBUUMsU0FDdEJLLGFBQWFKLGdCQUNkLENBQUNHLGNBQ0Q7WUFDQSxPQUFPLENBQUM7UUFDVjtJQUNGO0lBQ0EsT0FBTztBQUNUO0FBRUE7Ozs7O0NBS0MsR0FDRCxTQUFTRSxRQUFRQyxVQUFVLEVBQUVDLFNBQVMsRUFBRUMsTUFBTTtJQUM1QyxJQUFJLENBQUNDLE1BQU1DLE9BQU8sQ0FBQ0osYUFBYTtRQUM5QixPQUFPLEVBQUU7SUFDWDtJQUVBLElBQUksQ0FBQ0csTUFBTUMsT0FBTyxDQUFDRixTQUFTO1FBQzFCQSxTQUFTLEVBQUU7SUFDYjtJQUVBLElBQUlHLFNBQVNMLFdBQVdNLEdBQUcsQ0FBQyxTQUFVZCxLQUFLLEVBQUVlLEtBQUs7UUFDaEQsT0FBTztZQUNMQyxVQUFVUCxVQUFVSyxHQUFHLENBQUMsU0FBVUcsUUFBUTtnQkFDeEMsT0FBT2pCLEtBQUssQ0FBQ2lCLFNBQVM7WUFDeEI7WUFDQUYsT0FBT0E7WUFDUGYsT0FBT0E7UUFDVDtJQUNGO0lBRUFhLE9BQU9LLElBQUksQ0FBQyxTQUFTQyxTQUFTQyxNQUFNLEVBQUVuQixLQUFLO1FBQ3pDLElBQUljLFFBQVEsQ0FBQztRQUViLE1BQU8sRUFBRUEsUUFBUUssT0FBT0osUUFBUSxDQUFDSyxNQUFNLENBQUU7WUFDdkMsSUFBSUMsTUFBTXZCLGlCQUFpQnFCLE9BQU9KLFFBQVEsQ0FBQ0QsTUFBTSxFQUFFZCxNQUFNZSxRQUFRLENBQUNELE1BQU07WUFDeEUsSUFBSU8sS0FBSztnQkFDUCxJQUFJUCxTQUFTTCxPQUFPVyxNQUFNLEVBQUU7b0JBQzFCLE9BQU9DO2dCQUNUO2dCQUNBLElBQUlaLE1BQU0sQ0FBQ0ssTUFBTSxLQUFLLFFBQVE7b0JBQzVCLE9BQU8sQ0FBQ087Z0JBQ1Y7Z0JBQ0EsT0FBT0E7WUFDVDtRQUNGO1FBRUEsc0RBQXNEO1FBQ3RELDJFQUEyRTtRQUMzRSxPQUFPRixPQUFPTCxLQUFLLEdBQUdkLE1BQU1jLEtBQUs7SUFDbkM7SUFFQSxPQUFPRixPQUFPQyxHQUFHLENBQUMsU0FBVVEsR0FBRztRQUM3QixPQUFPQSxJQUFJdEIsS0FBSztJQUNsQjtBQUNGO0FBRUF1QixPQUFPQyxPQUFPLEdBQUdqQiIsInNvdXJjZXMiOlsid2VicGFjazovL21lZHVzYS1uZXh0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LWluc3RhbnRzZWFyY2gtaG9va3Mvbm9kZV9tb2R1bGVzL2FsZ29saWFzZWFyY2gtaGVscGVyL3NyYy9mdW5jdGlvbnMvb3JkZXJCeS5qcz8yMDA4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gY29tcGFyZUFzY2VuZGluZyh2YWx1ZSwgb3RoZXIpIHtcbiAgaWYgKHZhbHVlICE9PSBvdGhlcikge1xuICAgIHZhciB2YWxJc0RlZmluZWQgPSB2YWx1ZSAhPT0gdW5kZWZpbmVkO1xuICAgIHZhciB2YWxJc051bGwgPSB2YWx1ZSA9PT0gbnVsbDtcblxuICAgIHZhciBvdGhJc0RlZmluZWQgPSBvdGhlciAhPT0gdW5kZWZpbmVkO1xuICAgIHZhciBvdGhJc051bGwgPSBvdGhlciA9PT0gbnVsbDtcblxuICAgIGlmIChcbiAgICAgICghb3RoSXNOdWxsICYmIHZhbHVlID4gb3RoZXIpIHx8XG4gICAgICAodmFsSXNOdWxsICYmIG90aElzRGVmaW5lZCkgfHxcbiAgICAgICF2YWxJc0RlZmluZWRcbiAgICApIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAoIXZhbElzTnVsbCAmJiB2YWx1ZSA8IG90aGVyKSB8fFxuICAgICAgKG90aElzTnVsbCAmJiB2YWxJc0RlZmluZWQpIHx8XG4gICAgICAhb3RoSXNEZWZpbmVkXG4gICAgKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICB9XG4gIHJldHVybiAwO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8b2JqZWN0Pn0gY29sbGVjdGlvbiBvYmplY3Qgd2l0aCBrZXlzIGluIGF0dHJpYnV0ZXNcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gaXRlcmF0ZWVzIGF0dHJpYnV0ZXNcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gb3JkZXJzIGFzYyB8IGRlc2NcbiAqIEByZXR1cm4ge0FycmF5PG9iamVjdD59IHNvcnRlZCBjb2xsZWN0aW9uXG4gKi9cbmZ1bmN0aW9uIG9yZGVyQnkoY29sbGVjdGlvbiwgaXRlcmF0ZWVzLCBvcmRlcnMpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGNvbGxlY3Rpb24pKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgaWYgKCFBcnJheS5pc0FycmF5KG9yZGVycykpIHtcbiAgICBvcmRlcnMgPSBbXTtcbiAgfVxuXG4gIHZhciByZXN1bHQgPSBjb2xsZWN0aW9uLm1hcChmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNyaXRlcmlhOiBpdGVyYXRlZXMubWFwKGZ1bmN0aW9uIChpdGVyYXRlZSkge1xuICAgICAgICByZXR1cm4gdmFsdWVbaXRlcmF0ZWVdO1xuICAgICAgfSksXG4gICAgICBpbmRleDogaW5kZXgsXG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgfTtcbiAgfSk7XG5cbiAgcmVzdWx0LnNvcnQoZnVuY3Rpb24gY29tcGFyZXIob2JqZWN0LCBvdGhlcikge1xuICAgIHZhciBpbmRleCA9IC0xO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBvYmplY3QuY3JpdGVyaWEubGVuZ3RoKSB7XG4gICAgICB2YXIgcmVzID0gY29tcGFyZUFzY2VuZGluZyhvYmplY3QuY3JpdGVyaWFbaW5kZXhdLCBvdGhlci5jcml0ZXJpYVtpbmRleF0pO1xuICAgICAgaWYgKHJlcykge1xuICAgICAgICBpZiAoaW5kZXggPj0gb3JkZXJzLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9yZGVyc1tpbmRleF0gPT09ICdkZXNjJykge1xuICAgICAgICAgIHJldHVybiAtcmVzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVGhpcyBlbnN1cmVzIGEgc3RhYmxlIHNvcnQgaW4gVjggYW5kIG90aGVyIGVuZ2luZXMuXG4gICAgLy8gU2VlIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTkwIGZvciBtb3JlIGRldGFpbHMuXG4gICAgcmV0dXJuIG9iamVjdC5pbmRleCAtIG90aGVyLmluZGV4O1xuICB9KTtcblxuICByZXR1cm4gcmVzdWx0Lm1hcChmdW5jdGlvbiAocmVzKSB7XG4gICAgcmV0dXJuIHJlcy52YWx1ZTtcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gb3JkZXJCeTtcbiJdLCJuYW1lcyI6WyJjb21wYXJlQXNjZW5kaW5nIiwidmFsdWUiLCJvdGhlciIsInZhbElzRGVmaW5lZCIsInVuZGVmaW5lZCIsInZhbElzTnVsbCIsIm90aElzRGVmaW5lZCIsIm90aElzTnVsbCIsIm9yZGVyQnkiLCJjb2xsZWN0aW9uIiwiaXRlcmF0ZWVzIiwib3JkZXJzIiwiQXJyYXkiLCJpc0FycmF5IiwicmVzdWx0IiwibWFwIiwiaW5kZXgiLCJjcml0ZXJpYSIsIml0ZXJhdGVlIiwic29ydCIsImNvbXBhcmVyIiwib2JqZWN0IiwibGVuZ3RoIiwicmVzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/orderBy.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/valToNumber.js":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/valToNumber.js ***!
  \***************************************************************************************************************/
/***/ ((module) => {

eval("\nfunction valToNumber(v) {\n    if (typeof v === \"number\") {\n        return v;\n    } else if (typeof v === \"string\") {\n        return parseFloat(v);\n    } else if (Array.isArray(v)) {\n        return v.map(valToNumber);\n    }\n    throw new Error(\"The value should be a number, a parsable string or an array of those.\");\n}\nmodule.exports = valToNumber;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9ub2RlX21vZHVsZXMvYWxnb2xpYXNlYXJjaC1oZWxwZXIvc3JjL2Z1bmN0aW9ucy92YWxUb051bWJlci5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUVBLFNBQVNBLFlBQVlDLENBQUM7SUFDcEIsSUFBSSxPQUFPQSxNQUFNLFVBQVU7UUFDekIsT0FBT0E7SUFDVCxPQUFPLElBQUksT0FBT0EsTUFBTSxVQUFVO1FBQ2hDLE9BQU9DLFdBQVdEO0lBQ3BCLE9BQU8sSUFBSUUsTUFBTUMsT0FBTyxDQUFDSCxJQUFJO1FBQzNCLE9BQU9BLEVBQUVJLEdBQUcsQ0FBQ0w7SUFDZjtJQUVBLE1BQU0sSUFBSU0sTUFDUjtBQUVKO0FBRUFDLE9BQU9DLE9BQU8sR0FBR1IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZWR1c2EtbmV4dC8uL25vZGVfbW9kdWxlcy9yZWFjdC1pbnN0YW50c2VhcmNoLWhvb2tzL25vZGVfbW9kdWxlcy9hbGdvbGlhc2VhcmNoLWhlbHBlci9zcmMvZnVuY3Rpb25zL3ZhbFRvTnVtYmVyLmpzPzgxMDYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiB2YWxUb051bWJlcih2KSB7XG4gIGlmICh0eXBlb2YgdiA9PT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gdjtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdiA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gcGFyc2VGbG9hdCh2KTtcbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHYpKSB7XG4gICAgcmV0dXJuIHYubWFwKHZhbFRvTnVtYmVyKTtcbiAgfVxuXG4gIHRocm93IG5ldyBFcnJvcihcbiAgICAnVGhlIHZhbHVlIHNob3VsZCBiZSBhIG51bWJlciwgYSBwYXJzYWJsZSBzdHJpbmcgb3IgYW4gYXJyYXkgb2YgdGhvc2UuJ1xuICApO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHZhbFRvTnVtYmVyO1xuIl0sIm5hbWVzIjpbInZhbFRvTnVtYmVyIiwidiIsInBhcnNlRmxvYXQiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJFcnJvciIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/valToNumber.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/requestBuilder.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/requestBuilder.js ***!
  \********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nvar merge = __webpack_require__(/*! ./functions/merge */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/functions/merge.js\");\nfunction sortObject(obj) {\n    return Object.keys(obj).sort().reduce(function(acc, curr) {\n        acc[curr] = obj[curr];\n        return acc;\n    }, {});\n}\nvar requestBuilder = {\n    /**\n   * Get all the queries to send to the client, those queries can used directly\n   * with the Algolia client.\n   * @private\n   * @param  {string} index The name of the index\n   * @param  {SearchParameters} state The state from which to get the queries\n   * @return {object[]} The queries\n   */ _getQueries: function getQueries(index, state) {\n        var queries = [];\n        // One query for the hits\n        queries.push({\n            indexName: index,\n            params: requestBuilder._getHitsSearchParams(state)\n        });\n        // One for each disjunctive facets\n        state.getRefinedDisjunctiveFacets().forEach(function(refinedFacet) {\n            queries.push({\n                indexName: index,\n                params: requestBuilder._getDisjunctiveFacetSearchParams(state, refinedFacet)\n            });\n        });\n        // More to get the parent levels of the hierarchical facets when refined\n        state.getRefinedHierarchicalFacets().forEach(function(refinedFacet) {\n            var hierarchicalFacet = state.getHierarchicalFacetByName(refinedFacet);\n            var currentRefinement = state.getHierarchicalRefinement(refinedFacet);\n            var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n            // If we are deeper than level 0 (starting from `beer > IPA`)\n            // we want to get all parent values\n            if (currentRefinement.length > 0 && currentRefinement[0].split(separator).length > 1) {\n                // We generate a map of the filters we will use for our facet values queries\n                var filtersMap = currentRefinement[0].split(separator).slice(0, -1).reduce(function createFiltersMap(map, segment, level) {\n                    return map.concat({\n                        attribute: hierarchicalFacet.attributes[level],\n                        value: level === 0 ? segment : [\n                            map[map.length - 1].value,\n                            segment\n                        ].join(separator)\n                    });\n                }, []);\n                filtersMap.forEach(function(filter, level) {\n                    var params = requestBuilder._getDisjunctiveFacetSearchParams(state, filter.attribute, level === 0);\n                    // Keep facet filters unrelated to current hierarchical attributes\n                    function hasHierarchicalFacetFilter(value) {\n                        return hierarchicalFacet.attributes.some(function(attribute) {\n                            return attribute === value.split(\":\")[0];\n                        });\n                    }\n                    var filteredFacetFilters = (params.facetFilters || []).reduce(function(acc, facetFilter) {\n                        if (Array.isArray(facetFilter)) {\n                            var filtered = facetFilter.filter(function(filterValue) {\n                                return !hasHierarchicalFacetFilter(filterValue);\n                            });\n                            if (filtered.length > 0) {\n                                acc.push(filtered);\n                            }\n                        }\n                        if (typeof facetFilter === \"string\" && !hasHierarchicalFacetFilter(facetFilter)) {\n                            acc.push(facetFilter);\n                        }\n                        return acc;\n                    }, []);\n                    var parent = filtersMap[level - 1];\n                    if (level > 0) {\n                        params.facetFilters = filteredFacetFilters.concat(parent.attribute + \":\" + parent.value);\n                    } else {\n                        params.facetFilters = filteredFacetFilters.length > 0 ? filteredFacetFilters : undefined;\n                    }\n                    queries.push({\n                        indexName: index,\n                        params: params\n                    });\n                });\n            }\n        });\n        return queries;\n    },\n    /**\n   * Build search parameters used to fetch hits\n   * @private\n   * @param  {SearchParameters} state The state from which to get the queries\n   * @return {object.<string, any>} The search parameters for hits\n   */ _getHitsSearchParams: function(state) {\n        var facets = state.facets.concat(state.disjunctiveFacets).concat(requestBuilder._getHitsHierarchicalFacetsAttributes(state)).sort();\n        var facetFilters = requestBuilder._getFacetFilters(state);\n        var numericFilters = requestBuilder._getNumericFilters(state);\n        var tagFilters = requestBuilder._getTagFilters(state);\n        var additionalParams = {\n            facets: facets.indexOf(\"*\") > -1 ? [\n                \"*\"\n            ] : facets,\n            tagFilters: tagFilters\n        };\n        if (facetFilters.length > 0) {\n            additionalParams.facetFilters = facetFilters;\n        }\n        if (numericFilters.length > 0) {\n            additionalParams.numericFilters = numericFilters;\n        }\n        return sortObject(merge({}, state.getQueryParams(), additionalParams));\n    },\n    /**\n   * Build search parameters used to fetch a disjunctive facet\n   * @private\n   * @param  {SearchParameters} state The state from which to get the queries\n   * @param  {string} facet the associated facet name\n   * @param  {boolean} hierarchicalRootLevel ?? FIXME\n   * @return {object} The search parameters for a disjunctive facet\n   */ _getDisjunctiveFacetSearchParams: function(state, facet, hierarchicalRootLevel) {\n        var facetFilters = requestBuilder._getFacetFilters(state, facet, hierarchicalRootLevel);\n        var numericFilters = requestBuilder._getNumericFilters(state, facet);\n        var tagFilters = requestBuilder._getTagFilters(state);\n        var additionalParams = {\n            hitsPerPage: 0,\n            page: 0,\n            analytics: false,\n            clickAnalytics: false\n        };\n        if (tagFilters.length > 0) {\n            additionalParams.tagFilters = tagFilters;\n        }\n        var hierarchicalFacet = state.getHierarchicalFacetByName(facet);\n        if (hierarchicalFacet) {\n            additionalParams.facets = requestBuilder._getDisjunctiveHierarchicalFacetAttribute(state, hierarchicalFacet, hierarchicalRootLevel);\n        } else {\n            additionalParams.facets = facet;\n        }\n        if (numericFilters.length > 0) {\n            additionalParams.numericFilters = numericFilters;\n        }\n        if (facetFilters.length > 0) {\n            additionalParams.facetFilters = facetFilters;\n        }\n        return sortObject(merge({}, state.getQueryParams(), additionalParams));\n    },\n    /**\n   * Return the numeric filters in an algolia request fashion\n   * @private\n   * @param {SearchParameters} state the state from which to get the filters\n   * @param {string} [facetName] the name of the attribute for which the filters should be excluded\n   * @return {string[]} the numeric filters in the algolia format\n   */ _getNumericFilters: function(state, facetName) {\n        if (state.numericFilters) {\n            return state.numericFilters;\n        }\n        var numericFilters = [];\n        Object.keys(state.numericRefinements).forEach(function(attribute) {\n            var operators = state.numericRefinements[attribute] || {};\n            Object.keys(operators).forEach(function(operator) {\n                var values = operators[operator] || [];\n                if (facetName !== attribute) {\n                    values.forEach(function(value) {\n                        if (Array.isArray(value)) {\n                            var vs = value.map(function(v) {\n                                return attribute + operator + v;\n                            });\n                            numericFilters.push(vs);\n                        } else {\n                            numericFilters.push(attribute + operator + value);\n                        }\n                    });\n                }\n            });\n        });\n        return numericFilters;\n    },\n    /**\n   * Return the tags filters depending on which format is used, either tagFilters or tagRefinements\n   * @private\n   * @param {SearchParameters} state the state from which to get the filters\n   * @return {string} Tag filters in a single string\n   */ _getTagFilters: function(state) {\n        if (state.tagFilters) {\n            return state.tagFilters;\n        }\n        return state.tagRefinements.join(\",\");\n    },\n    /**\n   * Build facetFilters parameter based on current refinements. The array returned\n   * contains strings representing the facet filters in the algolia format.\n   * @private\n   * @param  {SearchParameters} state The state from which to get the queries\n   * @param  {string} [facet] if set, the current disjunctive facet\n   * @param  {boolean} [hierarchicalRootLevel] ?? FIXME\n   * @return {array.<string>} The facet filters in the algolia format\n   */ _getFacetFilters: function(state, facet, hierarchicalRootLevel) {\n        var facetFilters = [];\n        var facetsRefinements = state.facetsRefinements || {};\n        Object.keys(facetsRefinements).sort().forEach(function(facetName) {\n            var facetValues = facetsRefinements[facetName] || [];\n            facetValues.sort().forEach(function(facetValue) {\n                facetFilters.push(facetName + \":\" + facetValue);\n            });\n        });\n        var facetsExcludes = state.facetsExcludes || {};\n        Object.keys(facetsExcludes).sort().forEach(function(facetName) {\n            var facetValues = facetsExcludes[facetName] || [];\n            facetValues.sort().forEach(function(facetValue) {\n                facetFilters.push(facetName + \":-\" + facetValue);\n            });\n        });\n        var disjunctiveFacetsRefinements = state.disjunctiveFacetsRefinements || {};\n        Object.keys(disjunctiveFacetsRefinements).sort().forEach(function(facetName) {\n            var facetValues = disjunctiveFacetsRefinements[facetName] || [];\n            if (facetName === facet || !facetValues || facetValues.length === 0) {\n                return;\n            }\n            var orFilters = [];\n            facetValues.sort().forEach(function(facetValue) {\n                orFilters.push(facetName + \":\" + facetValue);\n            });\n            facetFilters.push(orFilters);\n        });\n        var hierarchicalFacetsRefinements = state.hierarchicalFacetsRefinements || {};\n        Object.keys(hierarchicalFacetsRefinements).sort().forEach(function(facetName) {\n            var facetValues = hierarchicalFacetsRefinements[facetName] || [];\n            var facetValue = facetValues[0];\n            if (facetValue === undefined) {\n                return;\n            }\n            var hierarchicalFacet = state.getHierarchicalFacetByName(facetName);\n            var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n            var rootPath = state._getHierarchicalRootPath(hierarchicalFacet);\n            var attributeToRefine;\n            var attributesIndex;\n            // we ask for parent facet values only when the `facet` is the current hierarchical facet\n            if (facet === facetName) {\n                // if we are at the root level already, no need to ask for facet values, we get them from\n                // the hits query\n                if (facetValue.indexOf(separator) === -1 || !rootPath && hierarchicalRootLevel === true || rootPath && rootPath.split(separator).length === facetValue.split(separator).length) {\n                    return;\n                }\n                if (!rootPath) {\n                    attributesIndex = facetValue.split(separator).length - 2;\n                    facetValue = facetValue.slice(0, facetValue.lastIndexOf(separator));\n                } else {\n                    attributesIndex = rootPath.split(separator).length - 1;\n                    facetValue = rootPath;\n                }\n                attributeToRefine = hierarchicalFacet.attributes[attributesIndex];\n            } else {\n                attributesIndex = facetValue.split(separator).length - 1;\n                attributeToRefine = hierarchicalFacet.attributes[attributesIndex];\n            }\n            if (attributeToRefine) {\n                facetFilters.push([\n                    attributeToRefine + \":\" + facetValue\n                ]);\n            }\n        });\n        return facetFilters;\n    },\n    _getHitsHierarchicalFacetsAttributes: function(state) {\n        var out = [];\n        return state.hierarchicalFacets.reduce(// ask for as much levels as there's hierarchical refinements\n        function getHitsAttributesForHierarchicalFacet(allAttributes, hierarchicalFacet) {\n            var hierarchicalRefinement = state.getHierarchicalRefinement(hierarchicalFacet.name)[0];\n            // if no refinement, ask for root level\n            if (!hierarchicalRefinement) {\n                allAttributes.push(hierarchicalFacet.attributes[0]);\n                return allAttributes;\n            }\n            var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n            var level = hierarchicalRefinement.split(separator).length;\n            var newAttributes = hierarchicalFacet.attributes.slice(0, level + 1);\n            return allAttributes.concat(newAttributes);\n        }, out);\n    },\n    _getDisjunctiveHierarchicalFacetAttribute: function(state, hierarchicalFacet, rootLevel) {\n        var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n        if (rootLevel === true) {\n            var rootPath = state._getHierarchicalRootPath(hierarchicalFacet);\n            var attributeIndex = 0;\n            if (rootPath) {\n                attributeIndex = rootPath.split(separator).length;\n            }\n            return [\n                hierarchicalFacet.attributes[attributeIndex]\n            ];\n        }\n        var hierarchicalRefinement = state.getHierarchicalRefinement(hierarchicalFacet.name)[0] || \"\";\n        // if refinement is 'beers > IPA > Flying dog',\n        // then we want `facets: ['beers > IPA']` as disjunctive facet (parent level values)\n        var parentLevel = hierarchicalRefinement.split(separator).length - 1;\n        return hierarchicalFacet.attributes.slice(0, parentLevel + 1);\n    },\n    getSearchForFacetQuery: function(facetName, query, maxFacetHits, state) {\n        var stateForSearchForFacetValues = state.isDisjunctiveFacet(facetName) ? state.clearRefinements(facetName) : state;\n        var searchForFacetSearchParameters = {\n            facetQuery: query,\n            facetName: facetName\n        };\n        if (typeof maxFacetHits === \"number\") {\n            searchForFacetSearchParameters.maxFacetHits = maxFacetHits;\n        }\n        return sortObject(merge({}, requestBuilder._getHitsSearchParams(stateForSearchForFacetValues), searchForFacetSearchParameters));\n    }\n};\nmodule.exports = requestBuilder;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9ub2RlX21vZHVsZXMvYWxnb2xpYXNlYXJjaC1oZWxwZXIvc3JjL3JlcXVlc3RCdWlsZGVyLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBRUEsSUFBSUEsUUFBUUMsbUJBQU9BLENBQUM7QUFFcEIsU0FBU0MsV0FBV0MsR0FBRztJQUNyQixPQUFPQyxPQUFPQyxJQUFJLENBQUNGLEtBQ2hCRyxJQUFJLEdBQ0pDLE1BQU0sQ0FBQyxTQUFVQyxHQUFHLEVBQUVDLElBQUk7UUFDekJELEdBQUcsQ0FBQ0MsS0FBSyxHQUFHTixHQUFHLENBQUNNLEtBQUs7UUFDckIsT0FBT0Q7SUFDVCxHQUFHLENBQUM7QUFDUjtBQUVBLElBQUlFLGlCQUFpQjtJQUNuQjs7Ozs7OztHQU9DLEdBQ0RDLGFBQWEsU0FBU0MsV0FBV0MsS0FBSyxFQUFFQyxLQUFLO1FBQzNDLElBQUlDLFVBQVUsRUFBRTtRQUVoQix5QkFBeUI7UUFDekJBLFFBQVFDLElBQUksQ0FBQztZQUNYQyxXQUFXSjtZQUNYSyxRQUFRUixlQUFlUyxvQkFBb0IsQ0FBQ0w7UUFDOUM7UUFFQSxrQ0FBa0M7UUFDbENBLE1BQU1NLDJCQUEyQixHQUFHQyxPQUFPLENBQUMsU0FBVUMsWUFBWTtZQUNoRVAsUUFBUUMsSUFBSSxDQUFDO2dCQUNYQyxXQUFXSjtnQkFDWEssUUFBUVIsZUFBZWEsZ0NBQWdDLENBQ3JEVCxPQUNBUTtZQUVKO1FBQ0Y7UUFFQSx3RUFBd0U7UUFDeEVSLE1BQU1VLDRCQUE0QixHQUFHSCxPQUFPLENBQUMsU0FBVUMsWUFBWTtZQUNqRSxJQUFJRyxvQkFBb0JYLE1BQU1ZLDBCQUEwQixDQUFDSjtZQUN6RCxJQUFJSyxvQkFBb0JiLE1BQU1jLHlCQUF5QixDQUFDTjtZQUN4RCxJQUFJTyxZQUFZZixNQUFNZ0IsOEJBQThCLENBQUNMO1lBRXJELDZEQUE2RDtZQUM3RCxtQ0FBbUM7WUFDbkMsSUFDRUUsa0JBQWtCSSxNQUFN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VSxDQUFDNkQsZUFBZTthQUFDO1FBQ3ZEO1FBRUEsSUFBSUoseUJBQ0ZwRixNQUFNYyx5QkFBeUIsQ0FBQ0gsa0JBQWtCMEUsSUFBSSxDQUFDLENBQUMsRUFBRSxJQUFJO1FBQ2hFLCtDQUErQztRQUMvQyxvRkFBb0Y7UUFFcEYsSUFBSUksY0FBY0wsdUJBQXVCbEUsS0FBSyxDQUFDSCxXQUFXRSxNQUFNLEdBQUc7UUFDbkUsT0FBT04sa0JBQWtCZ0IsVUFBVSxDQUFDUCxLQUFLLENBQUMsR0FBR3FFLGNBQWM7SUFDN0Q7SUFFQUMsd0JBQXdCLFNBQVU5QixTQUFTLEVBQUUrQixLQUFLLEVBQUVDLFlBQVksRUFBRTVGLEtBQUs7UUFDckUsSUFBSTZGLCtCQUErQjdGLE1BQU04RixrQkFBa0IsQ0FBQ2xDLGFBQ3hENUQsTUFBTStGLGdCQUFnQixDQUFDbkMsYUFDdkI1RDtRQUNKLElBQUlnRyxpQ0FBaUM7WUFDbkNDLFlBQVlOO1lBQ1ovQixXQUFXQTtRQUNiO1FBQ0EsSUFBSSxPQUFPZ0MsaUJBQWlCLFVBQVU7WUFDcENJLCtCQUErQkosWUFBWSxHQUFHQTtRQUNoRDtRQUNBLE9BQU94RyxXQUNMRixNQUNFLENBQUMsR0FDRFUsZUFBZVMsb0JBQW9CLENBQUN3RiwrQkFDcENHO0lBR047QUFDRjtBQUVBRSxPQUFPQyxPQUFPLEdBQUd2RyIsInNvdXJjZXMiOlsid2VicGFjazovL21lZHVzYS1uZXh0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LWluc3RhbnRzZWFyY2gtaG9va3Mvbm9kZV9tb2R1bGVzL2FsZ29saWFzZWFyY2gtaGVscGVyL3NyYy9yZXF1ZXN0QnVpbGRlci5qcz83MWZmIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIG1lcmdlID0gcmVxdWlyZSgnLi9mdW5jdGlvbnMvbWVyZ2UnKTtcblxuZnVuY3Rpb24gc29ydE9iamVjdChvYmopIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKG9iailcbiAgICAuc29ydCgpXG4gICAgLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBjdXJyKSB7XG4gICAgICBhY2NbY3Vycl0gPSBvYmpbY3Vycl07XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbn1cblxudmFyIHJlcXVlc3RCdWlsZGVyID0ge1xuICAvKipcbiAgICogR2V0IGFsbCB0aGUgcXVlcmllcyB0byBzZW5kIHRvIHRoZSBjbGllbnQsIHRob3NlIHF1ZXJpZXMgY2FuIHVzZWQgZGlyZWN0bHlcbiAgICogd2l0aCB0aGUgQWxnb2xpYSBjbGllbnQuXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSAge3N0cmluZ30gaW5kZXggVGhlIG5hbWUgb2YgdGhlIGluZGV4XG4gICAqIEBwYXJhbSAge1NlYXJjaFBhcmFtZXRlcnN9IHN0YXRlIFRoZSBzdGF0ZSBmcm9tIHdoaWNoIHRvIGdldCB0aGUgcXVlcmllc1xuICAgKiBAcmV0dXJuIHtvYmplY3RbXX0gVGhlIHF1ZXJpZXNcbiAgICovXG4gIF9nZXRRdWVyaWVzOiBmdW5jdGlvbiBnZXRRdWVyaWVzKGluZGV4LCBzdGF0ZSkge1xuICAgIHZhciBxdWVyaWVzID0gW107XG5cbiAgICAvLyBPbmUgcXVlcnkgZm9yIHRoZSBoaXRzXG4gICAgcXVlcmllcy5wdXNoKHtcbiAgICAgIGluZGV4TmFtZTogaW5kZXgsXG4gICAgICBwYXJhbXM6IHJlcXVlc3RCdWlsZGVyLl9nZXRIaXRzU2VhcmNoUGFyYW1zKHN0YXRlKSxcbiAgICB9KTtcblxuICAgIC8vIE9uZSBmb3IgZWFjaCBkaXNqdW5jdGl2ZSBmYWNldHNcbiAgICBzdGF0ZS5nZXRSZWZpbmVkRGlzanVuY3RpdmVGYWNldHMoKS5mb3JFYWNoKGZ1bmN0aW9uIChyZWZpbmVkRmFjZXQpIHtcbiAgICAgIHF1ZXJpZXMucHVzaCh7XG4gICAgICAgIGluZGV4TmFtZTogaW5kZXgsXG4gICAgICAgIHBhcmFtczogcmVxdWVzdEJ1aWxkZXIuX2dldERpc2p1bmN0aXZlRmFjZXRTZWFyY2hQYXJhbXMoXG4gICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgcmVmaW5lZEZhY2V0XG4gICAgICAgICksXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIE1vcmUgdG8gZ2V0IHRoZSBwYXJlbnQgbGV2ZWxzIG9mIHRoZSBoaWVyYXJjaGljYWwgZmFjZXRzIHdoZW4gcmVmaW5lZFxuICAgIHN0YXRlLmdldFJlZmluZWRIaWVyYXJjaGljYWxGYWNldHMoKS5mb3JFYWNoKGZ1bmN0aW9uIChyZWZpbmVkRmFjZXQpIHtcbiAgICAgIHZhciBoaWVyYXJjaGljYWxGYWNldCA9IHN0YXRlLmdldEhpZXJhcmNoaWNhbEZhY2V0QnlOYW1lKHJlZmluZWRGYWNldCk7XG4gICAgICB2YXIgY3VycmVudFJlZmluZW1lbnQgPSBzdGF0ZS5nZXRIaWVyYXJjaGljYWxSZWZpbmVtZW50KHJlZmluZWRGYWNldCk7XG4gICAgICB2YXIgc2VwYXJhdG9yID0gc3RhdGUuX2dldEhpZXJhcmNoaWNhbEZhY2V0U2VwYXJhdG9yKGhpZXJhcmNoaWNhbEZhY2V0KTtcblxuICAgICAgLy8gSWYgd2UgYXJlIGRlZXBlciB0aGFuIGxldmVsIDAgKHN0YXJ0aW5nIGZyb20gYGJlZXIgPiBJUEFgKVxuICAgICAgLy8gd2Ugd2FudCB0byBnZXQgYWxsIHBhcmVudCB2YWx1ZXNcbiAgICAgIGlmIChcbiAgICAgICAgY3VycmVudFJlZmluZW1lbnQubGVuZ3RoID4gMCAmJlxuICAgICAgICBjdXJyZW50UmVmaW5lbWVudFswXS5zcGxpdChzZXBhcmF0b3IpLmxlbmd0aCA+IDFcbiAgICAgICkge1xuICAgICAgICAvLyBXZSBnZW5lcmF0ZSBhIG1hcCBvZiB0aGUgZmlsdGVycyB3ZSB3aWxsIHVzZSBmb3Igb3VyIGZhY2V0IHZhbHVlcyBxdWVyaWVzXG4gICAgICAgIHZhciBmaWx0ZXJzTWFwID0gY3VycmVudFJlZmluZW1lbnRbMF1cbiAgICAgICAgICAuc3BsaXQoc2VwYXJhdG9yKVxuICAgICAgICAgIC5zbGljZSgwLCAtMSlcbiAgICAgICAgICAucmVkdWNlKGZ1bmN0aW9uIGNyZWF0ZUZpbHRlcnNNYXAobWFwLCBzZWdtZW50LCBsZXZlbCkge1xuICAgICAgICAgICAgcmV0dXJuIG1hcC5jb25jYXQoe1xuICAgICAgICAgICAgICBhdHRyaWJ1dGU6IGhpZXJhcmNoaWNhbEZhY2V0LmF0dHJpYnV0ZXNbbGV2ZWxdLFxuICAgICAgICAgICAgICB2YWx1ZTpcbiAgICAgICAgICAgICAgICBsZXZlbCA9PT0gMFxuICAgICAgICAgICAgICAgICAgPyBzZWdtZW50XG4gICAgICAgICAgICAgICAgICA6IFttYXBbbWFwLmxlbmd0aCAtIDFdLnZhbHVlLCBzZWdtZW50XS5qb2luKHNlcGFyYXRvciksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LCBbXSk7XG5cbiAgICAgICAgZmlsdGVyc01hcC5mb3JFYWNoKGZ1bmN0aW9uIChmaWx0ZXIsIGxldmVsKSB7XG4gICAgICAgICAgdmFyIHBhcmFtcyA9IHJlcXVlc3RCdWlsZGVyLl9nZXREaXNqdW5jdGl2ZUZhY2V0U2VhcmNoUGFyYW1zKFxuICAgICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgICBmaWx0ZXIuYXR0cmlidXRlLFxuICAgICAgICAgICAgbGV2ZWwgPT09IDBcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgLy8gS2VlcCBmYWNldCBmaWx0ZXJzIHVucmVsYXRlZCB0byBjdXJyZW50IGhpZXJhcmNoaWNhbCBhdHRyaWJ1dGVzXG4gICAgICAgICAgZnVuY3Rpb24gaGFzSGllcmFyY2hpY2FsRmFjZXRGaWx0ZXIodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBoaWVyYXJjaGljYWxGYWNldC5hdHRyaWJ1dGVzLnNvbWUoZnVuY3Rpb24gKGF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgICByZXR1cm4gYXR0cmlidXRlID09PSB2YWx1ZS5zcGxpdCgnOicpWzBdO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIGZpbHRlcmVkRmFjZXRGaWx0ZXJzID0gKHBhcmFtcy5mYWNldEZpbHRlcnMgfHwgW10pLnJlZHVjZShcbiAgICAgICAgICAgIGZ1bmN0aW9uIChhY2MsIGZhY2V0RmlsdGVyKSB7XG4gICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGZhY2V0RmlsdGVyKSkge1xuICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJlZCA9IGZhY2V0RmlsdGVyLmZpbHRlcihmdW5jdGlvbiAoZmlsdGVyVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAhaGFzSGllcmFyY2hpY2FsRmFjZXRGaWx0ZXIoZmlsdGVyVmFsdWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlcmVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgIGFjYy5wdXNoKGZpbHRlcmVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgdHlwZW9mIGZhY2V0RmlsdGVyID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgICAgICFoYXNIaWVyYXJjaGljYWxGYWNldEZpbHRlcihmYWNldEZpbHRlcilcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgYWNjLnB1c2goZmFjZXRGaWx0ZXIpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbXVxuICAgICAgICAgICk7XG5cbiAgICAgICAgICB2YXIgcGFyZW50ID0gZmlsdGVyc01hcFtsZXZlbCAtIDFdO1xuICAgICAgICAgIGlmIChsZXZlbCA+IDApIHtcbiAgICAgICAgICAgIHBhcmFtcy5mYWNldEZpbHRlcnMgPSBmaWx0ZXJlZEZhY2V0RmlsdGVycy5jb25jYXQoXG4gICAgICAgICAgICAgIHBhcmVudC5hdHRyaWJ1dGUgKyAnOicgKyBwYXJlbnQudmFsdWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcmFtcy5mYWNldEZpbHRlcnMgPVxuICAgICAgICAgICAgICBmaWx0ZXJlZEZhY2V0RmlsdGVycy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgPyBmaWx0ZXJlZEZhY2V0RmlsdGVyc1xuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHF1ZXJpZXMucHVzaCh7IGluZGV4TmFtZTogaW5kZXgsIHBhcmFtczogcGFyYW1zIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBxdWVyaWVzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBCdWlsZCBzZWFyY2ggcGFyYW1ldGVycyB1c2VkIHRvIGZldGNoIGhpdHNcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtICB7U2VhcmNoUGFyYW1ldGVyc30gc3RhdGUgVGhlIHN0YXRlIGZyb20gd2hpY2ggdG8gZ2V0IHRoZSBxdWVyaWVzXG4gICAqIEByZXR1cm4ge29iamVjdC48c3RyaW5nLCBhbnk+fSBUaGUgc2VhcmNoIHBhcmFtZXRlcnMgZm9yIGhpdHNcbiAgICovXG4gIF9nZXRIaXRzU2VhcmNoUGFyYW1zOiBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICB2YXIgZmFjZXRzID0gc3RhdGUuZmFjZXRzXG4gICAgICAuY29uY2F0KHN0YXRlLmRpc2p1bmN0aXZlRmFjZXRzKVxuICAgICAgLmNvbmNhdChyZXF1ZXN0QnVpbGRlci5fZ2V0SGl0c0hpZXJhcmNoaWNhbEZhY2V0c0F0dHJpYnV0ZXMoc3RhdGUpKVxuICAgICAgLnNvcnQoKTtcblxuICAgIHZhciBmYWNldEZpbHRlcnMgPSByZXF1ZXN0QnVpbGRlci5fZ2V0RmFjZXRGaWx0ZXJzKHN0YXRlKTtcbiAgICB2YXIgbnVtZXJpY0ZpbHRlcnMgPSByZXF1ZXN0QnVpbGRlci5fZ2V0TnVtZXJpY0ZpbHRlcnMoc3RhdGUpO1xuICAgIHZhciB0YWdGaWx0ZXJzID0gcmVxdWVzdEJ1aWxkZXIuX2dldFRhZ0ZpbHRlcnMoc3RhdGUpO1xuICAgIHZhciBhZGRpdGlvbmFsUGFyYW1zID0ge1xuICAgICAgZmFjZXRzOiBmYWNldHMuaW5kZXhPZignKicpID4gLTEgPyBbJyonXSA6IGZhY2V0cyxcbiAgICAgIHRhZ0ZpbHRlcnM6IHRhZ0ZpbHRlcnMsXG4gICAgfTtcblxuICAgIGlmIChmYWNldEZpbHRlcnMubGVuZ3RoID4gMCkge1xuICAgICAgYWRkaXRpb25hbFBhcmFtcy5mYWNldEZpbHRlcnMgPSBmYWNldEZpbHRlcnM7XG4gICAgfVxuXG4gICAgaWYgKG51bWVyaWNGaWx0ZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgIGFkZGl0aW9uYWxQYXJhbXMubnVtZXJpY0ZpbHRlcnMgPSBudW1lcmljRmlsdGVycztcbiAgICB9XG5cbiAgICByZXR1cm4gc29ydE9iamVjdChtZXJnZSh7fSwgc3RhdGUuZ2V0UXVlcnlQYXJhbXMoKSwgYWRkaXRpb25hbFBhcmFtcykpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBCdWlsZCBzZWFyY2ggcGFyYW1ldGVycyB1c2VkIHRvIGZldGNoIGEgZGlzanVuY3RpdmUgZmFjZXRcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtICB7U2VhcmNoUGFyYW1ldGVyc30gc3RhdGUgVGhlIHN0YXRlIGZyb20gd2hpY2ggdG8gZ2V0IHRoZSBxdWVyaWVzXG4gICAqIEBwYXJhbSAge3N0cmluZ30gZmFjZXQgdGhlIGFzc29jaWF0ZWQgZmFjZXQgbmFtZVxuICAgKiBAcGFyYW0gIHtib29sZWFufSBoaWVyYXJjaGljYWxSb290TGV2ZWwgPz8gRklYTUVcbiAgICogQHJldHVybiB7b2JqZWN0fSBUaGUgc2VhcmNoIHBhcmFtZXRlcnMgZm9yIGEgZGlzanVuY3RpdmUgZmFjZXRcbiAgICovXG4gIF9nZXREaXNqdW5jdGl2ZUZhY2V0U2VhcmNoUGFyYW1zOiBmdW5jdGlvbiAoXG4gICAgc3RhdGUsXG4gICAgZmFjZXQsXG4gICAgaGllcmFyY2hpY2FsUm9vdExldmVsXG4gICkge1xuICAgIHZhciBmYWNldEZpbHRlcnMgPSByZXF1ZXN0QnVpbGRlci5fZ2V0RmFjZXRGaWx0ZXJzKFxuICAgICAgc3RhdGUsXG4gICAgICBmYWNldCxcbiAgICAgIGhpZXJhcmNoaWNhbFJvb3RMZXZlbFxuICAgICk7XG4gICAgdmFyIG51bWVyaWNGaWx0ZXJzID0gcmVxdWVzdEJ1aWxkZXIuX2dldE51bWVyaWNGaWx0ZXJzKHN0YXRlLCBmYWNldCk7XG4gICAgdmFyIHRhZ0ZpbHRlcnMgPSByZXF1ZXN0QnVpbGRlci5fZ2V0VGFnRmlsdGVycyhzdGF0ZSk7XG4gICAgdmFyIGFkZGl0aW9uYWxQYXJhbXMgPSB7XG4gICAgICBoaXRzUGVyUGFnZTogMCxcbiAgICAgIHBhZ2U6IDAsXG4gICAgICBhbmFseXRpY3M6IGZhbHNlLFxuICAgICAgY2xpY2tBbmFseXRpY3M6IGZhbHNlLFxuICAgIH07XG5cbiAgICBpZiAodGFnRmlsdGVycy5sZW5ndGggPiAwKSB7XG4gICAgICBhZGRpdGlvbmFsUGFyYW1zLnRhZ0ZpbHRlcnMgPSB0YWdGaWx0ZXJzO1xuICAgIH1cblxuICAgIHZhciBoaWVyYXJjaGljYWxGYWNldCA9IHN0YXRlLmdldEhpZXJhcmNoaWNhbEZhY2V0QnlOYW1lKGZhY2V0KTtcblxuICAgIGlmIChoaWVyYXJjaGljYWxGYWNldCkge1xuICAgICAgYWRkaXRpb25hbFBhcmFtcy5mYWNldHMgPVxuICAgICAgICByZXF1ZXN0QnVpbGRlci5fZ2V0RGlzanVuY3RpdmVIaWVyYXJjaGljYWxGYWNldEF0dHJpYnV0ZShcbiAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICBoaWVyYXJjaGljYWxGYWNldCxcbiAgICAgICAgICBoaWVyYXJjaGljYWxSb290TGV2ZWxcbiAgICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWRkaXRpb25hbFBhcmFtcy5mYWNldHMgPSBmYWNldDtcbiAgICB9XG5cbiAgICBpZiAobnVtZXJpY0ZpbHRlcnMubGVuZ3RoID4gMCkge1xuICAgICAgYWRkaXRpb25hbFBhcmFtcy5udW1lcmljRmlsdGVycyA9IG51bWVyaWNGaWx0ZXJzO1xuICAgIH1cblxuICAgIGlmIChmYWNldEZpbHRlcnMubGVuZ3RoID4gMCkge1xuICAgICAgYWRkaXRpb25hbFBhcmFtcy5mYWNldEZpbHRlcnMgPSBmYWNldEZpbHRlcnM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNvcnRPYmplY3QobWVyZ2Uoe30sIHN0YXRlLmdldFF1ZXJ5UGFyYW1zKCksIGFkZGl0aW9uYWxQYXJhbXMpKTtcbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBudW1lcmljIGZpbHRlcnMgaW4gYW4gYWxnb2xpYSByZXF1ZXN0IGZhc2hpb25cbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtTZWFyY2hQYXJhbWV0ZXJzfSBzdGF0ZSB0aGUgc3RhdGUgZnJvbSB3aGljaCB0byBnZXQgdGhlIGZpbHRlcnNcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtmYWNldE5hbWVdIHRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgZm9yIHdoaWNoIHRoZSBmaWx0ZXJzIHNob3VsZCBiZSBleGNsdWRlZFxuICAgKiBAcmV0dXJuIHtzdHJpbmdbXX0gdGhlIG51bWVyaWMgZmlsdGVycyBpbiB0aGUgYWxnb2xpYSBmb3JtYXRcbiAgICovXG4gIF9nZXROdW1lcmljRmlsdGVyczogZnVuY3Rpb24gKHN0YXRlLCBmYWNldE5hbWUpIHtcbiAgICBpZiAoc3RhdGUubnVtZXJpY0ZpbHRlcnMpIHtcbiAgICAgIHJldHVybiBzdGF0ZS5udW1lcmljRmlsdGVycztcbiAgICB9XG5cbiAgICB2YXIgbnVtZXJpY0ZpbHRlcnMgPSBbXTtcblxuICAgIE9iamVjdC5rZXlzKHN0YXRlLm51bWVyaWNSZWZpbmVtZW50cykuZm9yRWFjaChmdW5jdGlvbiAoYXR0cmlidXRlKSB7XG4gICAgICB2YXIgb3BlcmF0b3JzID0gc3RhdGUubnVtZXJpY1JlZmluZW1lbnRzW2F0dHJpYnV0ZV0gfHwge307XG4gICAgICBPYmplY3Qua2V5cyhvcGVyYXRvcnMpLmZvckVhY2goZnVuY3Rpb24gKG9wZXJhdG9yKSB7XG4gICAgICAgIHZhciB2YWx1ZXMgPSBvcGVyYXRvcnNbb3BlcmF0b3JdIHx8IFtdO1xuICAgICAgICBpZiAoZmFjZXROYW1lICE9PSBhdHRyaWJ1dGUpIHtcbiAgICAgICAgICB2YWx1ZXMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICB2YXIgdnMgPSB2YWx1ZS5tYXAoZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXR0cmlidXRlICsgb3BlcmF0b3IgKyB2O1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgbnVtZXJpY0ZpbHRlcnMucHVzaCh2cyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBudW1lcmljRmlsdGVycy5wdXNoKGF0dHJpYnV0ZSArIG9wZXJhdG9yICsgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHJldHVybiBudW1lcmljRmlsdGVycztcbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJuIHRoZSB0YWdzIGZpbHRlcnMgZGVwZW5kaW5nIG9uIHdoaWNoIGZvcm1hdCBpcyB1c2VkLCBlaXRoZXIgdGFnRmlsdGVycyBvciB0YWdSZWZpbmVtZW50c1xuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1NlYXJjaFBhcmFtZXRlcnN9IHN0YXRlIHRoZSBzdGF0ZSBmcm9tIHdoaWNoIHRvIGdldCB0aGUgZmlsdGVyc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRhZyBmaWx0ZXJzIGluIGEgc2luZ2xlIHN0cmluZ1xuICAgKi9cbiAgX2dldFRhZ0ZpbHRlcnM6IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIGlmIChzdGF0ZS50YWdGaWx0ZXJzKSB7XG4gICAgICByZXR1cm4gc3RhdGUudGFnRmlsdGVycztcbiAgICB9XG5cbiAgICByZXR1cm4gc3RhdGUudGFnUmVmaW5lbWVudHMuam9pbignLCcpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBCdWlsZCBmYWNldEZpbHRlcnMgcGFyYW1ldGVyIGJhc2VkIG9uIGN1cnJlbnQgcmVmaW5lbWVudHMuIFRoZSBhcnJheSByZXR1cm5lZFxuICAgKiBjb250YWlucyBzdHJpbmdzIHJlcHJlc2VudGluZyB0aGUgZmFjZXQgZmlsdGVycyBpbiB0aGUgYWxnb2xpYSBmb3JtYXQuXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSAge1NlYXJjaFBhcmFtZXRlcnN9IHN0YXRlIFRoZSBzdGF0ZSBmcm9tIHdoaWNoIHRvIGdldCB0aGUgcXVlcmllc1xuICAgKiBAcGFyYW0gIHtzdHJpbmd9IFtmYWNldF0gaWYgc2V0LCB0aGUgY3VycmVudCBkaXNqdW5jdGl2ZSBmYWNldFxuICAgKiBAcGFyYW0gIHtib29sZWFufSBbaGllcmFyY2hpY2FsUm9vdExldmVsXSA/PyBGSVhNRVxuICAgKiBAcmV0dXJuIHthcnJheS48c3RyaW5nPn0gVGhlIGZhY2V0IGZpbHRlcnMgaW4gdGhlIGFsZ29saWEgZm9ybWF0XG4gICAqL1xuICBfZ2V0RmFjZXRGaWx0ZXJzOiBmdW5jdGlvbiAoc3RhdGUsIGZhY2V0LCBoaWVyYXJjaGljYWxSb290TGV2ZWwpIHtcbiAgICB2YXIgZmFjZXRGaWx0ZXJzID0gW107XG5cbiAgICB2YXIgZmFjZXRzUmVmaW5lbWVudHMgPSBzdGF0ZS5mYWNldHNSZWZpbmVtZW50cyB8fCB7fTtcbiAgICBPYmplY3Qua2V5cyhmYWNldHNSZWZpbmVtZW50cylcbiAgICAgIC5zb3J0KClcbiAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChmYWNldE5hbWUpIHtcbiAgICAgICAgdmFyIGZhY2V0VmFsdWVzID0gZmFjZXRzUmVmaW5lbWVudHNbZmFjZXROYW1lXSB8fCBbXTtcbiAgICAgICAgZmFjZXRWYWx1ZXMuc29ydCgpLmZvckVhY2goZnVuY3Rpb24gKGZhY2V0VmFsdWUpIHtcbiAgICAgICAgICBmYWNldEZpbHRlcnMucHVzaChmYWNldE5hbWUgKyAnOicgKyBmYWNldFZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgIHZhciBmYWNldHNFeGNsdWRlcyA9IHN0YXRlLmZhY2V0c0V4Y2x1ZGVzIHx8IHt9O1xuICAgIE9iamVjdC5rZXlzKGZhY2V0c0V4Y2x1ZGVzKVxuICAgICAgLnNvcnQoKVxuICAgICAgLmZvckVhY2goZnVuY3Rpb24gKGZhY2V0TmFtZSkge1xuICAgICAgICB2YXIgZmFjZXRWYWx1ZXMgPSBmYWNldHNFeGNsdWRlc1tmYWNldE5hbWVdIHx8IFtdO1xuICAgICAgICBmYWNldFZhbHVlcy5zb3J0KCkuZm9yRWFjaChmdW5jdGlvbiAoZmFjZXRWYWx1ZSkge1xuICAgICAgICAgIGZhY2V0RmlsdGVycy5wdXNoKGZhY2V0TmFtZSArICc6LScgKyBmYWNldFZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgIHZhciBkaXNqdW5jdGl2ZUZhY2V0c1JlZmluZW1lbnRzID0gc3RhdGUuZGlzanVuY3RpdmVGYWNldHNSZWZpbmVtZW50cyB8fCB7fTtcbiAgICBPYmplY3Qua2V5cyhkaXNqdW5jdGl2ZUZhY2V0c1JlZmluZW1lbnRzKVxuICAgICAgLnNvcnQoKVxuICAgICAgLmZvckVhY2goZnVuY3Rpb24gKGZhY2V0TmFtZSkge1xuICAgICAgICB2YXIgZmFjZXRWYWx1ZXMgPSBkaXNqdW5jdGl2ZUZhY2V0c1JlZmluZW1lbnRzW2ZhY2V0TmFtZV0gfHwgW107XG4gICAgICAgIGlmIChmYWNldE5hbWUgPT09IGZhY2V0IHx8ICFmYWNldFZhbHVlcyB8fCBmYWNldFZhbHVlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG9yRmlsdGVycyA9IFtdO1xuXG4gICAgICAgIGZhY2V0VmFsdWVzLnNvcnQoKS5mb3JFYWNoKGZ1bmN0aW9uIChmYWNldFZhbHVlKSB7XG4gICAgICAgICAgb3JGaWx0ZXJzLnB1c2goZmFjZXROYW1lICsgJzonICsgZmFjZXRWYWx1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZhY2V0RmlsdGVycy5wdXNoKG9yRmlsdGVycyk7XG4gICAgICB9KTtcblxuICAgIHZhciBoaWVyYXJjaGljYWxGYWNldHNSZWZpbmVtZW50cyA9XG4gICAgICBzdGF0ZS5oaWVyYXJjaGljYWxGYWNldHNSZWZpbmVtZW50cyB8fCB7fTtcbiAgICBPYmplY3Qua2V5cyhoaWVyYXJjaGljYWxGYWNldHNSZWZpbmVtZW50cylcbiAgICAgIC5zb3J0KClcbiAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChmYWNldE5hbWUpIHtcbiAgICAgICAgdmFyIGZhY2V0VmFsdWVzID0gaGllcmFyY2hpY2FsRmFjZXRzUmVmaW5lbWVudHNbZmFjZXROYW1lXSB8fCBbXTtcbiAgICAgICAgdmFyIGZhY2V0VmFsdWUgPSBmYWNldFZhbHVlc1swXTtcblxuICAgICAgICBpZiAoZmFjZXRWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGhpZXJhcmNoaWNhbEZhY2V0ID0gc3RhdGUuZ2V0SGllcmFyY2hpY2FsRmFjZXRCeU5hbWUoZmFjZXROYW1lKTtcbiAgICAgICAgdmFyIHNlcGFyYXRvciA9IHN0YXRlLl9nZXRIaWVyYXJjaGljYWxGYWNldFNlcGFyYXRvcihoaWVyYXJjaGljYWxGYWNldCk7XG4gICAgICAgIHZhciByb290UGF0aCA9IHN0YXRlLl9nZXRIaWVyYXJjaGljYWxSb290UGF0aChoaWVyYXJjaGljYWxGYWNldCk7XG4gICAgICAgIHZhciBhdHRyaWJ1dGVUb1JlZmluZTtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZXNJbmRleDtcblxuICAgICAgICAvLyB3ZSBhc2sgZm9yIHBhcmVudCBmYWNldCB2YWx1ZXMgb25seSB3aGVuIHRoZSBgZmFjZXRgIGlzIHRoZSBjdXJyZW50IGhpZXJhcmNoaWNhbCBmYWNldFxuICAgICAgICBpZiAoZmFjZXQgPT09IGZhY2V0TmFtZSkge1xuICAgICAgICAgIC8vIGlmIHdlIGFyZSBhdCB0aGUgcm9vdCBsZXZlbCBhbHJlYWR5LCBubyBuZWVkIHRvIGFzayBmb3IgZmFjZXQgdmFsdWVzLCB3ZSBnZXQgdGhlbSBmcm9tXG4gICAgICAgICAgLy8gdGhlIGhpdHMgcXVlcnlcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBmYWNldFZhbHVlLmluZGV4T2Yoc2VwYXJhdG9yKSA9PT0gLTEgfHxcbiAgICAgICAgICAgICghcm9vdFBhdGggJiYgaGllcmFyY2hpY2FsUm9vdExldmVsID09PSB0cnVlKSB8fFxuICAgICAgICAgICAgKHJvb3RQYXRoICYmXG4gICAgICAgICAgICAgIHJvb3RQYXRoLnNwbGl0KHNlcGFyYXRvcikubGVuZ3RoID09PVxuICAgICAgICAgICAgICAgIGZhY2V0VmFsdWUuc3BsaXQoc2VwYXJhdG9yKS5sZW5ndGgpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFyb290UGF0aCkge1xuICAgICAgICAgICAgYXR0cmlidXRlc0luZGV4ID0gZmFjZXRWYWx1ZS5zcGxpdChzZXBhcmF0b3IpLmxlbmd0aCAtIDI7XG4gICAgICAgICAgICBmYWNldFZhbHVlID0gZmFjZXRWYWx1ZS5zbGljZSgwLCBmYWNldFZhbHVlLmxhc3RJbmRleE9mKHNlcGFyYXRvcikpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzSW5kZXggPSByb290UGF0aC5zcGxpdChzZXBhcmF0b3IpLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICBmYWNldFZhbHVlID0gcm9vdFBhdGg7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYXR0cmlidXRlVG9SZWZpbmUgPSBoaWVyYXJjaGljYWxGYWNldC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZXNJbmRleF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXR0cmlidXRlc0luZGV4ID0gZmFjZXRWYWx1ZS5zcGxpdChzZXBhcmF0b3IpLmxlbmd0aCAtIDE7XG5cbiAgICAgICAgICBhdHRyaWJ1dGVUb1JlZmluZSA9IGhpZXJhcmNoaWNhbEZhY2V0LmF0dHJpYnV0ZXNbYXR0cmlidXRlc0luZGV4XTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhdHRyaWJ1dGVUb1JlZmluZSkge1xuICAgICAgICAgIGZhY2V0RmlsdGVycy5wdXNoKFthdHRyaWJ1dGVUb1JlZmluZSArICc6JyArIGZhY2V0VmFsdWVdKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICByZXR1cm4gZmFjZXRGaWx0ZXJzO1xuICB9LFxuXG4gIF9nZXRIaXRzSGllcmFyY2hpY2FsRmFjZXRzQXR0cmlidXRlczogZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgdmFyIG91dCA9IFtdO1xuXG4gICAgcmV0dXJuIHN0YXRlLmhpZXJhcmNoaWNhbEZhY2V0cy5yZWR1Y2UoXG4gICAgICAvLyBhc2sgZm9yIGFzIG11Y2ggbGV2ZWxzIGFzIHRoZXJlJ3MgaGllcmFyY2hpY2FsIHJlZmluZW1lbnRzXG4gICAgICBmdW5jdGlvbiBnZXRIaXRzQXR0cmlidXRlc0ZvckhpZXJhcmNoaWNhbEZhY2V0KFxuICAgICAgICBhbGxBdHRyaWJ1dGVzLFxuICAgICAgICBoaWVyYXJjaGljYWxGYWNldFxuICAgICAgKSB7XG4gICAgICAgIHZhciBoaWVyYXJjaGljYWxSZWZpbmVtZW50ID0gc3RhdGUuZ2V0SGllcmFyY2hpY2FsUmVmaW5lbWVudChcbiAgICAgICAgICBoaWVyYXJjaGljYWxGYWNldC5uYW1lXG4gICAgICAgIClbMF07XG5cbiAgICAgICAgLy8gaWYgbm8gcmVmaW5lbWVudCwgYXNrIGZvciByb290IGxldmVsXG4gICAgICAgIGlmICghaGllcmFyY2hpY2FsUmVmaW5lbWVudCkge1xuICAgICAgICAgIGFsbEF0dHJpYnV0ZXMucHVzaChoaWVyYXJjaGljYWxGYWNldC5hdHRyaWJ1dGVzWzBdKTtcbiAgICAgICAgICByZXR1cm4gYWxsQXR0cmlidXRlcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzZXBhcmF0b3IgPSBzdGF0ZS5fZ2V0SGllcmFyY2hpY2FsRmFjZXRTZXBhcmF0b3IoaGllcmFyY2hpY2FsRmFjZXQpO1xuICAgICAgICB2YXIgbGV2ZWwgPSBoaWVyYXJjaGljYWxSZWZpbmVtZW50LnNwbGl0KHNlcGFyYXRvcikubGVuZ3RoO1xuICAgICAgICB2YXIgbmV3QXR0cmlidXRlcyA9IGhpZXJhcmNoaWNhbEZhY2V0LmF0dHJpYnV0ZXMuc2xpY2UoMCwgbGV2ZWwgKyAxKTtcblxuICAgICAgICByZXR1cm4gYWxsQXR0cmlidXRlcy5jb25jYXQobmV3QXR0cmlidXRlcyk7XG4gICAgICB9LFxuICAgICAgb3V0XG4gICAgKTtcbiAgfSxcblxuICBfZ2V0RGlzanVuY3RpdmVIaWVyYXJjaGljYWxGYWNldEF0dHJpYnV0ZTogZnVuY3Rpb24gKFxuICAgIHN0YXRlLFxuICAgIGhpZXJhcmNoaWNhbEZhY2V0LFxuICAgIHJvb3RMZXZlbFxuICApIHtcbiAgICB2YXIgc2VwYXJhdG9yID0gc3RhdGUuX2dldEhpZXJhcmNoaWNhbEZhY2V0U2VwYXJhdG9yKGhpZXJhcmNoaWNhbEZhY2V0KTtcbiAgICBpZiAocm9vdExldmVsID09PSB0cnVlKSB7XG4gICAgICB2YXIgcm9vdFBhdGggPSBzdGF0ZS5fZ2V0SGllcmFyY2hpY2FsUm9vdFBhdGgoaGllcmFyY2hpY2FsRmFjZXQpO1xuICAgICAgdmFyIGF0dHJpYnV0ZUluZGV4ID0gMDtcblxuICAgICAgaWYgKHJvb3RQYXRoKSB7XG4gICAgICAgIGF0dHJpYnV0ZUluZGV4ID0gcm9vdFBhdGguc3BsaXQoc2VwYXJhdG9yKS5sZW5ndGg7XG4gICAgICB9XG4gICAgICByZXR1cm4gW2hpZXJhcmNoaWNhbEZhY2V0LmF0dHJpYnV0ZXNbYXR0cmlidXRlSW5kZXhdXTtcbiAgICB9XG5cbiAgICB2YXIgaGllcmFyY2hpY2FsUmVmaW5lbWVudCA9XG4gICAgICBzdGF0ZS5nZXRIaWVyYXJjaGljYWxSZWZpbmVtZW50KGhpZXJhcmNoaWNhbEZhY2V0Lm5hbWUpWzBdIHx8ICcnO1xuICAgIC8vIGlmIHJlZmluZW1lbnQgaXMgJ2JlZXJzID4gSVBBID4gRmx5aW5nIGRvZycsXG4gICAgLy8gdGhlbiB3ZSB3YW50IGBmYWNldHM6IFsnYmVlcnMgPiBJUEEnXWAgYXMgZGlzanVuY3RpdmUgZmFjZXQgKHBhcmVudCBsZXZlbCB2YWx1ZXMpXG5cbiAgICB2YXIgcGFyZW50TGV2ZWwgPSBoaWVyYXJjaGljYWxSZWZpbmVtZW50LnNwbGl0KHNlcGFyYXRvcikubGVuZ3RoIC0gMTtcbiAgICByZXR1cm4gaGllcmFyY2hpY2FsRmFjZXQuYXR0cmlidXRlcy5zbGljZSgwLCBwYXJlbnRMZXZlbCArIDEpO1xuICB9LFxuXG4gIGdldFNlYXJjaEZvckZhY2V0UXVlcnk6IGZ1bmN0aW9uIChmYWNldE5hbWUsIHF1ZXJ5LCBtYXhGYWNldEhpdHMsIHN0YXRlKSB7XG4gICAgdmFyIHN0YXRlRm9yU2VhcmNoRm9yRmFjZXRWYWx1ZXMgPSBzdGF0ZS5pc0Rpc2p1bmN0aXZlRmFjZXQoZmFjZXROYW1lKVxuICAgICAgPyBzdGF0ZS5jbGVhclJlZmluZW1lbnRzKGZhY2V0TmFtZSlcbiAgICAgIDogc3RhdGU7XG4gICAgdmFyIHNlYXJjaEZvckZhY2V0U2VhcmNoUGFyYW1ldGVycyA9IHtcbiAgICAgIGZhY2V0UXVlcnk6IHF1ZXJ5LFxuICAgICAgZmFjZXROYW1lOiBmYWNldE5hbWUsXG4gICAgfTtcbiAgICBpZiAodHlwZW9mIG1heEZhY2V0SGl0cyA9PT0gJ251bWJlcicpIHtcbiAgICAgIHNlYXJjaEZvckZhY2V0U2VhcmNoUGFyYW1ldGVycy5tYXhGYWNldEhpdHMgPSBtYXhGYWNldEhpdHM7XG4gICAgfVxuICAgIHJldHVybiBzb3J0T2JqZWN0KFxuICAgICAgbWVyZ2UoXG4gICAgICAgIHt9LFxuICAgICAgICByZXF1ZXN0QnVpbGRlci5fZ2V0SGl0c1NlYXJjaFBhcmFtcyhzdGF0ZUZvclNlYXJjaEZvckZhY2V0VmFsdWVzKSxcbiAgICAgICAgc2VhcmNoRm9yRmFjZXRTZWFyY2hQYXJhbWV0ZXJzXG4gICAgICApXG4gICAgKTtcbiAgfSxcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWVzdEJ1aWxkZXI7XG4iXSwibmFtZXMiOlsibWVyZ2UiLCJyZXF1aXJlIiwic29ydE9iamVjdCIsIm9iaiIsIk9iamVjdCIsImtleXMiLCJzb3J0IiwicmVkdWNlIiwiYWNjIiwiY3VyciIsInJlcXVlc3RCdWlsZGVyIiwiX2dldFF1ZXJpZXMiLCJnZXRRdWVyaWVzIiwiaW5kZXgiLCJzdGF0ZSIsInF1ZXJpZXMiLCJwdXNoIiwiaW5kZXhOYW1lIiwicGFyYW1zIiwiX2dldEhpdHNTZWFyY2hQYXJhbXMiLCJnZXRSZWZpbmVkRGlzanVuY3RpdmVGYWNldHMiLCJmb3JFYWNoIiwicmVmaW5lZEZhY2V0IiwiX2dldERpc2p1bmN0aXZlRmFjZXRTZWFyY2hQYXJhbXMiLCJnZXRSZWZpbmVkSGllcmFyY2hpY2FsRmFjZXRzIiwiaGllcmFyY2hpY2FsRmFjZXQiLCJnZXRIaWVyYXJjaGljYWxGYWNldEJ5TmFtZSIsImN1cnJlbnRSZWZpbmVtZW50IiwiZ2V0SGllcmFyY2hpY2FsUmVmaW5lbWVudCIsInNlcGFyYXRvciIsIl9nZXRIaWVyYXJjaGljYWxGYWNldFNlcGFyYXRvciIsImxlbmd0aCIsInNwbGl0IiwiZmlsdGVyc01hcCIsInNsaWNlIiwiY3JlYXRlRmlsdGVyc01hcCIsIm1hcCIsInNlZ21lbnQiLCJsZXZlbCIsImNvbmNhdCIsImF0dHJpYnV0ZSIsImF0dHJpYnV0ZXMiLCJ2YWx1ZSIsImpvaW4iLCJmaWx0ZXIiLCJoYXNIaWVyYXJjaGljYWxGYWNldEZpbHRlciIsInNvbWUiLCJmaWx0ZXJlZEZhY2V0RmlsdGVycyIsImZhY2V0RmlsdGVycyIsImZhY2V0RmlsdGVyIiwiQXJyYXkiLCJpc0FycmF5IiwiZmlsdGVyZWQiLCJmaWx0ZXJWYWx1ZSIsInBhcmVudCIsInVuZGVmaW5lZCIsImZhY2V0cyIsImRpc2p1bmN0aXZlRmFjZXRzIiwiX2dldEhpdHNIaWVyYXJjaGljYWxGYWNldHNBdHRyaWJ1dGVzIiwiX2dldEZhY2V0RmlsdGVycyIsIm51bWVyaWNGaWx0ZXJzIiwiX2dldE51bWVyaWNGaWx0ZXJzIiwidGFnRmlsdGVycyIsIl9nZXRUYWdGaWx0ZXJzIiwiYWRkaXRpb25hbFBhcmFtcyIsImluZGV4T2YiLCJnZXRRdWVyeVBhcmFtcyIsImZhY2V0IiwiaGllcmFyY2hpY2FsUm9vdExldmVsIiwiaGl0c1BlclBhZ2UiLCJwYWdlIiwiYW5hbHl0aWNzIiwiY2xpY2tBbmFseXRpY3MiLCJfZ2V0RGlzanVuY3RpdmVIaWVyYXJjaGljYWxGYWNldEF0dHJpYnV0ZSIsImZhY2V0TmFtZSIsIm51bWVyaWNSZWZpbmVtZW50cyIsIm9wZXJhdG9ycyIsIm9wZXJhdG9yIiwidmFsdWVzIiwidnMiLCJ2IiwidGFnUmVmaW5lbWVudHMiLCJmYWNldHNSZWZpbmVtZW50cyIsImZhY2V0VmFsdWVzIiwiZmFjZXRWYWx1ZSIsImZhY2V0c0V4Y2x1ZGVzIiwiZGlzanVuY3RpdmVGYWNldHNSZWZpbmVtZW50cyIsIm9yRmlsdGVycyIsImhpZXJhcmNoaWNhbEZhY2V0c1JlZmluZW1lbnRzIiwicm9vdFBhdGgiLCJfZ2V0SGllcmFyY2hpY2FsUm9vdFBhdGgiLCJhdHRyaWJ1dGVUb1JlZmluZSIsImF0dHJpYnV0ZXNJbmRleCIsImxhc3RJbmRleE9mIiwib3V0IiwiaGllcmFyY2hpY2FsRmFjZXRzIiwiZ2V0SGl0c0F0dHJpYnV0ZXNGb3JIaWVyYXJjaGljYWxGYWNldCIsImFsbEF0dHJpYnV0ZXMiLCJoaWVyYXJjaGljYWxSZWZpbmVtZW50IiwibmFtZSIsIm5ld0F0dHJpYnV0ZXMiLCJyb290TGV2ZWwiLCJhdHRyaWJ1dGVJbmRleCIsInBhcmVudExldmVsIiwiZ2V0U2VhcmNoRm9yRmFjZXRRdWVyeSIsInF1ZXJ5IiwibWF4RmFjZXRIaXRzIiwic3RhdGVGb3JTZWFyY2hGb3JGYWNldFZhbHVlcyIsImlzRGlzanVuY3RpdmVGYWNldCIsImNsZWFyUmVmaW5lbWVudHMiLCJzZWFyY2hGb3JGYWNldFNlYXJjaFBhcmFtZXRlcnMiLCJmYWNldFF1ZXJ5IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/requestBuilder.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/utils/isValidUserToken.js":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/utils/isValidUserToken.js ***!
  \****************************************************************************************************************/
/***/ ((module) => {

eval("\nmodule.exports = function isValidUserToken(userToken) {\n    if (userToken === null) {\n        return false;\n    }\n    return /^[a-zA-Z0-9_-]{1,64}$/.test(userToken);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9ub2RlX21vZHVsZXMvYWxnb2xpYXNlYXJjaC1oZWxwZXIvc3JjL3V0aWxzL2lzVmFsaWRVc2VyVG9rZW4uanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFFQUEsT0FBT0MsT0FBTyxHQUFHLFNBQVNDLGlCQUFpQkMsU0FBUztJQUNsRCxJQUFJQSxjQUFjLE1BQU07UUFDdEIsT0FBTztJQUNUO0lBQ0EsT0FBTyx3QkFBd0JDLElBQUksQ0FBQ0Q7QUFDdEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZWR1c2EtbmV4dC8uL25vZGVfbW9kdWxlcy9yZWFjdC1pbnN0YW50c2VhcmNoLWhvb2tzL25vZGVfbW9kdWxlcy9hbGdvbGlhc2VhcmNoLWhlbHBlci9zcmMvdXRpbHMvaXNWYWxpZFVzZXJUb2tlbi5qcz83NTY3Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc1ZhbGlkVXNlclRva2VuKHVzZXJUb2tlbikge1xuICBpZiAodXNlclRva2VuID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiAvXlthLXpBLVowLTlfLV17MSw2NH0kLy50ZXN0KHVzZXJUb2tlbik7XG59O1xuIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJpc1ZhbGlkVXNlclRva2VuIiwidXNlclRva2VuIiwidGVzdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/utils/isValidUserToken.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/version.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/version.js ***!
  \*************************************************************************************************/
/***/ ((module) => {

eval("\nmodule.exports = \"3.14.0\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9ub2RlX21vZHVsZXMvYWxnb2xpYXNlYXJjaC1oZWxwZXIvc3JjL3ZlcnNpb24uanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFFQUEsT0FBT0MsT0FBTyxHQUFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVkdXNhLW5leHQvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9ub2RlX21vZHVsZXMvYWxnb2xpYXNlYXJjaC1oZWxwZXIvc3JjL3ZlcnNpb24uanM/MzY1ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gJzMuMTQuMCc7XG4iXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/src/version.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/dist/es/components/InstantSearch.js":
/*!************************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/dist/es/components/InstantSearch.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InstantSearch: () => (/* binding */ InstantSearch)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _lib_IndexContext_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/IndexContext.js */ \"(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/IndexContext.js\");\n/* harmony import */ var _lib_InstantSearchContext_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/InstantSearchContext.js */ \"(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/InstantSearchContext.js\");\n/* harmony import */ var _lib_useInstantSearchApi_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/useInstantSearchApi.js */ \"(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/useInstantSearchApi.js\");\nvar _excluded = [\n    \"children\"\n];\nfunction _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n    var target = _objectWithoutPropertiesLoose(source, excluded);\n    var key, i;\n    if (Object.getOwnPropertySymbols) {\n        var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n        for(i = 0; i < sourceSymbolKeys.length; i++){\n            key = sourceSymbolKeys[i];\n            if (excluded.indexOf(key) >= 0) continue;\n            if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n            target[key] = source[key];\n        }\n    }\n    return target;\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n    for(i = 0; i < sourceKeys.length; i++){\n        key = sourceKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        target[key] = source[key];\n    }\n    return target;\n}\n\n\n\n\nfunction InstantSearch(_ref) {\n    var children = _ref.children, props = _objectWithoutProperties(_ref, _excluded);\n    var search = (0,_lib_useInstantSearchApi_js__WEBPACK_IMPORTED_MODULE_1__.useInstantSearchApi)(props);\n    if (!search.started) {\n        return null;\n    }\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_lib_InstantSearchContext_js__WEBPACK_IMPORTED_MODULE_2__.InstantSearchContext.Provider, {\n        value: search\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_lib_IndexContext_js__WEBPACK_IMPORTED_MODULE_3__.IndexContext.Provider, {\n        value: search.mainIndex\n    }, children));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9kaXN0L2VzL2NvbXBvbmVudHMvSW5zdGFudFNlYXJjaC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLElBQUlBLFlBQVk7SUFBQztDQUFXO0FBQzVCLFNBQVNDLHlCQUF5QkMsTUFBTSxFQUFFQyxRQUFRO0lBQUksSUFBSUQsVUFBVSxNQUFNLE9BQU8sQ0FBQztJQUFHLElBQUlFLFNBQVNDLDhCQUE4QkgsUUFBUUM7SUFBVyxJQUFJRyxLQUFLQztJQUFHLElBQUlDLE9BQU9DLHFCQUFxQixFQUFFO1FBQUUsSUFBSUMsbUJBQW1CRixPQUFPQyxxQkFBcUIsQ0FBQ1A7UUFBUyxJQUFLSyxJQUFJLEdBQUdBLElBQUlHLGlCQUFpQkMsTUFBTSxFQUFFSixJQUFLO1lBQUVELE1BQU1JLGdCQUFnQixDQUFDSCxFQUFFO1lBQUUsSUFBSUosU0FBU1MsT0FBTyxDQUFDTixRQUFRLEdBQUc7WUFBVSxJQUFJLENBQUNFLE9BQU9LLFNBQVMsQ0FBQ0Msb0JBQW9CLENBQUNDLElBQUksQ0FBQ2IsUUFBUUksTUFBTTtZQUFVRixNQUFNLENBQUNFLElBQUksR0FBR0osTUFBTSxDQUFDSSxJQUFJO1FBQUU7SUFBRTtJQUFFLE9BQU9GO0FBQVE7QUFDM2UsU0FBU0MsOEJBQThCSCxNQUFNLEVBQUVDLFFBQVE7SUFBSSxJQUFJRCxVQUFVLE1BQU0sT0FBTyxDQUFDO0lBQUcsSUFBSUUsU0FBUyxDQUFDO0lBQUcsSUFBSVksYUFBYVIsT0FBT1MsSUFBSSxDQUFDZjtJQUFTLElBQUlJLEtBQUtDO0lBQUcsSUFBS0EsSUFBSSxHQUFHQSxJQUFJUyxXQUFXTCxNQUFNLEVBQUVKLElBQUs7UUFBRUQsTUFBTVUsVUFBVSxDQUFDVCxFQUFFO1FBQUUsSUFBSUosU0FBU1MsT0FBTyxDQUFDTixRQUFRLEdBQUc7UUFBVUYsTUFBTSxDQUFDRSxJQUFJLEdBQUdKLE1BQU0sQ0FBQ0ksSUFBSTtJQUFFO0lBQUUsT0FBT0Y7QUFBUTtBQUN4UjtBQUM0QjtBQUNnQjtBQUNGO0FBQzdELFNBQVNrQixjQUFjQyxJQUFJO0lBQ2hDLElBQUlDLFdBQVdELEtBQUtDLFFBQVEsRUFDMUJDLFFBQVF4Qix5QkFBeUJzQixNQUFNdkI7SUFDekMsSUFBSTBCLFNBQVNMLGdGQUFtQkEsQ0FBQ0k7SUFDakMsSUFBSSxDQUFDQyxPQUFPQyxPQUFPLEVBQUU7UUFDbkIsT0FBTztJQUNUO0lBQ0EsT0FBTyxXQUFXLEdBQUVULGdEQUFtQixDQUFDRSw4RUFBb0JBLENBQUNTLFFBQVEsRUFBRTtRQUNyRUMsT0FBT0o7SUFDVCxHQUFHLFdBQVcsR0FBRVIsZ0RBQW1CLENBQUNDLDhEQUFZQSxDQUFDVSxRQUFRLEVBQUU7UUFDekRDLE9BQU9KLE9BQU9LLFNBQVM7SUFDekIsR0FBR1A7QUFDTCIsInNvdXJjZXMiOlsid2VicGFjazovL21lZHVzYS1uZXh0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LWluc3RhbnRzZWFyY2gtaG9va3MvZGlzdC9lcy9jb21wb25lbnRzL0luc3RhbnRTZWFyY2guanM/Zjc4MCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX2V4Y2x1ZGVkID0gW1wiY2hpbGRyZW5cIl07XG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpOyB2YXIga2V5LCBpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlU3ltYm9sS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBJbmRleENvbnRleHQgfSBmcm9tIFwiLi4vbGliL0luZGV4Q29udGV4dC5qc1wiO1xuaW1wb3J0IHsgSW5zdGFudFNlYXJjaENvbnRleHQgfSBmcm9tIFwiLi4vbGliL0luc3RhbnRTZWFyY2hDb250ZXh0LmpzXCI7XG5pbXBvcnQgeyB1c2VJbnN0YW50U2VhcmNoQXBpIH0gZnJvbSBcIi4uL2xpYi91c2VJbnN0YW50U2VhcmNoQXBpLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gSW5zdGFudFNlYXJjaChfcmVmKSB7XG4gIHZhciBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW4sXG4gICAgcHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZiwgX2V4Y2x1ZGVkKTtcbiAgdmFyIHNlYXJjaCA9IHVzZUluc3RhbnRTZWFyY2hBcGkocHJvcHMpO1xuICBpZiAoIXNlYXJjaC5zdGFydGVkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEluc3RhbnRTZWFyY2hDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IHNlYXJjaFxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChJbmRleENvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogc2VhcmNoLm1haW5JbmRleFxuICB9LCBjaGlsZHJlbikpO1xufSJdLCJuYW1lcyI6WyJfZXhjbHVkZWQiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiLCJzb3VyY2UiLCJleGNsdWRlZCIsInRhcmdldCIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIiwia2V5IiwiaSIsIk9iamVjdCIsImdldE93blByb3BlcnR5U3ltYm9scyIsInNvdXJjZVN5bWJvbEtleXMiLCJsZW5ndGgiLCJpbmRleE9mIiwicHJvdG90eXBlIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJjYWxsIiwic291cmNlS2V5cyIsImtleXMiLCJSZWFjdCIsIkluZGV4Q29udGV4dCIsIkluc3RhbnRTZWFyY2hDb250ZXh0IiwidXNlSW5zdGFudFNlYXJjaEFwaSIsIkluc3RhbnRTZWFyY2giLCJfcmVmIiwiY2hpbGRyZW4iLCJwcm9wcyIsInNlYXJjaCIsInN0YXJ0ZWQiLCJjcmVhdGVFbGVtZW50IiwiUHJvdmlkZXIiLCJ2YWx1ZSIsIm1haW5JbmRleCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/dist/es/components/InstantSearch.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/dist/es/components/InstantSearchServerContext.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/dist/es/components/InstantSearchServerContext.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InstantSearchServerContext: () => (/* binding */ InstantSearchServerContext)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n\nvar InstantSearchServerContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nif (true) {\n    InstantSearchServerContext.displayName = \"InstantSearchServer\";\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9kaXN0L2VzL2NvbXBvbmVudHMvSW5zdGFudFNlYXJjaFNlcnZlckNvbnRleHQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBc0M7QUFDL0IsSUFBSUMsNkJBQTZCLFdBQVcsR0FBRUQsb0RBQWFBLENBQUMsTUFBTTtBQUN6RSxJQUFJRSxJQUF5QixFQUFlO0lBQzFDRCwyQkFBMkJFLFdBQVcsR0FBRztBQUMzQyIsInNvdXJjZXMiOlsid2VicGFjazovL21lZHVzYS1uZXh0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LWluc3RhbnRzZWFyY2gtaG9va3MvZGlzdC9lcy9jb21wb25lbnRzL0luc3RhbnRTZWFyY2hTZXJ2ZXJDb250ZXh0LmpzPzRhZDEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmV4cG9ydCB2YXIgSW5zdGFudFNlYXJjaFNlcnZlckNvbnRleHQgPSAvKiNfX1BVUkVfXyovY3JlYXRlQ29udGV4dChudWxsKTtcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICBJbnN0YW50U2VhcmNoU2VydmVyQ29udGV4dC5kaXNwbGF5TmFtZSA9ICdJbnN0YW50U2VhcmNoU2VydmVyJztcbn0iXSwibmFtZXMiOlsiY3JlYXRlQ29udGV4dCIsIkluc3RhbnRTZWFyY2hTZXJ2ZXJDb250ZXh0IiwicHJvY2VzcyIsImRpc3BsYXlOYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/dist/es/components/InstantSearchServerContext.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/dist/es/connectors/useHits.js":
/*!******************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/dist/es/connectors/useHits.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useHits: () => (/* binding */ useHits)\n/* harmony export */ });\n/* harmony import */ var instantsearch_js_es_connectors_hits_connectHits_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! instantsearch.js/es/connectors/hits/connectHits.js */ \"(ssr)/./node_modules/instantsearch.js/es/connectors/hits/connectHits.js\");\n/* harmony import */ var _hooks_useConnector_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../hooks/useConnector.js */ \"(ssr)/./node_modules/react-instantsearch-hooks/dist/es/hooks/useConnector.js\");\n\n\nfunction useHits(props, additionalWidgetProperties) {\n    return (0,_hooks_useConnector_js__WEBPACK_IMPORTED_MODULE_0__.useConnector)(instantsearch_js_es_connectors_hits_connectHits_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], props, additionalWidgetProperties);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9kaXN0L2VzL2Nvbm5lY3RvcnMvdXNlSGl0cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNkU7QUFDckI7QUFDakQsU0FBU0UsUUFBUUMsS0FBSyxFQUFFQywwQkFBMEI7SUFDdkQsT0FBT0gsb0VBQVlBLENBQUNELDBGQUFXQSxFQUFFRyxPQUFPQztBQUMxQyIsInNvdXJjZXMiOlsid2VicGFjazovL21lZHVzYS1uZXh0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LWluc3RhbnRzZWFyY2gtaG9va3MvZGlzdC9lcy9jb25uZWN0b3JzL3VzZUhpdHMuanM/MDYwNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY29ubmVjdEhpdHMgZnJvbSBcImluc3RhbnRzZWFyY2guanMvZXMvY29ubmVjdG9ycy9oaXRzL2Nvbm5lY3RIaXRzLmpzXCI7XG5pbXBvcnQgeyB1c2VDb25uZWN0b3IgfSBmcm9tIFwiLi4vaG9va3MvdXNlQ29ubmVjdG9yLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gdXNlSGl0cyhwcm9wcywgYWRkaXRpb25hbFdpZGdldFByb3BlcnRpZXMpIHtcbiAgcmV0dXJuIHVzZUNvbm5lY3Rvcihjb25uZWN0SGl0cywgcHJvcHMsIGFkZGl0aW9uYWxXaWRnZXRQcm9wZXJ0aWVzKTtcbn0iXSwibmFtZXMiOlsiY29ubmVjdEhpdHMiLCJ1c2VDb25uZWN0b3IiLCJ1c2VIaXRzIiwicHJvcHMiLCJhZGRpdGlvbmFsV2lkZ2V0UHJvcGVydGllcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/dist/es/connectors/useHits.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/dist/es/connectors/useSearchBox.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/dist/es/connectors/useSearchBox.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useSearchBox: () => (/* binding */ useSearchBox)\n/* harmony export */ });\n/* harmony import */ var instantsearch_js_es_connectors_search_box_connectSearchBox_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! instantsearch.js/es/connectors/search-box/connectSearchBox.js */ \"(ssr)/./node_modules/instantsearch.js/es/connectors/search-box/connectSearchBox.js\");\n/* harmony import */ var _hooks_useConnector_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../hooks/useConnector.js */ \"(ssr)/./node_modules/react-instantsearch-hooks/dist/es/hooks/useConnector.js\");\n\n\nfunction useSearchBox(props, additionalWidgetProperties) {\n    return (0,_hooks_useConnector_js__WEBPACK_IMPORTED_MODULE_0__.useConnector)(instantsearch_js_es_connectors_search_box_connectSearchBox_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], props, additionalWidgetProperties);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9kaXN0L2VzL2Nvbm5lY3RvcnMvdXNlU2VhcmNoQm94LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE2RjtBQUNyQztBQUNqRCxTQUFTRSxhQUFhQyxLQUFLLEVBQUVDLDBCQUEwQjtJQUM1RCxPQUFPSCxvRUFBWUEsQ0FBQ0QscUdBQWdCQSxFQUFFRyxPQUFPQztBQUMvQyIsInNvdXJjZXMiOlsid2VicGFjazovL21lZHVzYS1uZXh0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LWluc3RhbnRzZWFyY2gtaG9va3MvZGlzdC9lcy9jb25uZWN0b3JzL3VzZVNlYXJjaEJveC5qcz83YTU2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjb25uZWN0U2VhcmNoQm94IGZyb20gXCJpbnN0YW50c2VhcmNoLmpzL2VzL2Nvbm5lY3RvcnMvc2VhcmNoLWJveC9jb25uZWN0U2VhcmNoQm94LmpzXCI7XG5pbXBvcnQgeyB1c2VDb25uZWN0b3IgfSBmcm9tIFwiLi4vaG9va3MvdXNlQ29ubmVjdG9yLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gdXNlU2VhcmNoQm94KHByb3BzLCBhZGRpdGlvbmFsV2lkZ2V0UHJvcGVydGllcykge1xuICByZXR1cm4gdXNlQ29ubmVjdG9yKGNvbm5lY3RTZWFyY2hCb3gsIHByb3BzLCBhZGRpdGlvbmFsV2lkZ2V0UHJvcGVydGllcyk7XG59Il0sIm5hbWVzIjpbImNvbm5lY3RTZWFyY2hCb3giLCJ1c2VDb25uZWN0b3IiLCJ1c2VTZWFyY2hCb3giLCJwcm9wcyIsImFkZGl0aW9uYWxXaWRnZXRQcm9wZXJ0aWVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/dist/es/connectors/useSearchBox.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/dist/es/hooks/useConnector.js":
/*!******************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/dist/es/hooks/useConnector.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useConnector: () => (/* binding */ useConnector)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _lib_dequal_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/dequal.js */ \"(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/dequal.js\");\n/* harmony import */ var _lib_getIndexSearchResults_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/getIndexSearchResults.js */ \"(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/getIndexSearchResults.js\");\n/* harmony import */ var _lib_useIndexContext_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/useIndexContext.js */ \"(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/useIndexContext.js\");\n/* harmony import */ var _lib_useInstantSearchContext_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/useInstantSearchContext.js */ \"(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/useInstantSearchContext.js\");\n/* harmony import */ var _lib_useInstantSearchServerContext_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/useInstantSearchServerContext.js */ \"(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/useInstantSearchServerContext.js\");\n/* harmony import */ var _lib_useStableValue_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/useStableValue.js */ \"(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/useStableValue.js\");\n/* harmony import */ var _lib_useWidget_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/useWidget.js */ \"(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/useWidget.js\");\nfunction _typeof(obj) {\n    \"@babel/helpers - typeof\";\n    return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj) {\n        return typeof obj;\n    } : function(obj) {\n        return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    }, _typeof(obj);\n}\nvar _excluded = [\n    \"instantSearchInstance\",\n    \"widgetParams\"\n], _excluded2 = [\n    \"widgetParams\"\n];\nfunction _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\nfunction _iterableToArrayLimit(arr, i) {\n    var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n    if (null != _i) {\n        var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1;\n        try {\n            if (_x = (_i = _i.call(arr)).next, 0 === i) {\n                if (Object(_i) !== _i) return;\n                _n = !1;\n            } else for(; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n        } catch (err) {\n            _d = !0, _e = err;\n        } finally{\n            try {\n                if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r)) return;\n            } finally{\n                if (_d) throw _e;\n            }\n        }\n        return _arr;\n    }\n}\nfunction _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n}\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        enumerableOnly && (symbols = symbols.filter(function(sym) {\n            return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n        })), keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _objectSpread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = null != arguments[i] ? arguments[i] : {};\n        i % 2 ? ownKeys(Object(source), !0).forEach(function(key) {\n            _defineProperty(target, key, source[key]);\n        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {\n            Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n    }\n    return target;\n}\nfunction _defineProperty(obj, key, value) {\n    key = _toPropertyKey(key);\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _toPropertyKey(arg) {\n    var key = _toPrimitive(arg, \"string\");\n    return _typeof(key) === \"symbol\" ? key : String(key);\n}\nfunction _toPrimitive(input, hint) {\n    if (_typeof(input) !== \"object\" || input === null) return input;\n    var prim = input[Symbol.toPrimitive];\n    if (prim !== undefined) {\n        var res = prim.call(input, hint || \"default\");\n        if (_typeof(res) !== \"object\") return res;\n        throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n    }\n    return (hint === \"string\" ? String : Number)(input);\n}\nfunction _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n    var target = _objectWithoutPropertiesLoose(source, excluded);\n    var key, i;\n    if (Object.getOwnPropertySymbols) {\n        var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n        for(i = 0; i < sourceSymbolKeys.length; i++){\n            key = sourceSymbolKeys[i];\n            if (excluded.indexOf(key) >= 0) continue;\n            if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n            target[key] = source[key];\n        }\n    }\n    return target;\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n    for(i = 0; i < sourceKeys.length; i++){\n        key = sourceKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        target[key] = source[key];\n    }\n    return target;\n}\n\n\n\n\n\n\n\n\nfunction useConnector(connector) {\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var additionalWidgetProperties = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var serverContext = (0,_lib_useInstantSearchServerContext_js__WEBPACK_IMPORTED_MODULE_1__.useInstantSearchServerContext)();\n    var search = (0,_lib_useInstantSearchContext_js__WEBPACK_IMPORTED_MODULE_2__.useInstantSearchContext)();\n    var parentIndex = (0,_lib_useIndexContext_js__WEBPACK_IMPORTED_MODULE_3__.useIndexContext)();\n    var stableProps = (0,_lib_useStableValue_js__WEBPACK_IMPORTED_MODULE_4__.useStableValue)(props);\n    var stableAdditionalWidgetProperties = (0,_lib_useStableValue_js__WEBPACK_IMPORTED_MODULE_4__.useStableValue)(additionalWidgetProperties);\n    var shouldSetStateRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(true);\n    var previousRenderStateRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    var previousStatusRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(search.status);\n    var widget = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function() {\n        var createWidget = connector(function(connectorState, isFirstRender) {\n            // We skip the `init` widget render because:\n            // - We rely on `getWidgetRenderState` to compute the initial state before\n            //   the InstantSearch.js lifecycle starts.\n            // - It prevents UI flashes when updating the widget props.\n            if (isFirstRender) {\n                shouldSetStateRef.current = true;\n                return;\n            }\n            // There are situations where InstantSearch.js may render widgets slightly\n            // after they're removed by React, and thus try to update the React state\n            // on unmounted components. React 16 and 17 consider them as memory leaks\n            // and display a warning.\n            // This happens in <DynamicWidgets> when `attributesToRender` contains a\n            // value without an attribute previously mounted. React will unmount the\n            // component controlled by that attribute, but InstantSearch.js will stay\n            // unaware of this change until the render pass finishes, and therefore\n            // notifies of a state change.\n            // This ref lets us track this situation and ignore these state updates.\n            if (shouldSetStateRef.current) {\n                var instantSearchInstance = connectorState.instantSearchInstance, widgetParams = connectorState.widgetParams, renderState = _objectWithoutProperties(connectorState, _excluded);\n                // We only update the state when a widget render state param changes,\n                // except for functions. We ignore function reference changes to avoid\n                // infinite loops. It's safe to omit them because they get updated\n                // every time another render param changes.\n                if (!(0,_lib_dequal_js__WEBPACK_IMPORTED_MODULE_5__.dequal)(renderState, previousRenderStateRef.current, function(a, b) {\n                    return (a === null || a === void 0 ? void 0 : a.constructor) === Function && (b === null || b === void 0 ? void 0 : b.constructor) === Function;\n                }) || instantSearchInstance.status !== previousStatusRef.current) {\n                    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n                    setState(renderState);\n                    previousRenderStateRef.current = renderState;\n                    previousStatusRef.current = instantSearchInstance.status;\n                }\n            }\n        }, function() {\n            // We'll ignore the next state update until we know for sure that\n            // InstantSearch.js re-inits the component.\n            shouldSetStateRef.current = false;\n        });\n        return _objectSpread(_objectSpread({}, createWidget(stableProps)), stableAdditionalWidgetProperties);\n    }, [\n        connector,\n        stableProps,\n        stableAdditionalWidgetProperties\n    ]);\n    var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(function() {\n        if (widget.getWidgetRenderState) {\n            var _widget$getWidgetSear;\n            // The helper exists because we've started InstantSearch.\n            var helper = parentIndex.getHelper();\n            var uiState = parentIndex.getWidgetUiState({})[parentIndex.getIndexId()];\n            helper.state = ((_widget$getWidgetSear = widget.getWidgetSearchParameters) === null || _widget$getWidgetSear === void 0 ? void 0 : _widget$getWidgetSear.call(widget, helper.state, {\n                uiState: uiState\n            })) || helper.state;\n            var _getIndexSearchResult = (0,_lib_getIndexSearchResults_js__WEBPACK_IMPORTED_MODULE_6__.getIndexSearchResults)(parentIndex), results = _getIndexSearchResult.results, scopedResults = _getIndexSearchResult.scopedResults;\n            // We get the widget render state by providing the same parameters as\n            // InstantSearch provides to the widget's `render` method.\n            // See https://github.com/algolia/instantsearch.js/blob/019cd18d0de6dd320284aa4890541b7fe2198c65/src/widgets/index/index.ts#L604-L617\n            var _widget$getWidgetRend = widget.getWidgetRenderState({\n                helper: helper,\n                parent: parentIndex,\n                instantSearchInstance: search,\n                results: results,\n                scopedResults: scopedResults,\n                state: helper.state,\n                renderState: search.renderState,\n                templatesConfig: search.templatesConfig,\n                createURL: parentIndex.createURL,\n                searchMetadata: {\n                    isSearchStalled: search.status === \"stalled\"\n                },\n                status: search.status,\n                error: search.error\n            }), widgetParams = _widget$getWidgetRend.widgetParams, renderState = _objectWithoutProperties(_widget$getWidgetRend, _excluded2);\n            return renderState;\n        }\n        return {};\n    }), _useState2 = _slicedToArray(_useState, 2), state = _useState2[0], setState = _useState2[1];\n    (0,_lib_useWidget_js__WEBPACK_IMPORTED_MODULE_7__.useWidget)({\n        widget: widget,\n        parentIndex: parentIndex,\n        props: stableProps,\n        shouldSsr: Boolean(serverContext)\n    });\n    return state;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9kaXN0L2VzL2hvb2tzL3VzZUNvbm5lY3Rvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQSxTQUFTQSxRQUFRQyxHQUFHO0lBQUk7SUFBMkIsT0FBT0QsVUFBVSxjQUFjLE9BQU9FLFVBQVUsWUFBWSxPQUFPQSxPQUFPQyxRQUFRLEdBQUcsU0FBVUYsR0FBRztRQUFJLE9BQU8sT0FBT0E7SUFBSyxJQUFJLFNBQVVBLEdBQUc7UUFBSSxPQUFPQSxPQUFPLGNBQWMsT0FBT0MsVUFBVUQsSUFBSUcsV0FBVyxLQUFLRixVQUFVRCxRQUFRQyxPQUFPRyxTQUFTLEdBQUcsV0FBVyxPQUFPSjtJQUFLLEdBQUdELFFBQVFDO0FBQU07QUFDL1UsSUFBSUssWUFBWTtJQUFDO0lBQXlCO0NBQWUsRUFDdkRDLGFBQWE7SUFBQztDQUFlO0FBQy9CLFNBQVNDLGVBQWVDLEdBQUcsRUFBRUMsQ0FBQztJQUFJLE9BQU9DLGdCQUFnQkYsUUFBUUcsc0JBQXNCSCxLQUFLQyxNQUFNRyw0QkFBNEJKLEtBQUtDLE1BQU1JO0FBQW9CO0FBQzdKLFNBQVNBO0lBQXFCLE1BQU0sSUFBSUMsVUFBVTtBQUE4STtBQUNoTSxTQUFTRiw0QkFBNEJHLENBQUMsRUFBRUMsTUFBTTtJQUFJLElBQUksQ0FBQ0QsR0FBRztJQUFRLElBQUksT0FBT0EsTUFBTSxVQUFVLE9BQU9FLGtCQUFrQkYsR0FBR0M7SUFBUyxJQUFJRSxJQUFJQyxPQUFPZixTQUFTLENBQUNnQixRQUFRLENBQUNDLElBQUksQ0FBQ04sR0FBR08sS0FBSyxDQUFDLEdBQUcsQ0FBQztJQUFJLElBQUlKLE1BQU0sWUFBWUgsRUFBRVosV0FBVyxFQUFFZSxJQUFJSCxFQUFFWixXQUFXLENBQUNvQixJQUFJO0lBQUUsSUFBSUwsTUFBTSxTQUFTQSxNQUFNLE9BQU8sT0FBT00sTUFBTUMsSUFBSSxDQUFDVjtJQUFJLElBQUlHLE1BQU0sZUFBZSwyQ0FBMkNRLElBQUksQ0FBQ1IsSUFBSSxPQUFPRCxrQkFBa0JGLEdBQUdDO0FBQVM7QUFDL1osU0FBU0Msa0JBQWtCVCxHQUFHLEVBQUVtQixHQUFHO0lBQUksSUFBSUEsT0FBTyxRQUFRQSxNQUFNbkIsSUFBSW9CLE1BQU0sRUFBRUQsTUFBTW5CLElBQUlvQixNQUFNO0lBQUUsSUFBSyxJQUFJbkIsSUFBSSxHQUFHb0IsT0FBTyxJQUFJTCxNQUFNRyxNQUFNbEIsSUFBSWtCLEtBQUtsQixJQUFLb0IsSUFBSSxDQUFDcEIsRUFBRSxHQUFHRCxHQUFHLENBQUNDLEVBQUU7SUFBRSxPQUFPb0I7QUFBTTtBQUNsTCxTQUFTbEIsc0JBQXNCSCxHQUFHLEVBQUVDLENBQUM7SUFBSSxJQUFJcUIsS0FBSyxRQUFRdEIsTUFBTSxPQUFPLGVBQWUsT0FBT1AsVUFBVU8sR0FBRyxDQUFDUCxPQUFPQyxRQUFRLENBQUMsSUFBSU0sR0FBRyxDQUFDLGFBQWE7SUFBRSxJQUFJLFFBQVFzQixJQUFJO1FBQUUsSUFBSUMsSUFBSUMsSUFBSUMsSUFBSUMsSUFBSUMsT0FBTyxFQUFFLEVBQUVDLEtBQUssQ0FBQyxHQUFHQyxLQUFLLENBQUM7UUFBRyxJQUFJO1lBQUUsSUFBSUosS0FBSyxDQUFDSCxLQUFLQSxHQUFHVCxJQUFJLENBQUNiLElBQUcsRUFBRzhCLElBQUksRUFBRSxNQUFNN0IsR0FBRztnQkFBRSxJQUFJVSxPQUFPVyxRQUFRQSxJQUFJO2dCQUFRTSxLQUFLLENBQUM7WUFBRyxPQUFPLE1BQU8sQ0FBRUEsQ0FBQUEsS0FBSyxDQUFDTCxLQUFLRSxHQUFHWixJQUFJLENBQUNTLEdBQUUsRUFBR1MsSUFBSSxLQUFNSixDQUFBQSxLQUFLSyxJQUFJLENBQUNULEdBQUdVLEtBQUssR0FBR04sS0FBS1AsTUFBTSxLQUFLbkIsQ0FBQUEsR0FBSTJCLEtBQUssQ0FBQztRQUFJLEVBQUUsT0FBT00sS0FBSztZQUFFTCxLQUFLLENBQUMsR0FBR0wsS0FBS1U7UUFBSyxTQUFVO1lBQUUsSUFBSTtnQkFBRSxJQUFJLENBQUNOLE1BQU0sUUFBUU4sR0FBR2EsTUFBTSxJQUFLVCxDQUFBQSxLQUFLSixHQUFHYSxNQUFNLElBQUl4QixPQUFPZSxRQUFRQSxFQUFDLEdBQUk7WUFBUSxTQUFVO2dCQUFFLElBQUlHLElBQUksTUFBTUw7WUFBSTtRQUFFO1FBQUUsT0FBT0c7SUFBTTtBQUFFO0FBQzNrQixTQUFTekIsZ0JBQWdCRixHQUFHO0lBQUksSUFBSWdCLE1BQU1vQixPQUFPLENBQUNwQyxNQUFNLE9BQU9BO0FBQUs7QUFDcEUsU0FBU3FDLFFBQVFDLE1BQU0sRUFBRUMsY0FBYztJQUFJLElBQUlDLE9BQU83QixPQUFPNkIsSUFBSSxDQUFDRjtJQUFTLElBQUkzQixPQUFPOEIscUJBQXFCLEVBQUU7UUFBRSxJQUFJQyxVQUFVL0IsT0FBTzhCLHFCQUFxQixDQUFDSDtRQUFTQyxrQkFBbUJHLENBQUFBLFVBQVVBLFFBQVFDLE1BQU0sQ0FBQyxTQUFVQyxHQUFHO1lBQUksT0FBT2pDLE9BQU9rQyx3QkFBd0IsQ0FBQ1AsUUFBUU0sS0FBS0UsVUFBVTtRQUFFLEVBQUMsR0FBSU4sS0FBS1IsSUFBSSxDQUFDZSxLQUFLLENBQUNQLE1BQU1FO0lBQVU7SUFBRSxPQUFPRjtBQUFNO0FBQ3BWLFNBQVNRLGNBQWNDLE1BQU07SUFBSSxJQUFLLElBQUloRCxJQUFJLEdBQUdBLElBQUlpRCxVQUFVOUIsTUFBTSxFQUFFbkIsSUFBSztRQUFFLElBQUlrRCxTQUFTLFFBQVFELFNBQVMsQ0FBQ2pELEVBQUUsR0FBR2lELFNBQVMsQ0FBQ2pELEVBQUUsR0FBRyxDQUFDO1FBQUdBLElBQUksSUFBSW9DLFFBQVExQixPQUFPd0MsU0FBUyxDQUFDLEdBQUdDLE9BQU8sQ0FBQyxTQUFVQyxHQUFHO1lBQUlDLGdCQUFnQkwsUUFBUUksS0FBS0YsTUFBTSxDQUFDRSxJQUFJO1FBQUcsS0FBSzFDLE9BQU80Qyx5QkFBeUIsR0FBRzVDLE9BQU82QyxnQkFBZ0IsQ0FBQ1AsUUFBUXRDLE9BQU80Qyx5QkFBeUIsQ0FBQ0osV0FBV2QsUUFBUTFCLE9BQU93QyxTQUFTQyxPQUFPLENBQUMsU0FBVUMsR0FBRztZQUFJMUMsT0FBTzhDLGNBQWMsQ0FBQ1IsUUFBUUksS0FBSzFDLE9BQU9rQyx3QkFBd0IsQ0FBQ00sUUFBUUU7UUFBTztJQUFJO0lBQUUsT0FBT0o7QUFBUTtBQUN6ZixTQUFTSyxnQkFBZ0I5RCxHQUFHLEVBQUU2RCxHQUFHLEVBQUVwQixLQUFLO0lBQUlvQixNQUFNSyxlQUFlTDtJQUFNLElBQUlBLE9BQU83RCxLQUFLO1FBQUVtQixPQUFPOEMsY0FBYyxDQUFDakUsS0FBSzZELEtBQUs7WUFBRXBCLE9BQU9BO1lBQU9hLFlBQVk7WUFBTWEsY0FBYztZQUFNQyxVQUFVO1FBQUs7SUFBSSxPQUFPO1FBQUVwRSxHQUFHLENBQUM2RCxJQUFJLEdBQUdwQjtJQUFPO0lBQUUsT0FBT3pDO0FBQUs7QUFDM08sU0FBU2tFLGVBQWVHLEdBQUc7SUFBSSxJQUFJUixNQUFNUyxhQUFhRCxLQUFLO0lBQVcsT0FBT3RFLFFBQVE4RCxTQUFTLFdBQVdBLE1BQU1VLE9BQU9WO0FBQU07QUFDNUgsU0FBU1MsYUFBYUUsS0FBSyxFQUFFQyxJQUFJO0lBQUksSUFBSTFFLFFBQVF5RSxXQUFXLFlBQVlBLFVBQVUsTUFBTSxPQUFPQTtJQUFPLElBQUlFLE9BQU9GLEtBQUssQ0FBQ3ZFLE9BQU8wRSxXQUFXLENBQUM7SUFBRSxJQUFJRCxTQUFTRSxXQUFXO1FBQUUsSUFBSUMsTUFBTUgsS0FBS3JELElBQUksQ0FBQ21ELE9BQU9DLFFBQVE7UUFBWSxJQUFJMUUsUUFBUThFLFNBQVMsVUFBVSxPQUFPQTtRQUFLLE1BQU0sSUFBSS9ELFVBQVU7SUFBaUQ7SUFBRSxPQUFPLENBQUMyRCxTQUFTLFdBQVdGLFNBQVNPLE1BQUssRUFBR047QUFBUTtBQUM1WCxTQUFTTyx5QkFBeUJwQixNQUFNLEVBQUVxQixRQUFRO0lBQUksSUFBSXJCLFVBQVUsTUFBTSxPQUFPLENBQUM7SUFBRyxJQUFJRixTQUFTd0IsOEJBQThCdEIsUUFBUXFCO0lBQVcsSUFBSW5CLEtBQUtwRDtJQUFHLElBQUlVLE9BQU84QixxQkFBcUIsRUFBRTtRQUFFLElBQUlpQyxtQkFBbUIvRCxPQUFPOEIscUJBQXFCLENBQUNVO1FBQVMsSUFBS2xELElBQUksR0FBR0EsSUFBSXlFLGlCQUFpQnRELE1BQU0sRUFBRW5CLElBQUs7WUFBRW9ELE1BQU1xQixnQkFBZ0IsQ0FBQ3pFLEVBQUU7WUFBRSxJQUFJdUUsU0FBU0csT0FBTyxDQUFDdEIsUUFBUSxHQUFHO1lBQVUsSUFBSSxDQUFDMUMsT0FBT2YsU0FBUyxDQUFDZ0Ysb0JBQW9CLENBQUMvRCxJQUFJLENBQUNzQyxRQUFRRSxNQUFNO1lBQVVKLE1BQU0sQ0FBQ0ksSUFBSSxHQUFHRixNQUFNLENBQUNFLElBQUk7UUFBRTtJQUFFO0lBQUUsT0FBT0o7QUFBUTtBQUMzZSxTQUFTd0IsOEJBQThCdEIsTUFBTSxFQUFFcUIsUUFBUTtJQUFJLElBQUlyQixVQUFVLE1BQU0sT0FBTyxDQUFDO0lBQUcsSUFBSUYsU0FBUyxDQUFDO0lBQUcsSUFBSTRCLGFBQWFsRSxPQUFPNkIsSUFBSSxDQUFDVztJQUFTLElBQUlFLEtBQUtwRDtJQUFHLElBQUtBLElBQUksR0FBR0EsSUFBSTRFLFdBQVd6RCxNQUFNLEVBQUVuQixJQUFLO1FBQUVvRCxNQUFNd0IsVUFBVSxDQUFDNUUsRUFBRTtRQUFFLElBQUl1RSxTQUFTRyxPQUFPLENBQUN0QixRQUFRLEdBQUc7UUFBVUosTUFBTSxDQUFDSSxJQUFJLEdBQUdGLE1BQU0sQ0FBQ0UsSUFBSTtJQUFFO0lBQUUsT0FBT0o7QUFBUTtBQUNoUTtBQUNSO0FBQzhCO0FBQ1o7QUFDZ0I7QUFDWTtBQUM5QjtBQUNWO0FBQ3pDLFNBQVN1QyxhQUFhQyxTQUFTO0lBQ3BDLElBQUlDLFFBQVF4QyxVQUFVOUIsTUFBTSxHQUFHLEtBQUs4QixTQUFTLENBQUMsRUFBRSxLQUFLa0IsWUFBWWxCLFNBQVMsQ0FBQyxFQUFFLEdBQUcsQ0FBQztJQUNqRixJQUFJeUMsNkJBQTZCekMsVUFBVTlCLE1BQU0sR0FBRyxLQUFLOEIsU0FBUyxDQUFDLEVBQUUsS0FBS2tCLFlBQVlsQixTQUFTLENBQUMsRUFBRSxHQUFHLENBQUM7SUFDdEcsSUFBSTBDLGdCQUFnQlAsb0dBQTZCQTtJQUNqRCxJQUFJUSxTQUFTVCx3RkFBdUJBO0lBQ3BDLElBQUlVLGNBQWNYLHdFQUFlQTtJQUNqQyxJQUFJWSxjQUFjVCxzRUFBY0EsQ0FBQ0k7SUFDakMsSUFBSU0sbUNBQW1DVixzRUFBY0EsQ0FBQ0s7SUFDdEQsSUFBSU0sb0JBQW9CbEIsNkNBQU1BLENBQUM7SUFDL0IsSUFBSW1CLHlCQUF5Qm5CLDZDQUFNQSxDQUFDO0lBQ3BDLElBQUlvQixvQkFBb0JwQiw2Q0FBTUEsQ0FBQ2MsT0FBT08sTUFBTTtJQUM1QyxJQUFJQyxTQUFTdkIsOENBQU9BLENBQUM7UUFDbkIsSUFBSXdCLGVBQWViLFVBQVUsU0FBVWMsY0FBYyxFQUFFQyxhQUFhO1lBQ2xFLDRDQUE0QztZQUM1QywwRUFBMEU7WUFDMUUsMkNBQTJDO1lBQzNDLDJEQUEyRDtZQUMzRCxJQUFJQSxlQUFlO2dCQUNqQlAsa0JBQWtCUSxPQUFPLEdBQUc7Z0JBQzVCO1lBQ0Y7WUFFQSwwRUFBMEU7WUFDMUUseUVBQXlFO1lBQ3pFLHlFQUF5RTtZQUN6RSx5QkFBeUI7WUFDekIsd0VBQXdFO1lBQ3hFLHdFQUF3RTtZQUN4RSx5RUFBeUU7WUFDekUsdUVBQXVFO1lBQ3ZFLDhCQUE4QjtZQUM5Qix3RUFBd0U7WUFDeEUsSUFBSVIsa0JBQWtCUSxPQUFPLEVBQUU7Z0JBQzdCLElBQUlDLHdCQUF3QkgsZUFBZUcscUJBQXFCLEVBQzlEQyxlQUFlSixlQUFlSSxZQUFZLEVBQzFDQyxjQUFjckMseUJBQXlCZ0MsZ0JBQWdCMUc7Z0JBRXpELHFFQUFxRTtnQkFDckUsc0VBQXNFO2dCQUN0RSxrRUFBa0U7Z0JBQ2xFLDJDQUEyQztnQkFDM0MsSUFBSSxDQUFDb0Ysc0RBQU1BLENBQUMyQixhQUFhVix1QkFBdUJPLE9BQU8sRUFBRSxTQUFVSSxDQUFDLEVBQUVDLENBQUM7b0JBQ3JFLE9BQU8sQ0FBQ0QsTUFBTSxRQUFRQSxNQUFNLEtBQUssSUFBSSxLQUFLLElBQUlBLEVBQUVsSCxXQUFXLE1BQU1vSCxZQUFZLENBQUNELE1BQU0sUUFBUUEsTUFBTSxLQUFLLElBQUksS0FBSyxJQUFJQSxFQUFFbkgsV0FBVyxNQUFNb0g7Z0JBQ3pJLE1BQU1MLHNCQUFzQk4sTUFBTSxLQUFLRCxrQkFBa0JNLE9BQU8sRUFBRTtvQkFDaEUsbUVBQW1FO29CQUNuRU8sU0FBU0o7b0JBQ1RWLHVCQUF1Qk8sT0FBTyxHQUFHRztvQkFDakNULGtCQUFrQk0sT0FBTyxHQUFHQyxzQkFBc0JOLE1BQU07Z0JBQzFEO1lBQ0Y7UUFDRixHQUFHO1lBQ0QsaUVBQWlFO1lBQ2pFLDJDQUEyQztZQUMzQ0gsa0JBQWtCUSxPQUFPLEdBQUc7UUFDOUI7UUFDQSxPQUFPekQsY0FBY0EsY0FBYyxDQUFDLEdBQUdzRCxhQUFhUCxlQUFlQztJQUNyRSxHQUFHO1FBQUNQO1FBQVdNO1FBQWFDO0tBQWlDO0lBQzdELElBQUlpQixZQUFZakMsK0NBQVFBLENBQUM7UUFDckIsSUFBSXFCLE9BQU9hLG9CQUFvQixFQUFFO1lBQy9CLElBQUlDO1lBQ0oseURBQXlEO1lBQ3pELElBQUlDLFNBQVN0QixZQUFZdUIsU0FBUztZQUNsQyxJQUFJQyxVQUFVeEIsWUFBWXlCLGdCQUFnQixDQUFDLENBQUMsRUFBRSxDQUFDekIsWUFBWTBCLFVBQVUsR0FBRztZQUN4RUosT0FBT0ssS0FBSyxHQUFHLENBQUMsQ0FBQ04sd0JBQXdCZCxPQUFPcUIseUJBQXlCLE1BQU0sUUFBUVAsMEJBQTBCLEtBQUssSUFBSSxLQUFLLElBQUlBLHNCQUFzQnRHLElBQUksQ0FBQ3dGLFFBQVFlLE9BQU9LLEtBQUssRUFBRTtnQkFDbExILFNBQVNBO1lBQ1gsRUFBQyxLQUFNRixPQUFPSyxLQUFLO1lBQ25CLElBQUlFLHdCQUF3QnpDLG9GQUFxQkEsQ0FBQ1ksY0FDaEQ4QixVQUFVRCxzQkFBc0JDLE9BQU8sRUFDdkNDLGdCQUFnQkYsc0JBQXNCRSxhQUFhO1lBRXJELHFFQUFxRTtZQUNyRSwwREFBMEQ7WUFDMUQscUlBQXFJO1lBQ3JJLElBQUlDLHdCQUF3QnpCLE9BQU9hLG9CQUFvQixDQUFDO2dCQUNwREUsUUFBUUE7Z0JBQ1JXLFFBQVFqQztnQkFDUlksdUJBQXVCYjtnQkFDdkIrQixTQUFTQTtnQkFDVEMsZUFBZUE7Z0JBQ2ZKLE9BQU9MLE9BQU9LLEtBQUs7Z0JBQ25CYixhQUFhZixPQUFPZSxXQUFXO2dCQUMvQm9CLGlCQUFpQm5DLE9BQU9tQyxlQUFlO2dCQUN2Q0MsV0FBV25DLFlBQVltQyxTQUFTO2dCQUNoQ0MsZ0JBQWdCO29CQUNkQyxpQkFBaUJ0QyxPQUFPTyxNQUFNLEtBQUs7Z0JBQ3JDO2dCQUNBQSxRQUFRUCxPQUFPTyxNQUFNO2dCQUNyQmdDLE9BQU92QyxPQUFPdUMsS0FBSztZQUNyQixJQUNBekIsZUFBZW1CLHNCQUFzQm5CLFlBQVksRUFDakRDLGNBQWNyQyx5QkFBeUJ1RCx1QkFBdUJoSTtZQUNoRSxPQUFPOEc7UUFDVDtRQUNBLE9BQU8sQ0FBQztJQUNWLElBQ0F5QixhQUFhdEksZUFBZWtILFdBQVcsSUFDdkNRLFFBQVFZLFVBQVUsQ0FBQyxFQUFFLEVBQ3JCckIsV0FBV3FCLFVBQVUsQ0FBQyxFQUFFO0lBQzFCOUMsNERBQVNBLENBQUM7UUFDUmMsUUFBUUE7UUFDUlAsYUFBYUE7UUFDYkosT0FBT0s7UUFDUHVDLFdBQVdDLFFBQVEzQztJQUNyQjtJQUNBLE9BQU82QjtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVkdXNhLW5leHQvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9kaXN0L2VzL2hvb2tzL3VzZUNvbm5lY3Rvci5qcz83ODhjIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9LCBfdHlwZW9mKG9iaik7IH1cbnZhciBfZXhjbHVkZWQgPSBbXCJpbnN0YW50U2VhcmNoSW5zdGFuY2VcIiwgXCJ3aWRnZXRQYXJhbXNcIl0sXG4gIF9leGNsdWRlZDIgPSBbXCJ3aWRnZXRQYXJhbXNcIl07XG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldOyByZXR1cm4gYXJyMjsgfVxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyB2YXIgX2kgPSBudWxsID09IGFyciA/IG51bGwgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgYXJyW1N5bWJvbC5pdGVyYXRvcl0gfHwgYXJyW1wiQEBpdGVyYXRvclwiXTsgaWYgKG51bGwgIT0gX2kpIHsgdmFyIF9zLCBfZSwgX3gsIF9yLCBfYXJyID0gW10sIF9uID0gITAsIF9kID0gITE7IHRyeSB7IGlmIChfeCA9IChfaSA9IF9pLmNhbGwoYXJyKSkubmV4dCwgMCA9PT0gaSkgeyBpZiAoT2JqZWN0KF9pKSAhPT0gX2kpIHJldHVybjsgX24gPSAhMTsgfSBlbHNlIGZvciAoOyAhKF9uID0gKF9zID0gX3guY2FsbChfaSkpLmRvbmUpICYmIChfYXJyLnB1c2goX3MudmFsdWUpLCBfYXJyLmxlbmd0aCAhPT0gaSk7IF9uID0gITApOyB9IGNhdGNoIChlcnIpIHsgX2QgPSAhMCwgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgbnVsbCAhPSBfaS5yZXR1cm4gJiYgKF9yID0gX2kucmV0dXJuKCksIE9iamVjdChfcikgIT09IF9yKSkgcmV0dXJuOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0gfVxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgZW51bWVyYWJsZU9ubHkgJiYgKHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KSksIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyhPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsga2V5ID0gX3RvUHJvcGVydHlLZXkoa2V5KTsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShhcmcpIHsgdmFyIGtleSA9IF90b1ByaW1pdGl2ZShhcmcsIFwic3RyaW5nXCIpOyByZXR1cm4gX3R5cGVvZihrZXkpID09PSBcInN5bWJvbFwiID8ga2V5IDogU3RyaW5nKGtleSk7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkgeyBpZiAoX3R5cGVvZihpbnB1dCkgIT09IFwib2JqZWN0XCIgfHwgaW5wdXQgPT09IG51bGwpIHJldHVybiBpbnB1dDsgdmFyIHByaW0gPSBpbnB1dFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAocHJpbSAhPT0gdW5kZWZpbmVkKSB7IHZhciByZXMgPSBwcmltLmNhbGwoaW5wdXQsIGhpbnQgfHwgXCJkZWZhdWx0XCIpOyBpZiAoX3R5cGVvZihyZXMpICE9PSBcIm9iamVjdFwiKSByZXR1cm4gcmVzOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChoaW50ID09PSBcInN0cmluZ1wiID8gU3RyaW5nIDogTnVtYmVyKShpbnB1dCk7IH1cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7IHZhciBrZXksIGk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzb3VyY2VTeW1ib2xLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlU3ltYm9sS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzb3VyY2UsIGtleSkpIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuaW1wb3J0IHsgdXNlTWVtbywgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGRlcXVhbCB9IGZyb20gXCIuLi9saWIvZGVxdWFsLmpzXCI7XG5pbXBvcnQgeyBnZXRJbmRleFNlYXJjaFJlc3VsdHMgfSBmcm9tIFwiLi4vbGliL2dldEluZGV4U2VhcmNoUmVzdWx0cy5qc1wiO1xuaW1wb3J0IHsgdXNlSW5kZXhDb250ZXh0IH0gZnJvbSBcIi4uL2xpYi91c2VJbmRleENvbnRleHQuanNcIjtcbmltcG9ydCB7IHVzZUluc3RhbnRTZWFyY2hDb250ZXh0IH0gZnJvbSBcIi4uL2xpYi91c2VJbnN0YW50U2VhcmNoQ29udGV4dC5qc1wiO1xuaW1wb3J0IHsgdXNlSW5zdGFudFNlYXJjaFNlcnZlckNvbnRleHQgfSBmcm9tIFwiLi4vbGliL3VzZUluc3RhbnRTZWFyY2hTZXJ2ZXJDb250ZXh0LmpzXCI7XG5pbXBvcnQgeyB1c2VTdGFibGVWYWx1ZSB9IGZyb20gXCIuLi9saWIvdXNlU3RhYmxlVmFsdWUuanNcIjtcbmltcG9ydCB7IHVzZVdpZGdldCB9IGZyb20gXCIuLi9saWIvdXNlV2lkZ2V0LmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gdXNlQ29ubmVjdG9yKGNvbm5lY3Rvcikge1xuICB2YXIgcHJvcHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICB2YXIgYWRkaXRpb25hbFdpZGdldFByb3BlcnRpZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICB2YXIgc2VydmVyQ29udGV4dCA9IHVzZUluc3RhbnRTZWFyY2hTZXJ2ZXJDb250ZXh0KCk7XG4gIHZhciBzZWFyY2ggPSB1c2VJbnN0YW50U2VhcmNoQ29udGV4dCgpO1xuICB2YXIgcGFyZW50SW5kZXggPSB1c2VJbmRleENvbnRleHQoKTtcbiAgdmFyIHN0YWJsZVByb3BzID0gdXNlU3RhYmxlVmFsdWUocHJvcHMpO1xuICB2YXIgc3RhYmxlQWRkaXRpb25hbFdpZGdldFByb3BlcnRpZXMgPSB1c2VTdGFibGVWYWx1ZShhZGRpdGlvbmFsV2lkZ2V0UHJvcGVydGllcyk7XG4gIHZhciBzaG91bGRTZXRTdGF0ZVJlZiA9IHVzZVJlZih0cnVlKTtcbiAgdmFyIHByZXZpb3VzUmVuZGVyU3RhdGVSZWYgPSB1c2VSZWYobnVsbCk7XG4gIHZhciBwcmV2aW91c1N0YXR1c1JlZiA9IHVzZVJlZihzZWFyY2guc3RhdHVzKTtcbiAgdmFyIHdpZGdldCA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHZhciBjcmVhdGVXaWRnZXQgPSBjb25uZWN0b3IoZnVuY3Rpb24gKGNvbm5lY3RvclN0YXRlLCBpc0ZpcnN0UmVuZGVyKSB7XG4gICAgICAvLyBXZSBza2lwIHRoZSBgaW5pdGAgd2lkZ2V0IHJlbmRlciBiZWNhdXNlOlxuICAgICAgLy8gLSBXZSByZWx5IG9uIGBnZXRXaWRnZXRSZW5kZXJTdGF0ZWAgdG8gY29tcHV0ZSB0aGUgaW5pdGlhbCBzdGF0ZSBiZWZvcmVcbiAgICAgIC8vICAgdGhlIEluc3RhbnRTZWFyY2guanMgbGlmZWN5Y2xlIHN0YXJ0cy5cbiAgICAgIC8vIC0gSXQgcHJldmVudHMgVUkgZmxhc2hlcyB3aGVuIHVwZGF0aW5nIHRoZSB3aWRnZXQgcHJvcHMuXG4gICAgICBpZiAoaXNGaXJzdFJlbmRlcikge1xuICAgICAgICBzaG91bGRTZXRTdGF0ZVJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBUaGVyZSBhcmUgc2l0dWF0aW9ucyB3aGVyZSBJbnN0YW50U2VhcmNoLmpzIG1heSByZW5kZXIgd2lkZ2V0cyBzbGlnaHRseVxuICAgICAgLy8gYWZ0ZXIgdGhleSdyZSByZW1vdmVkIGJ5IFJlYWN0LCBhbmQgdGh1cyB0cnkgdG8gdXBkYXRlIHRoZSBSZWFjdCBzdGF0ZVxuICAgICAgLy8gb24gdW5tb3VudGVkIGNvbXBvbmVudHMuIFJlYWN0IDE2IGFuZCAxNyBjb25zaWRlciB0aGVtIGFzIG1lbW9yeSBsZWFrc1xuICAgICAgLy8gYW5kIGRpc3BsYXkgYSB3YXJuaW5nLlxuICAgICAgLy8gVGhpcyBoYXBwZW5zIGluIDxEeW5hbWljV2lkZ2V0cz4gd2hlbiBgYXR0cmlidXRlc1RvUmVuZGVyYCBjb250YWlucyBhXG4gICAgICAvLyB2YWx1ZSB3aXRob3V0IGFuIGF0dHJpYnV0ZSBwcmV2aW91c2x5IG1vdW50ZWQuIFJlYWN0IHdpbGwgdW5tb3VudCB0aGVcbiAgICAgIC8vIGNvbXBvbmVudCBjb250cm9sbGVkIGJ5IHRoYXQgYXR0cmlidXRlLCBidXQgSW5zdGFudFNlYXJjaC5qcyB3aWxsIHN0YXlcbiAgICAgIC8vIHVuYXdhcmUgb2YgdGhpcyBjaGFuZ2UgdW50aWwgdGhlIHJlbmRlciBwYXNzIGZpbmlzaGVzLCBhbmQgdGhlcmVmb3JlXG4gICAgICAvLyBub3RpZmllcyBvZiBhIHN0YXRlIGNoYW5nZS5cbiAgICAgIC8vIFRoaXMgcmVmIGxldHMgdXMgdHJhY2sgdGhpcyBzaXR1YXRpb24gYW5kIGlnbm9yZSB0aGVzZSBzdGF0ZSB1cGRhdGVzLlxuICAgICAgaWYgKHNob3VsZFNldFN0YXRlUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgdmFyIGluc3RhbnRTZWFyY2hJbnN0YW5jZSA9IGNvbm5lY3RvclN0YXRlLmluc3RhbnRTZWFyY2hJbnN0YW5jZSxcbiAgICAgICAgICB3aWRnZXRQYXJhbXMgPSBjb25uZWN0b3JTdGF0ZS53aWRnZXRQYXJhbXMsXG4gICAgICAgICAgcmVuZGVyU3RhdGUgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoY29ubmVjdG9yU3RhdGUsIF9leGNsdWRlZCk7XG5cbiAgICAgICAgLy8gV2Ugb25seSB1cGRhdGUgdGhlIHN0YXRlIHdoZW4gYSB3aWRnZXQgcmVuZGVyIHN0YXRlIHBhcmFtIGNoYW5nZXMsXG4gICAgICAgIC8vIGV4Y2VwdCBmb3IgZnVuY3Rpb25zLiBXZSBpZ25vcmUgZnVuY3Rpb24gcmVmZXJlbmNlIGNoYW5nZXMgdG8gYXZvaWRcbiAgICAgICAgLy8gaW5maW5pdGUgbG9vcHMuIEl0J3Mgc2FmZSB0byBvbWl0IHRoZW0gYmVjYXVzZSB0aGV5IGdldCB1cGRhdGVkXG4gICAgICAgIC8vIGV2ZXJ5IHRpbWUgYW5vdGhlciByZW5kZXIgcGFyYW0gY2hhbmdlcy5cbiAgICAgICAgaWYgKCFkZXF1YWwocmVuZGVyU3RhdGUsIHByZXZpb3VzUmVuZGVyU3RhdGVSZWYuY3VycmVudCwgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICByZXR1cm4gKGEgPT09IG51bGwgfHwgYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogYS5jb25zdHJ1Y3RvcikgPT09IEZ1bmN0aW9uICYmIChiID09PSBudWxsIHx8IGIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGIuY29uc3RydWN0b3IpID09PSBGdW5jdGlvbjtcbiAgICAgICAgfSkgfHwgaW5zdGFudFNlYXJjaEluc3RhbmNlLnN0YXR1cyAhPT0gcHJldmlvdXNTdGF0dXNSZWYuY3VycmVudCkge1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgICBzZXRTdGF0ZShyZW5kZXJTdGF0ZSk7XG4gICAgICAgICAgcHJldmlvdXNSZW5kZXJTdGF0ZVJlZi5jdXJyZW50ID0gcmVuZGVyU3RhdGU7XG4gICAgICAgICAgcHJldmlvdXNTdGF0dXNSZWYuY3VycmVudCA9IGluc3RhbnRTZWFyY2hJbnN0YW5jZS5zdGF0dXM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBXZSdsbCBpZ25vcmUgdGhlIG5leHQgc3RhdGUgdXBkYXRlIHVudGlsIHdlIGtub3cgZm9yIHN1cmUgdGhhdFxuICAgICAgLy8gSW5zdGFudFNlYXJjaC5qcyByZS1pbml0cyB0aGUgY29tcG9uZW50LlxuICAgICAgc2hvdWxkU2V0U3RhdGVSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgIH0pO1xuICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNyZWF0ZVdpZGdldChzdGFibGVQcm9wcykpLCBzdGFibGVBZGRpdGlvbmFsV2lkZ2V0UHJvcGVydGllcyk7XG4gIH0sIFtjb25uZWN0b3IsIHN0YWJsZVByb3BzLCBzdGFibGVBZGRpdGlvbmFsV2lkZ2V0UHJvcGVydGllc10pO1xuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHdpZGdldC5nZXRXaWRnZXRSZW5kZXJTdGF0ZSkge1xuICAgICAgICB2YXIgX3dpZGdldCRnZXRXaWRnZXRTZWFyO1xuICAgICAgICAvLyBUaGUgaGVscGVyIGV4aXN0cyBiZWNhdXNlIHdlJ3ZlIHN0YXJ0ZWQgSW5zdGFudFNlYXJjaC5cbiAgICAgICAgdmFyIGhlbHBlciA9IHBhcmVudEluZGV4LmdldEhlbHBlcigpO1xuICAgICAgICB2YXIgdWlTdGF0ZSA9IHBhcmVudEluZGV4LmdldFdpZGdldFVpU3RhdGUoe30pW3BhcmVudEluZGV4LmdldEluZGV4SWQoKV07XG4gICAgICAgIGhlbHBlci5zdGF0ZSA9ICgoX3dpZGdldCRnZXRXaWRnZXRTZWFyID0gd2lkZ2V0LmdldFdpZGdldFNlYXJjaFBhcmFtZXRlcnMpID09PSBudWxsIHx8IF93aWRnZXQkZ2V0V2lkZ2V0U2VhciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3dpZGdldCRnZXRXaWRnZXRTZWFyLmNhbGwod2lkZ2V0LCBoZWxwZXIuc3RhdGUsIHtcbiAgICAgICAgICB1aVN0YXRlOiB1aVN0YXRlXG4gICAgICAgIH0pKSB8fCBoZWxwZXIuc3RhdGU7XG4gICAgICAgIHZhciBfZ2V0SW5kZXhTZWFyY2hSZXN1bHQgPSBnZXRJbmRleFNlYXJjaFJlc3VsdHMocGFyZW50SW5kZXgpLFxuICAgICAgICAgIHJlc3VsdHMgPSBfZ2V0SW5kZXhTZWFyY2hSZXN1bHQucmVzdWx0cyxcbiAgICAgICAgICBzY29wZWRSZXN1bHRzID0gX2dldEluZGV4U2VhcmNoUmVzdWx0LnNjb3BlZFJlc3VsdHM7XG5cbiAgICAgICAgLy8gV2UgZ2V0IHRoZSB3aWRnZXQgcmVuZGVyIHN0YXRlIGJ5IHByb3ZpZGluZyB0aGUgc2FtZSBwYXJhbWV0ZXJzIGFzXG4gICAgICAgIC8vIEluc3RhbnRTZWFyY2ggcHJvdmlkZXMgdG8gdGhlIHdpZGdldCdzIGByZW5kZXJgIG1ldGhvZC5cbiAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbGdvbGlhL2luc3RhbnRzZWFyY2guanMvYmxvYi8wMTljZDE4ZDBkZTZkZDMyMDI4NGFhNDg5MDU0MWI3ZmUyMTk4YzY1L3NyYy93aWRnZXRzL2luZGV4L2luZGV4LnRzI0w2MDQtTDYxN1xuICAgICAgICB2YXIgX3dpZGdldCRnZXRXaWRnZXRSZW5kID0gd2lkZ2V0LmdldFdpZGdldFJlbmRlclN0YXRlKHtcbiAgICAgICAgICAgIGhlbHBlcjogaGVscGVyLFxuICAgICAgICAgICAgcGFyZW50OiBwYXJlbnRJbmRleCxcbiAgICAgICAgICAgIGluc3RhbnRTZWFyY2hJbnN0YW5jZTogc2VhcmNoLFxuICAgICAgICAgICAgcmVzdWx0czogcmVzdWx0cyxcbiAgICAgICAgICAgIHNjb3BlZFJlc3VsdHM6IHNjb3BlZFJlc3VsdHMsXG4gICAgICAgICAgICBzdGF0ZTogaGVscGVyLnN0YXRlLFxuICAgICAgICAgICAgcmVuZGVyU3RhdGU6IHNlYXJjaC5yZW5kZXJTdGF0ZSxcbiAgICAgICAgICAgIHRlbXBsYXRlc0NvbmZpZzogc2VhcmNoLnRlbXBsYXRlc0NvbmZpZyxcbiAgICAgICAgICAgIGNyZWF0ZVVSTDogcGFyZW50SW5kZXguY3JlYXRlVVJMLFxuICAgICAgICAgICAgc2VhcmNoTWV0YWRhdGE6IHtcbiAgICAgICAgICAgICAgaXNTZWFyY2hTdGFsbGVkOiBzZWFyY2guc3RhdHVzID09PSAnc3RhbGxlZCdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdGF0dXM6IHNlYXJjaC5zdGF0dXMsXG4gICAgICAgICAgICBlcnJvcjogc2VhcmNoLmVycm9yXG4gICAgICAgICAgfSksXG4gICAgICAgICAgd2lkZ2V0UGFyYW1zID0gX3dpZGdldCRnZXRXaWRnZXRSZW5kLndpZGdldFBhcmFtcyxcbiAgICAgICAgICByZW5kZXJTdGF0ZSA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfd2lkZ2V0JGdldFdpZGdldFJlbmQsIF9leGNsdWRlZDIpO1xuICAgICAgICByZXR1cm4gcmVuZGVyU3RhdGU7XG4gICAgICB9XG4gICAgICByZXR1cm4ge307XG4gICAgfSksXG4gICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksXG4gICAgc3RhdGUgPSBfdXNlU3RhdGUyWzBdLFxuICAgIHNldFN0YXRlID0gX3VzZVN0YXRlMlsxXTtcbiAgdXNlV2lkZ2V0KHtcbiAgICB3aWRnZXQ6IHdpZGdldCxcbiAgICBwYXJlbnRJbmRleDogcGFyZW50SW5kZXgsXG4gICAgcHJvcHM6IHN0YWJsZVByb3BzLFxuICAgIHNob3VsZFNzcjogQm9vbGVhbihzZXJ2ZXJDb250ZXh0KVxuICB9KTtcbiAgcmV0dXJuIHN0YXRlO1xufSJdLCJuYW1lcyI6WyJfdHlwZW9mIiwib2JqIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJjb25zdHJ1Y3RvciIsInByb3RvdHlwZSIsIl9leGNsdWRlZCIsIl9leGNsdWRlZDIiLCJfc2xpY2VkVG9BcnJheSIsImFyciIsImkiLCJfYXJyYXlXaXRoSG9sZXMiLCJfaXRlcmFibGVUb0FycmF5TGltaXQiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJfbm9uSXRlcmFibGVSZXN0IiwiVHlwZUVycm9yIiwibyIsIm1pbkxlbiIsIl9hcnJheUxpa2VUb0FycmF5IiwibiIsIk9iamVjdCIsInRvU3RyaW5nIiwiY2FsbCIsInNsaWNlIiwibmFtZSIsIkFycmF5IiwiZnJvbSIsInRlc3QiLCJsZW4iLCJsZW5ndGgiLCJhcnIyIiwiX2kiLCJfcyIsIl9lIiwiX3giLCJfciIsIl9hcnIiLCJfbiIsIl9kIiwibmV4dCIsImRvbmUiLCJwdXNoIiwidmFsdWUiLCJlcnIiLCJyZXR1cm4iLCJpc0FycmF5Iiwib3duS2V5cyIsIm9iamVjdCIsImVudW1lcmFibGVPbmx5Iiwia2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsInN5bWJvbHMiLCJmaWx0ZXIiLCJzeW0iLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiYXBwbHkiLCJfb2JqZWN0U3ByZWFkIiwidGFyZ2V0IiwiYXJndW1lbnRzIiwic291cmNlIiwiZm9yRWFjaCIsImtleSIsIl9kZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZGVmaW5lUHJvcGVydHkiLCJfdG9Qcm9wZXJ0eUtleSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiYXJnIiwiX3RvUHJpbWl0aXZlIiwiU3RyaW5nIiwiaW5wdXQiLCJoaW50IiwicHJpbSIsInRvUHJpbWl0aXZlIiwidW5kZWZpbmVkIiwicmVzIiwiTnVtYmVyIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIiwiZXhjbHVkZWQiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSIsInNvdXJjZVN5bWJvbEtleXMiLCJpbmRleE9mIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJzb3VyY2VLZXlzIiwidXNlTWVtbyIsInVzZVJlZiIsInVzZVN0YXRlIiwiZGVxdWFsIiwiZ2V0SW5kZXhTZWFyY2hSZXN1bHRzIiwidXNlSW5kZXhDb250ZXh0IiwidXNlSW5zdGFudFNlYXJjaENvbnRleHQiLCJ1c2VJbnN0YW50U2VhcmNoU2VydmVyQ29udGV4dCIsInVzZVN0YWJsZVZhbHVlIiwidXNlV2lkZ2V0IiwidXNlQ29ubmVjdG9yIiwiY29ubmVjdG9yIiwicHJvcHMiLCJhZGRpdGlvbmFsV2lkZ2V0UHJvcGVydGllcyIsInNlcnZlckNvbnRleHQiLCJzZWFyY2giLCJwYXJlbnRJbmRleCIsInN0YWJsZVByb3BzIiwic3RhYmxlQWRkaXRpb25hbFdpZGdldFByb3BlcnRpZXMiLCJzaG91bGRTZXRTdGF0ZVJlZiIsInByZXZpb3VzUmVuZGVyU3RhdGVSZWYiLCJwcmV2aW91c1N0YXR1c1JlZiIsInN0YXR1cyIsIndpZGdldCIsImNyZWF0ZVdpZGdldCIsImNvbm5lY3RvclN0YXRlIiwiaXNGaXJzdFJlbmRlciIsImN1cnJlbnQiLCJpbnN0YW50U2VhcmNoSW5zdGFuY2UiLCJ3aWRnZXRQYXJhbXMiLCJyZW5kZXJTdGF0ZSIsImEiLCJiIiwiRnVuY3Rpb24iLCJzZXRTdGF0ZSIsIl91c2VTdGF0ZSIsImdldFdpZGdldFJlbmRlclN0YXRlIiwiX3dpZGdldCRnZXRXaWRnZXRTZWFyIiwiaGVscGVyIiwiZ2V0SGVscGVyIiwidWlTdGF0ZSIsImdldFdpZGdldFVpU3RhdGUiLCJnZXRJbmRleElkIiwic3RhdGUiLCJnZXRXaWRnZXRTZWFyY2hQYXJhbWV0ZXJzIiwiX2dldEluZGV4U2VhcmNoUmVzdWx0IiwicmVzdWx0cyIsInNjb3BlZFJlc3VsdHMiLCJfd2lkZ2V0JGdldFdpZGdldFJlbmQiLCJwYXJlbnQiLCJ0ZW1wbGF0ZXNDb25maWciLCJjcmVhdGVVUkwiLCJzZWFyY2hNZXRhZGF0YSIsImlzU2VhcmNoU3RhbGxlZCIsImVycm9yIiwiX3VzZVN0YXRlMiIsInNob3VsZFNzciIsIkJvb2xlYW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/dist/es/hooks/useConnector.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/IndexContext.js":
/*!****************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/dist/es/lib/IndexContext.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IndexContext: () => (/* binding */ IndexContext)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n\nvar IndexContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nif (true) {\n    IndexContext.displayName = \"Index\";\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9kaXN0L2VzL2xpYi9JbmRleENvbnRleHQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBc0M7QUFDL0IsSUFBSUMsZUFBZSxXQUFXLEdBQUVELG9EQUFhQSxDQUFDLE1BQU07QUFDM0QsSUFBSUUsSUFBeUIsRUFBZTtJQUMxQ0QsYUFBYUUsV0FBVyxHQUFHO0FBQzdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVkdXNhLW5leHQvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9kaXN0L2VzL2xpYi9JbmRleENvbnRleHQuanM/OTBkMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuZXhwb3J0IHZhciBJbmRleENvbnRleHQgPSAvKiNfX1BVUkVfXyovY3JlYXRlQ29udGV4dChudWxsKTtcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICBJbmRleENvbnRleHQuZGlzcGxheU5hbWUgPSAnSW5kZXgnO1xufSJdLCJuYW1lcyI6WyJjcmVhdGVDb250ZXh0IiwiSW5kZXhDb250ZXh0IiwicHJvY2VzcyIsImRpc3BsYXlOYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/IndexContext.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/InstantSearchContext.js":
/*!************************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/dist/es/lib/InstantSearchContext.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InstantSearchContext: () => (/* binding */ InstantSearchContext)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n\nvar InstantSearchContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nif (true) {\n    InstantSearchContext.displayName = \"InstantSearch\";\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9kaXN0L2VzL2xpYi9JbnN0YW50U2VhcmNoQ29udGV4dC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFzQztBQUMvQixJQUFJQyx1QkFBdUIsV0FBVyxHQUFFRCxvREFBYUEsQ0FBQyxNQUFNO0FBQ25FLElBQUlFLElBQXlCLEVBQWU7SUFDMUNELHFCQUFxQkUsV0FBVyxHQUFHO0FBQ3JDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVkdXNhLW5leHQvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9kaXN0L2VzL2xpYi9JbnN0YW50U2VhcmNoQ29udGV4dC5qcz83ZjBmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5leHBvcnQgdmFyIEluc3RhbnRTZWFyY2hDb250ZXh0ID0gLyojX19QVVJFX18qL2NyZWF0ZUNvbnRleHQobnVsbCk7XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgSW5zdGFudFNlYXJjaENvbnRleHQuZGlzcGxheU5hbWUgPSAnSW5zdGFudFNlYXJjaCc7XG59Il0sIm5hbWVzIjpbImNyZWF0ZUNvbnRleHQiLCJJbnN0YW50U2VhcmNoQ29udGV4dCIsInByb2Nlc3MiLCJkaXNwbGF5TmFtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/InstantSearchContext.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/InstantSearchSSRContext.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/dist/es/lib/InstantSearchSSRContext.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InstantSearchSSRContext: () => (/* binding */ InstantSearchSSRContext)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n\nvar InstantSearchSSRContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nif (true) {\n    InstantSearchSSRContext.displayName = \"InstantSearchSSR\";\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9kaXN0L2VzL2xpYi9JbnN0YW50U2VhcmNoU1NSQ29udGV4dC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFzQztBQUMvQixJQUFJQywwQkFBMEIsV0FBVyxHQUFFRCxvREFBYUEsQ0FBQyxNQUFNO0FBQ3RFLElBQUlFLElBQXlCLEVBQWU7SUFDMUNELHdCQUF3QkUsV0FBVyxHQUFHO0FBQ3hDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVkdXNhLW5leHQvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9kaXN0L2VzL2xpYi9JbnN0YW50U2VhcmNoU1NSQ29udGV4dC5qcz83MmY0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5leHBvcnQgdmFyIEluc3RhbnRTZWFyY2hTU1JDb250ZXh0ID0gLyojX19QVVJFX18qL2NyZWF0ZUNvbnRleHQobnVsbCk7XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgSW5zdGFudFNlYXJjaFNTUkNvbnRleHQuZGlzcGxheU5hbWUgPSAnSW5zdGFudFNlYXJjaFNTUic7XG59Il0sIm5hbWVzIjpbImNyZWF0ZUNvbnRleHQiLCJJbnN0YW50U2VhcmNoU1NSQ29udGV4dCIsInByb2Nlc3MiLCJkaXNwbGF5TmFtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/InstantSearchSSRContext.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/createSearchResults.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/dist/es/lib/createSearchResults.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createSearchResults: () => (/* binding */ createSearchResults)\n/* harmony export */ });\n/* harmony import */ var algoliasearch_helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! algoliasearch-helper */ \"(ssr)/./node_modules/react-instantsearch-hooks/node_modules/algoliasearch-helper/index.js\");\n\nfunction createSearchResults(state) {\n    var _state$query, _state$page, _state$hitsPerPage;\n    return new algoliasearch_helper__WEBPACK_IMPORTED_MODULE_0__.SearchResults(state, [\n        {\n            query: (_state$query = state.query) !== null && _state$query !== void 0 ? _state$query : \"\",\n            page: (_state$page = state.page) !== null && _state$page !== void 0 ? _state$page : 0,\n            hitsPerPage: (_state$hitsPerPage = state.hitsPerPage) !== null && _state$hitsPerPage !== void 0 ? _state$hitsPerPage : 20,\n            hits: [],\n            nbHits: 0,\n            nbPages: 0,\n            params: \"\",\n            exhaustiveNbHits: true,\n            exhaustiveFacetsCount: true,\n            processingTimeMS: 0,\n            index: state.index\n        }\n    ], {\n        /** used by connectors to prevent persisting these results */ __isArtificial: true\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9kaXN0L2VzL2xpYi9jcmVhdGVTZWFyY2hSZXN1bHRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXVEO0FBQ2hELFNBQVNDLG9CQUFvQkMsS0FBSztJQUN2QyxJQUFJQyxjQUFjQyxhQUFhQztJQUMvQixPQUFPLElBQUlMLCtEQUFpQyxDQUFDRSxPQUFPO1FBQUM7WUFDbkRLLE9BQU8sQ0FBQ0osZUFBZUQsTUFBTUssS0FBSyxNQUFNLFFBQVFKLGlCQUFpQixLQUFLLElBQUlBLGVBQWU7WUFDekZLLE1BQU0sQ0FBQ0osY0FBY0YsTUFBTU0sSUFBSSxNQUFNLFFBQVFKLGdCQUFnQixLQUFLLElBQUlBLGNBQWM7WUFDcEZLLGFBQWEsQ0FBQ0oscUJBQXFCSCxNQUFNTyxXQUFXLE1BQU0sUUFBUUosdUJBQXVCLEtBQUssSUFBSUEscUJBQXFCO1lBQ3ZISyxNQUFNLEVBQUU7WUFDUkMsUUFBUTtZQUNSQyxTQUFTO1lBQ1RDLFFBQVE7WUFDUkMsa0JBQWtCO1lBQ2xCQyx1QkFBdUI7WUFDdkJDLGtCQUFrQjtZQUNsQkMsT0FBT2YsTUFBTWUsS0FBSztRQUNwQjtLQUFFLEVBQUU7UUFDRiwyREFBMkQsR0FDM0RDLGdCQUFnQjtJQUNsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVkdXNhLW5leHQvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9kaXN0L2VzL2xpYi9jcmVhdGVTZWFyY2hSZXN1bHRzLmpzP2I0N2MiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFsZ29saWFzZWFyY2hIZWxwZXIgZnJvbSAnYWxnb2xpYXNlYXJjaC1oZWxwZXInO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNlYXJjaFJlc3VsdHMoc3RhdGUpIHtcbiAgdmFyIF9zdGF0ZSRxdWVyeSwgX3N0YXRlJHBhZ2UsIF9zdGF0ZSRoaXRzUGVyUGFnZTtcbiAgcmV0dXJuIG5ldyBhbGdvbGlhc2VhcmNoSGVscGVyLlNlYXJjaFJlc3VsdHMoc3RhdGUsIFt7XG4gICAgcXVlcnk6IChfc3RhdGUkcXVlcnkgPSBzdGF0ZS5xdWVyeSkgIT09IG51bGwgJiYgX3N0YXRlJHF1ZXJ5ICE9PSB2b2lkIDAgPyBfc3RhdGUkcXVlcnkgOiAnJyxcbiAgICBwYWdlOiAoX3N0YXRlJHBhZ2UgPSBzdGF0ZS5wYWdlKSAhPT0gbnVsbCAmJiBfc3RhdGUkcGFnZSAhPT0gdm9pZCAwID8gX3N0YXRlJHBhZ2UgOiAwLFxuICAgIGhpdHNQZXJQYWdlOiAoX3N0YXRlJGhpdHNQZXJQYWdlID0gc3RhdGUuaGl0c1BlclBhZ2UpICE9PSBudWxsICYmIF9zdGF0ZSRoaXRzUGVyUGFnZSAhPT0gdm9pZCAwID8gX3N0YXRlJGhpdHNQZXJQYWdlIDogMjAsXG4gICAgaGl0czogW10sXG4gICAgbmJIaXRzOiAwLFxuICAgIG5iUGFnZXM6IDAsXG4gICAgcGFyYW1zOiAnJyxcbiAgICBleGhhdXN0aXZlTmJIaXRzOiB0cnVlLFxuICAgIGV4aGF1c3RpdmVGYWNldHNDb3VudDogdHJ1ZSxcbiAgICBwcm9jZXNzaW5nVGltZU1TOiAwLFxuICAgIGluZGV4OiBzdGF0ZS5pbmRleFxuICB9XSwge1xuICAgIC8qKiB1c2VkIGJ5IGNvbm5lY3RvcnMgdG8gcHJldmVudCBwZXJzaXN0aW5nIHRoZXNlIHJlc3VsdHMgKi9cbiAgICBfX2lzQXJ0aWZpY2lhbDogdHJ1ZVxuICB9KTtcbn0iXSwibmFtZXMiOlsiYWxnb2xpYXNlYXJjaEhlbHBlciIsImNyZWF0ZVNlYXJjaFJlc3VsdHMiLCJzdGF0ZSIsIl9zdGF0ZSRxdWVyeSIsIl9zdGF0ZSRwYWdlIiwiX3N0YXRlJGhpdHNQZXJQYWdlIiwiU2VhcmNoUmVzdWx0cyIsInF1ZXJ5IiwicGFnZSIsImhpdHNQZXJQYWdlIiwiaGl0cyIsIm5iSGl0cyIsIm5iUGFnZXMiLCJwYXJhbXMiLCJleGhhdXN0aXZlTmJIaXRzIiwiZXhoYXVzdGl2ZUZhY2V0c0NvdW50IiwicHJvY2Vzc2luZ1RpbWVNUyIsImluZGV4IiwiX19pc0FydGlmaWNpYWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/createSearchResults.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/dequal.js":
/*!**********************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/dist/es/lib/dequal.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   dequal: () => (/* binding */ dequal)\n/* harmony export */ });\nfunction _typeof(obj) {\n    \"@babel/helpers - typeof\";\n    return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj) {\n        return typeof obj;\n    } : function(obj) {\n        return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    }, _typeof(obj);\n}\n/* eslint-disable complexity */ /*\n * Code taken from dequal/lite v2.0.0\n * https://github.com/lukeed/dequal/blob/9aa73181ac7e081cd330cac67d313632ac04bb02/src/lite.js\n *\n * It adds a 3rd argument `compare(a, b)` that lets execute custom logic to\n * compare values.\n * We use it to skip comparing function references.\n */ // eslint-disable-next-line @typescript-eslint/unbound-method\nvar has = Object.prototype.hasOwnProperty;\nfunction dequal(foo, bar, compare) {\n    // start of custom implementation\n    if (compare !== null && compare !== void 0 && compare(foo, bar)) {\n        return true;\n    }\n    // end of custom implementation\n    var ctor;\n    var len;\n    if (foo === bar) return true;\n    if (foo && bar && (ctor = foo.constructor) === bar.constructor) {\n        if (ctor === Date) return foo.getTime() === bar.getTime();\n        if (ctor === RegExp) return foo.toString() === bar.toString();\n        if (ctor === Array) {\n            if ((len = foo.length) === bar.length) {\n                while(len-- && dequal(foo[len], bar[len], compare));\n            }\n            return len === -1;\n        }\n        if (!ctor || _typeof(foo) === \"object\") {\n            len = 0;\n            // eslint-disable-next-line guard-for-in, no-restricted-syntax\n            for(ctor in foo){\n                if (has.call(foo, ctor) && ++len && !has.call(bar, ctor)) return false;\n                if (!(ctor in bar) || !dequal(foo[ctor], bar[ctor], compare)) return false;\n            }\n            return Object.keys(bar).length === len;\n        }\n    }\n    // eslint-disable-next-line no-self-compare\n    return foo !== foo && bar !== bar;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9kaXN0L2VzL2xpYi9kZXF1YWwuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLFNBQVNBLFFBQVFDLEdBQUc7SUFBSTtJQUEyQixPQUFPRCxVQUFVLGNBQWMsT0FBT0UsVUFBVSxZQUFZLE9BQU9BLE9BQU9DLFFBQVEsR0FBRyxTQUFVRixHQUFHO1FBQUksT0FBTyxPQUFPQTtJQUFLLElBQUksU0FBVUEsR0FBRztRQUFJLE9BQU9BLE9BQU8sY0FBYyxPQUFPQyxVQUFVRCxJQUFJRyxXQUFXLEtBQUtGLFVBQVVELFFBQVFDLE9BQU9HLFNBQVMsR0FBRyxXQUFXLE9BQU9KO0lBQUssR0FBR0QsUUFBUUM7QUFBTTtBQUMvVSw2QkFBNkIsR0FFN0I7Ozs7Ozs7Q0FPQyxHQUVELDZEQUE2RDtBQUM3RCxJQUFJSyxNQUFNQyxPQUFPRixTQUFTLENBQUNHLGNBQWM7QUFDbEMsU0FBU0MsT0FBT0MsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLE9BQU87SUFDdEMsaUNBQWlDO0lBQ2pDLElBQUlBLFlBQVksUUFBUUEsWUFBWSxLQUFLLEtBQUtBLFFBQVFGLEtBQUtDLE1BQU07UUFDL0QsT0FBTztJQUNUO0lBQ0EsK0JBQStCO0lBRS9CLElBQUlFO0lBQ0osSUFBSUM7SUFDSixJQUFJSixRQUFRQyxLQUFLLE9BQU87SUFDeEIsSUFBSUQsT0FBT0MsT0FBTyxDQUFDRSxPQUFPSCxJQUFJTixXQUFXLE1BQU1PLElBQUlQLFdBQVcsRUFBRTtRQUM5RCxJQUFJUyxTQUFTRSxNQUFNLE9BQU9MLElBQUlNLE9BQU8sT0FBT0wsSUFBSUssT0FBTztRQUN2RCxJQUFJSCxTQUFTSSxRQUFRLE9BQU9QLElBQUlRLFFBQVEsT0FBT1AsSUFBSU8sUUFBUTtRQUMzRCxJQUFJTCxTQUFTTSxPQUFPO1lBQ2xCLElBQUksQ0FBQ0wsTUFBTUosSUFBSVUsTUFBTSxNQUFNVCxJQUFJUyxNQUFNLEVBQUU7Z0JBQ3JDLE1BQU9OLFNBQVNMLE9BQU9DLEdBQUcsQ0FBQ0ksSUFBSSxFQUFFSCxHQUFHLENBQUNHLElBQUksRUFBRUY7WUFDN0M7WUFDQSxPQUFPRSxRQUFRLENBQUM7UUFDbEI7UUFDQSxJQUFJLENBQUNELFFBQVFiLFFBQVFVLFNBQVMsVUFBVTtZQUN0Q0ksTUFBTTtZQUNOLDhEQUE4RDtZQUM5RCxJQUFLRCxRQUFRSCxJQUFLO2dCQUNoQixJQUFJSixJQUFJZSxJQUFJLENBQUNYLEtBQUtHLFNBQVMsRUFBRUMsT0FBTyxDQUFDUixJQUFJZSxJQUFJLENBQUNWLEtBQUtFLE9BQU8sT0FBTztnQkFDakUsSUFBSSxDQUFFQSxDQUFBQSxRQUFRRixHQUFFLEtBQU0sQ0FBQ0YsT0FBT0MsR0FBRyxDQUFDRyxLQUFLLEVBQUVGLEdBQUcsQ0FBQ0UsS0FBSyxFQUFFRCxVQUFVLE9BQU87WUFDdkU7WUFDQSxPQUFPTCxPQUFPZSxJQUFJLENBQUNYLEtBQUtTLE1BQU0sS0FBS047UUFDckM7SUFDRjtJQUVBLDJDQUEyQztJQUMzQyxPQUFPSixRQUFRQSxPQUFPQyxRQUFRQTtBQUNoQyIsInNvdXJjZXMiOlsid2VicGFjazovL21lZHVzYS1uZXh0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LWluc3RhbnRzZWFyY2gtaG9va3MvZGlzdC9lcy9saWIvZGVxdWFsLmpzP2FkZDIiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH0sIF90eXBlb2Yob2JqKTsgfVxuLyogZXNsaW50LWRpc2FibGUgY29tcGxleGl0eSAqL1xuXG4vKlxuICogQ29kZSB0YWtlbiBmcm9tIGRlcXVhbC9saXRlIHYyLjAuMFxuICogaHR0cHM6Ly9naXRodWIuY29tL2x1a2VlZC9kZXF1YWwvYmxvYi85YWE3MzE4MWFjN2UwODFjZDMzMGNhYzY3ZDMxMzYzMmFjMDRiYjAyL3NyYy9saXRlLmpzXG4gKlxuICogSXQgYWRkcyBhIDNyZCBhcmd1bWVudCBgY29tcGFyZShhLCBiKWAgdGhhdCBsZXRzIGV4ZWN1dGUgY3VzdG9tIGxvZ2ljIHRvXG4gKiBjb21wYXJlIHZhbHVlcy5cbiAqIFdlIHVzZSBpdCB0byBza2lwIGNvbXBhcmluZyBmdW5jdGlvbiByZWZlcmVuY2VzLlxuICovXG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvdW5ib3VuZC1tZXRob2RcbnZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuZXhwb3J0IGZ1bmN0aW9uIGRlcXVhbChmb28sIGJhciwgY29tcGFyZSkge1xuICAvLyBzdGFydCBvZiBjdXN0b20gaW1wbGVtZW50YXRpb25cbiAgaWYgKGNvbXBhcmUgIT09IG51bGwgJiYgY29tcGFyZSAhPT0gdm9pZCAwICYmIGNvbXBhcmUoZm9vLCBiYXIpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgLy8gZW5kIG9mIGN1c3RvbSBpbXBsZW1lbnRhdGlvblxuXG4gIHZhciBjdG9yO1xuICB2YXIgbGVuO1xuICBpZiAoZm9vID09PSBiYXIpIHJldHVybiB0cnVlO1xuICBpZiAoZm9vICYmIGJhciAmJiAoY3RvciA9IGZvby5jb25zdHJ1Y3RvcikgPT09IGJhci5jb25zdHJ1Y3Rvcikge1xuICAgIGlmIChjdG9yID09PSBEYXRlKSByZXR1cm4gZm9vLmdldFRpbWUoKSA9PT0gYmFyLmdldFRpbWUoKTtcbiAgICBpZiAoY3RvciA9PT0gUmVnRXhwKSByZXR1cm4gZm9vLnRvU3RyaW5nKCkgPT09IGJhci50b1N0cmluZygpO1xuICAgIGlmIChjdG9yID09PSBBcnJheSkge1xuICAgICAgaWYgKChsZW4gPSBmb28ubGVuZ3RoKSA9PT0gYmFyLmxlbmd0aCkge1xuICAgICAgICB3aGlsZSAobGVuLS0gJiYgZGVxdWFsKGZvb1tsZW5dLCBiYXJbbGVuXSwgY29tcGFyZSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGxlbiA9PT0gLTE7XG4gICAgfVxuICAgIGlmICghY3RvciB8fCBfdHlwZW9mKGZvbykgPT09ICdvYmplY3QnKSB7XG4gICAgICBsZW4gPSAwO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGd1YXJkLWZvci1pbiwgbm8tcmVzdHJpY3RlZC1zeW50YXhcbiAgICAgIGZvciAoY3RvciBpbiBmb28pIHtcbiAgICAgICAgaWYgKGhhcy5jYWxsKGZvbywgY3RvcikgJiYgKytsZW4gJiYgIWhhcy5jYWxsKGJhciwgY3RvcikpIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKCEoY3RvciBpbiBiYXIpIHx8ICFkZXF1YWwoZm9vW2N0b3JdLCBiYXJbY3Rvcl0sIGNvbXBhcmUpKSByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gT2JqZWN0LmtleXMoYmFyKS5sZW5ndGggPT09IGxlbjtcbiAgICB9XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlXG4gIHJldHVybiBmb28gIT09IGZvbyAmJiBiYXIgIT09IGJhcjtcbn0iXSwibmFtZXMiOlsiX3R5cGVvZiIsIm9iaiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJoYXMiLCJPYmplY3QiLCJoYXNPd25Qcm9wZXJ0eSIsImRlcXVhbCIsImZvbyIsImJhciIsImNvbXBhcmUiLCJjdG9yIiwibGVuIiwiRGF0ZSIsImdldFRpbWUiLCJSZWdFeHAiLCJ0b1N0cmluZyIsIkFycmF5IiwibGVuZ3RoIiwiY2FsbCIsImtleXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/dequal.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/getIndexSearchResults.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/dist/es/lib/getIndexSearchResults.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getIndexSearchResults: () => (/* binding */ getIndexSearchResults)\n/* harmony export */ });\n/* harmony import */ var _createSearchResults_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./createSearchResults.js */ \"(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/createSearchResults.js\");\nfunction _typeof(obj) {\n    \"@babel/helpers - typeof\";\n    return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj) {\n        return typeof obj;\n    } : function(obj) {\n        return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    }, _typeof(obj);\n}\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        enumerableOnly && (symbols = symbols.filter(function(sym) {\n            return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n        })), keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _objectSpread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = null != arguments[i] ? arguments[i] : {};\n        i % 2 ? ownKeys(Object(source), !0).forEach(function(key) {\n            _defineProperty(target, key, source[key]);\n        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {\n            Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n    }\n    return target;\n}\nfunction _defineProperty(obj, key, value) {\n    key = _toPropertyKey(key);\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _toPropertyKey(arg) {\n    var key = _toPrimitive(arg, \"string\");\n    return _typeof(key) === \"symbol\" ? key : String(key);\n}\nfunction _toPrimitive(input, hint) {\n    if (_typeof(input) !== \"object\" || input === null) return input;\n    var prim = input[Symbol.toPrimitive];\n    if (prim !== undefined) {\n        var res = prim.call(input, hint || \"default\");\n        if (_typeof(res) !== \"object\") return res;\n        throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n    }\n    return (hint === \"string\" ? String : Number)(input);\n}\n\nfunction getIndexSearchResults(indexWidget) {\n    var helper = indexWidget.getHelper();\n    var results = // On SSR, we get the results injected on the Index.\n    indexWidget.getResults() || // On the browser, we create fallback results based on the helper state.\n    (0,_createSearchResults_js__WEBPACK_IMPORTED_MODULE_0__.createSearchResults)(helper.state);\n    var scopedResults = indexWidget.getScopedResults().map(function(scopedResult) {\n        var fallbackResults = scopedResult.indexId === indexWidget.getIndexId() ? results : (0,_createSearchResults_js__WEBPACK_IMPORTED_MODULE_0__.createSearchResults)(scopedResult.helper.state);\n        return _objectSpread(_objectSpread({}, scopedResult), {}, {\n            // We keep `results` from being `null`.\n            results: scopedResult.results || fallbackResults\n        });\n    });\n    return {\n        results: results,\n        scopedResults: scopedResults\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9kaXN0L2VzL2xpYi9nZXRJbmRleFNlYXJjaFJlc3VsdHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxTQUFTQSxRQUFRQyxHQUFHO0lBQUk7SUFBMkIsT0FBT0QsVUFBVSxjQUFjLE9BQU9FLFVBQVUsWUFBWSxPQUFPQSxPQUFPQyxRQUFRLEdBQUcsU0FBVUYsR0FBRztRQUFJLE9BQU8sT0FBT0E7SUFBSyxJQUFJLFNBQVVBLEdBQUc7UUFBSSxPQUFPQSxPQUFPLGNBQWMsT0FBT0MsVUFBVUQsSUFBSUcsV0FBVyxLQUFLRixVQUFVRCxRQUFRQyxPQUFPRyxTQUFTLEdBQUcsV0FBVyxPQUFPSjtJQUFLLEdBQUdELFFBQVFDO0FBQU07QUFDL1UsU0FBU0ssUUFBUUMsTUFBTSxFQUFFQyxjQUFjO0lBQUksSUFBSUMsT0FBT0MsT0FBT0QsSUFBSSxDQUFDRjtJQUFTLElBQUlHLE9BQU9DLHFCQUFxQixFQUFFO1FBQUUsSUFBSUMsVUFBVUYsT0FBT0MscUJBQXFCLENBQUNKO1FBQVNDLGtCQUFtQkksQ0FBQUEsVUFBVUEsUUFBUUMsTUFBTSxDQUFDLFNBQVVDLEdBQUc7WUFBSSxPQUFPSixPQUFPSyx3QkFBd0IsQ0FBQ1IsUUFBUU8sS0FBS0UsVUFBVTtRQUFFLEVBQUMsR0FBSVAsS0FBS1EsSUFBSSxDQUFDQyxLQUFLLENBQUNULE1BQU1HO0lBQVU7SUFBRSxPQUFPSDtBQUFNO0FBQ3BWLFNBQVNVLGNBQWNDLE1BQU07SUFBSSxJQUFLLElBQUlDLElBQUksR0FBR0EsSUFBSUMsVUFBVUMsTUFBTSxFQUFFRixJQUFLO1FBQUUsSUFBSUcsU0FBUyxRQUFRRixTQUFTLENBQUNELEVBQUUsR0FBR0MsU0FBUyxDQUFDRCxFQUFFLEdBQUcsQ0FBQztRQUFHQSxJQUFJLElBQUlmLFFBQVFJLE9BQU9jLFNBQVMsQ0FBQyxHQUFHQyxPQUFPLENBQUMsU0FBVUMsR0FBRztZQUFJQyxnQkFBZ0JQLFFBQVFNLEtBQUtGLE1BQU0sQ0FBQ0UsSUFBSTtRQUFHLEtBQUtoQixPQUFPa0IseUJBQXlCLEdBQUdsQixPQUFPbUIsZ0JBQWdCLENBQUNULFFBQVFWLE9BQU9rQix5QkFBeUIsQ0FBQ0osV0FBV2xCLFFBQVFJLE9BQU9jLFNBQVNDLE9BQU8sQ0FBQyxTQUFVQyxHQUFHO1lBQUloQixPQUFPb0IsY0FBYyxDQUFDVixRQUFRTSxLQUFLaEIsT0FBT0ssd0JBQXdCLENBQUNTLFFBQVFFO1FBQU87SUFBSTtJQUFFLE9BQU9OO0FBQVE7QUFDemYsU0FBU08sZ0JBQWdCMUIsR0FBRyxFQUFFeUIsR0FBRyxFQUFFSyxLQUFLO0lBQUlMLE1BQU1NLGVBQWVOO0lBQU0sSUFBSUEsT0FBT3pCLEtBQUs7UUFBRVMsT0FBT29CLGNBQWMsQ0FBQzdCLEtBQUt5QixLQUFLO1lBQUVLLE9BQU9BO1lBQU9mLFlBQVk7WUFBTWlCLGNBQWM7WUFBTUMsVUFBVTtRQUFLO0lBQUksT0FBTztRQUFFakMsR0FBRyxDQUFDeUIsSUFBSSxHQUFHSztJQUFPO0lBQUUsT0FBTzlCO0FBQUs7QUFDM08sU0FBUytCLGVBQWVHLEdBQUc7SUFBSSxJQUFJVCxNQUFNVSxhQUFhRCxLQUFLO0lBQVcsT0FBT25DLFFBQVEwQixTQUFTLFdBQVdBLE1BQU1XLE9BQU9YO0FBQU07QUFDNUgsU0FBU1UsYUFBYUUsS0FBSyxFQUFFQyxJQUFJO0lBQUksSUFBSXZDLFFBQVFzQyxXQUFXLFlBQVlBLFVBQVUsTUFBTSxPQUFPQTtJQUFPLElBQUlFLE9BQU9GLEtBQUssQ0FBQ3BDLE9BQU91QyxXQUFXLENBQUM7SUFBRSxJQUFJRCxTQUFTRSxXQUFXO1FBQUUsSUFBSUMsTUFBTUgsS0FBS0ksSUFBSSxDQUFDTixPQUFPQyxRQUFRO1FBQVksSUFBSXZDLFFBQVEyQyxTQUFTLFVBQVUsT0FBT0E7UUFBSyxNQUFNLElBQUlFLFVBQVU7SUFBaUQ7SUFBRSxPQUFPLENBQUNOLFNBQVMsV0FBV0YsU0FBU1MsTUFBSyxFQUFHUjtBQUFRO0FBQzdUO0FBQ3hELFNBQVNVLHNCQUFzQkMsV0FBVztJQUMvQyxJQUFJQyxTQUFTRCxZQUFZRSxTQUFTO0lBQ2xDLElBQUlDLFVBQ0osb0RBQW9EO0lBQ3BESCxZQUFZSSxVQUFVLE1BQ3RCLHdFQUF3RTtJQUN4RU4sNEVBQW1CQSxDQUFDRyxPQUFPSSxLQUFLO0lBQ2hDLElBQUlDLGdCQUFnQk4sWUFBWU8sZ0JBQWdCLEdBQUdDLEdBQUcsQ0FBQyxTQUFVQyxZQUFZO1FBQzNFLElBQUlDLGtCQUFrQkQsYUFBYUUsT0FBTyxLQUFLWCxZQUFZWSxVQUFVLEtBQUtULFVBQVVMLDRFQUFtQkEsQ0FBQ1csYUFBYVIsTUFBTSxDQUFDSSxLQUFLO1FBQ2pJLE9BQU9uQyxjQUFjQSxjQUFjLENBQUMsR0FBR3VDLGVBQWUsQ0FBQyxHQUFHO1lBQ3hELHVDQUF1QztZQUN2Q04sU0FBU00sYUFBYU4sT0FBTyxJQUFJTztRQUNuQztJQUNGO0lBQ0EsT0FBTztRQUNMUCxTQUFTQTtRQUNURyxlQUFlQTtJQUNqQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVkdXNhLW5leHQvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9kaXN0L2VzL2xpYi9nZXRJbmRleFNlYXJjaFJlc3VsdHMuanM/N2JmMCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfSwgX3R5cGVvZihvYmopOyB9XG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgZW51bWVyYWJsZU9ubHkgJiYgKHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KSksIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyhPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsga2V5ID0gX3RvUHJvcGVydHlLZXkoa2V5KTsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShhcmcpIHsgdmFyIGtleSA9IF90b1ByaW1pdGl2ZShhcmcsIFwic3RyaW5nXCIpOyByZXR1cm4gX3R5cGVvZihrZXkpID09PSBcInN5bWJvbFwiID8ga2V5IDogU3RyaW5nKGtleSk7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkgeyBpZiAoX3R5cGVvZihpbnB1dCkgIT09IFwib2JqZWN0XCIgfHwgaW5wdXQgPT09IG51bGwpIHJldHVybiBpbnB1dDsgdmFyIHByaW0gPSBpbnB1dFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAocHJpbSAhPT0gdW5kZWZpbmVkKSB7IHZhciByZXMgPSBwcmltLmNhbGwoaW5wdXQsIGhpbnQgfHwgXCJkZWZhdWx0XCIpOyBpZiAoX3R5cGVvZihyZXMpICE9PSBcIm9iamVjdFwiKSByZXR1cm4gcmVzOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChoaW50ID09PSBcInN0cmluZ1wiID8gU3RyaW5nIDogTnVtYmVyKShpbnB1dCk7IH1cbmltcG9ydCB7IGNyZWF0ZVNlYXJjaFJlc3VsdHMgfSBmcm9tIFwiLi9jcmVhdGVTZWFyY2hSZXN1bHRzLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gZ2V0SW5kZXhTZWFyY2hSZXN1bHRzKGluZGV4V2lkZ2V0KSB7XG4gIHZhciBoZWxwZXIgPSBpbmRleFdpZGdldC5nZXRIZWxwZXIoKTtcbiAgdmFyIHJlc3VsdHMgPVxuICAvLyBPbiBTU1IsIHdlIGdldCB0aGUgcmVzdWx0cyBpbmplY3RlZCBvbiB0aGUgSW5kZXguXG4gIGluZGV4V2lkZ2V0LmdldFJlc3VsdHMoKSB8fFxuICAvLyBPbiB0aGUgYnJvd3Nlciwgd2UgY3JlYXRlIGZhbGxiYWNrIHJlc3VsdHMgYmFzZWQgb24gdGhlIGhlbHBlciBzdGF0ZS5cbiAgY3JlYXRlU2VhcmNoUmVzdWx0cyhoZWxwZXIuc3RhdGUpO1xuICB2YXIgc2NvcGVkUmVzdWx0cyA9IGluZGV4V2lkZ2V0LmdldFNjb3BlZFJlc3VsdHMoKS5tYXAoZnVuY3Rpb24gKHNjb3BlZFJlc3VsdCkge1xuICAgIHZhciBmYWxsYmFja1Jlc3VsdHMgPSBzY29wZWRSZXN1bHQuaW5kZXhJZCA9PT0gaW5kZXhXaWRnZXQuZ2V0SW5kZXhJZCgpID8gcmVzdWx0cyA6IGNyZWF0ZVNlYXJjaFJlc3VsdHMoc2NvcGVkUmVzdWx0LmhlbHBlci5zdGF0ZSk7XG4gICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc2NvcGVkUmVzdWx0KSwge30sIHtcbiAgICAgIC8vIFdlIGtlZXAgYHJlc3VsdHNgIGZyb20gYmVpbmcgYG51bGxgLlxuICAgICAgcmVzdWx0czogc2NvcGVkUmVzdWx0LnJlc3VsdHMgfHwgZmFsbGJhY2tSZXN1bHRzXG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIHJlc3VsdHM6IHJlc3VsdHMsXG4gICAgc2NvcGVkUmVzdWx0czogc2NvcGVkUmVzdWx0c1xuICB9O1xufSJdLCJuYW1lcyI6WyJfdHlwZW9mIiwib2JqIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJjb25zdHJ1Y3RvciIsInByb3RvdHlwZSIsIm93bktleXMiLCJvYmplY3QiLCJlbnVtZXJhYmxlT25seSIsImtleXMiLCJPYmplY3QiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJzeW1ib2xzIiwiZmlsdGVyIiwic3ltIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsInB1c2giLCJhcHBseSIsIl9vYmplY3RTcHJlYWQiLCJ0YXJnZXQiLCJpIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwic291cmNlIiwiZm9yRWFjaCIsImtleSIsIl9kZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIl90b1Byb3BlcnR5S2V5IiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJhcmciLCJfdG9QcmltaXRpdmUiLCJTdHJpbmciLCJpbnB1dCIsImhpbnQiLCJwcmltIiwidG9QcmltaXRpdmUiLCJ1bmRlZmluZWQiLCJyZXMiLCJjYWxsIiwiVHlwZUVycm9yIiwiTnVtYmVyIiwiY3JlYXRlU2VhcmNoUmVzdWx0cyIsImdldEluZGV4U2VhcmNoUmVzdWx0cyIsImluZGV4V2lkZ2V0IiwiaGVscGVyIiwiZ2V0SGVscGVyIiwicmVzdWx0cyIsImdldFJlc3VsdHMiLCJzdGF0ZSIsInNjb3BlZFJlc3VsdHMiLCJnZXRTY29wZWRSZXN1bHRzIiwibWFwIiwic2NvcGVkUmVzdWx0IiwiZmFsbGJhY2tSZXN1bHRzIiwiaW5kZXhJZCIsImdldEluZGV4SWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/getIndexSearchResults.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/invariant.js":
/*!*************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/dist/es/lib/invariant.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   invariant: () => (/* binding */ invariant)\n/* harmony export */ });\n/**\n * Throws an error if the condition is not met.\n *\n * The error is exhaustive in development, and becomes generic in production.\n *\n * This is used to make development a better experience to provide guidance as\n * to where the error comes from.\n */ function invariant(condition, message) {\n    if (condition) {\n        return;\n    }\n    if (false) {}\n    if (true) {\n        throw new Error(\"[InstantSearch] \".concat(typeof message === \"function\" ? message() : message));\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9kaXN0L2VzL2xpYi9pbnZhcmlhbnQuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBOzs7Ozs7O0NBT0MsR0FDTSxTQUFTQSxVQUFVQyxTQUFTLEVBQUVDLE9BQU87SUFDMUMsSUFBSUQsV0FBVztRQUNiO0lBQ0Y7SUFDQSxJQUFJLEtBQXVDLEVBQUksRUFFOUM7SUFDRCxJQUFJRSxJQUF5QixFQUFlO1FBQzFDLE1BQU0sSUFBSUMsTUFBTSxtQkFBbUJDLE1BQU0sQ0FBQyxPQUFPSCxZQUFZLGFBQWFBLFlBQVlBO0lBQ3hGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZWR1c2EtbmV4dC8uL25vZGVfbW9kdWxlcy9yZWFjdC1pbnN0YW50c2VhcmNoLWhvb2tzL2Rpc3QvZXMvbGliL2ludmFyaWFudC5qcz81ZmVkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhyb3dzIGFuIGVycm9yIGlmIHRoZSBjb25kaXRpb24gaXMgbm90IG1ldC5cbiAqXG4gKiBUaGUgZXJyb3IgaXMgZXhoYXVzdGl2ZSBpbiBkZXZlbG9wbWVudCwgYW5kIGJlY29tZXMgZ2VuZXJpYyBpbiBwcm9kdWN0aW9uLlxuICpcbiAqIFRoaXMgaXMgdXNlZCB0byBtYWtlIGRldmVsb3BtZW50IGEgYmV0dGVyIGV4cGVyaWVuY2UgdG8gcHJvdmlkZSBndWlkYW5jZSBhc1xuICogdG8gd2hlcmUgdGhlIGVycm9yIGNvbWVzIGZyb20uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnZhcmlhbnQoY29uZGl0aW9uLCBtZXNzYWdlKSB7XG4gIGlmIChjb25kaXRpb24pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhcmlhbnQgZmFpbGVkJyk7XG4gIH1cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiW0luc3RhbnRTZWFyY2hdIFwiLmNvbmNhdCh0eXBlb2YgbWVzc2FnZSA9PT0gJ2Z1bmN0aW9uJyA/IG1lc3NhZ2UoKSA6IG1lc3NhZ2UpKTtcbiAgfVxufSJdLCJuYW1lcyI6WyJpbnZhcmlhbnQiLCJjb25kaXRpb24iLCJtZXNzYWdlIiwicHJvY2VzcyIsIkVycm9yIiwiY29uY2F0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/invariant.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/useForceUpdate.js":
/*!******************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/dist/es/lib/useForceUpdate.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useForceUpdate: () => (/* binding */ useForceUpdate)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\nfunction _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\nfunction _iterableToArrayLimit(arr, i) {\n    var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n    if (null != _i) {\n        var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1;\n        try {\n            if (_x = (_i = _i.call(arr)).next, 0 === i) {\n                if (Object(_i) !== _i) return;\n                _n = !1;\n            } else for(; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n        } catch (err) {\n            _d = !0, _e = err;\n        } finally{\n            try {\n                if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r)) return;\n            } finally{\n                if (_d) throw _e;\n            }\n        }\n        return _arr;\n    }\n}\nfunction _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n}\n\n/**\n * Forces a React update that triggers a rerender.\n * @link https://reactjs.org/docs/hooks-faq.html#is-there-something-like-forceupdate\n */ function useForceUpdate() {\n    var _useReducer = (0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)(function(x) {\n        return x + 1;\n    }, 0), _useReducer2 = _slicedToArray(_useReducer, 2), forceUpdate = _useReducer2[1];\n    return forceUpdate;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9kaXN0L2VzL2xpYi91c2VGb3JjZVVwZGF0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLFNBQVNBLGVBQWVDLEdBQUcsRUFBRUMsQ0FBQztJQUFJLE9BQU9DLGdCQUFnQkYsUUFBUUcsc0JBQXNCSCxLQUFLQyxNQUFNRyw0QkFBNEJKLEtBQUtDLE1BQU1JO0FBQW9CO0FBQzdKLFNBQVNBO0lBQXFCLE1BQU0sSUFBSUMsVUFBVTtBQUE4STtBQUNoTSxTQUFTRiw0QkFBNEJHLENBQUMsRUFBRUMsTUFBTTtJQUFJLElBQUksQ0FBQ0QsR0FBRztJQUFRLElBQUksT0FBT0EsTUFBTSxVQUFVLE9BQU9FLGtCQUFrQkYsR0FBR0M7SUFBUyxJQUFJRSxJQUFJQyxPQUFPQyxTQUFTLENBQUNDLFFBQVEsQ0FBQ0MsSUFBSSxDQUFDUCxHQUFHUSxLQUFLLENBQUMsR0FBRyxDQUFDO0lBQUksSUFBSUwsTUFBTSxZQUFZSCxFQUFFUyxXQUFXLEVBQUVOLElBQUlILEVBQUVTLFdBQVcsQ0FBQ0MsSUFBSTtJQUFFLElBQUlQLE1BQU0sU0FBU0EsTUFBTSxPQUFPLE9BQU9RLE1BQU1DLElBQUksQ0FBQ1o7SUFBSSxJQUFJRyxNQUFNLGVBQWUsMkNBQTJDVSxJQUFJLENBQUNWLElBQUksT0FBT0Qsa0JBQWtCRixHQUFHQztBQUFTO0FBQy9aLFNBQVNDLGtCQUFrQlQsR0FBRyxFQUFFcUIsR0FBRztJQUFJLElBQUlBLE9BQU8sUUFBUUEsTUFBTXJCLElBQUlzQixNQUFNLEVBQUVELE1BQU1yQixJQUFJc0IsTUFBTTtJQUFFLElBQUssSUFBSXJCLElBQUksR0FBR3NCLE9BQU8sSUFBSUwsTUFBTUcsTUFBTXBCLElBQUlvQixLQUFLcEIsSUFBS3NCLElBQUksQ0FBQ3RCLEVBQUUsR0FBR0QsR0FBRyxDQUFDQyxFQUFFO0lBQUUsT0FBT3NCO0FBQU07QUFDbEwsU0FBU3BCLHNCQUFzQkgsR0FBRyxFQUFFQyxDQUFDO0lBQUksSUFBSXVCLEtBQUssUUFBUXhCLE1BQU0sT0FBTyxlQUFlLE9BQU95QixVQUFVekIsR0FBRyxDQUFDeUIsT0FBT0MsUUFBUSxDQUFDLElBQUkxQixHQUFHLENBQUMsYUFBYTtJQUFFLElBQUksUUFBUXdCLElBQUk7UUFBRSxJQUFJRyxJQUFJQyxJQUFJQyxJQUFJQyxJQUFJQyxPQUFPLEVBQUUsRUFBRUMsS0FBSyxDQUFDLEdBQUdDLEtBQUssQ0FBQztRQUFHLElBQUk7WUFBRSxJQUFJSixLQUFLLENBQUNMLEtBQUtBLEdBQUdWLElBQUksQ0FBQ2QsSUFBRyxFQUFHa0MsSUFBSSxFQUFFLE1BQU1qQyxHQUFHO2dCQUFFLElBQUlVLE9BQU9hLFFBQVFBLElBQUk7Z0JBQVFRLEtBQUssQ0FBQztZQUFHLE9BQU8sTUFBTyxDQUFFQSxDQUFBQSxLQUFLLENBQUNMLEtBQUtFLEdBQUdmLElBQUksQ0FBQ1UsR0FBRSxFQUFHVyxJQUFJLEtBQU1KLENBQUFBLEtBQUtLLElBQUksQ0FBQ1QsR0FBR1UsS0FBSyxHQUFHTixLQUFLVCxNQUFNLEtBQUtyQixDQUFBQSxHQUFJK0IsS0FBSyxDQUFDO1FBQUksRUFBRSxPQUFPTSxLQUFLO1lBQUVMLEtBQUssQ0FBQyxHQUFHTCxLQUFLVTtRQUFLLFNBQVU7WUFBRSxJQUFJO2dCQUFFLElBQUksQ0FBQ04sTUFBTSxRQUFRUixHQUFHZSxNQUFNLElBQUtULENBQUFBLEtBQUtOLEdBQUdlLE1BQU0sSUFBSTVCLE9BQU9tQixRQUFRQSxFQUFDLEdBQUk7WUFBUSxTQUFVO2dCQUFFLElBQUlHLElBQUksTUFBTUw7WUFBSTtRQUFFO1FBQUUsT0FBT0c7SUFBTTtBQUFFO0FBQzNrQixTQUFTN0IsZ0JBQWdCRixHQUFHO0lBQUksSUFBSWtCLE1BQU1zQixPQUFPLENBQUN4QyxNQUFNLE9BQU9BO0FBQUs7QUFDakM7QUFFbkM7OztDQUdDLEdBQ00sU0FBUzBDO0lBQ2QsSUFBSUMsY0FBY0YsaURBQVVBLENBQUMsU0FBVUcsQ0FBQztRQUNwQyxPQUFPQSxJQUFJO0lBQ2IsR0FBRyxJQUNIQyxlQUFlOUMsZUFBZTRDLGFBQWEsSUFDM0NHLGNBQWNELFlBQVksQ0FBQyxFQUFFO0lBQy9CLE9BQU9DO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZWR1c2EtbmV4dC8uL25vZGVfbW9kdWxlcy9yZWFjdC1pbnN0YW50c2VhcmNoLWhvb2tzL2Rpc3QvZXMvbGliL3VzZUZvcmNlVXBkYXRlLmpzPzEyNjMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgYXJyMltpXSA9IGFycltpXTsgcmV0dXJuIGFycjI7IH1cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgdmFyIF9pID0gbnVsbCA9PSBhcnIgPyBudWxsIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIGFycltTeW1ib2wuaXRlcmF0b3JdIHx8IGFycltcIkBAaXRlcmF0b3JcIl07IGlmIChudWxsICE9IF9pKSB7IHZhciBfcywgX2UsIF94LCBfciwgX2FyciA9IFtdLCBfbiA9ICEwLCBfZCA9ICExOyB0cnkgeyBpZiAoX3ggPSAoX2kgPSBfaS5jYWxsKGFycikpLm5leHQsIDAgPT09IGkpIHsgaWYgKE9iamVjdChfaSkgIT09IF9pKSByZXR1cm47IF9uID0gITE7IH0gZWxzZSBmb3IgKDsgIShfbiA9IChfcyA9IF94LmNhbGwoX2kpKS5kb25lKSAmJiAoX2Fyci5wdXNoKF9zLnZhbHVlKSwgX2Fyci5sZW5ndGggIT09IGkpOyBfbiA9ICEwKTsgfSBjYXRjaCAoZXJyKSB7IF9kID0gITAsIF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIG51bGwgIT0gX2kucmV0dXJuICYmIChfciA9IF9pLnJldHVybigpLCBPYmplY3QoX3IpICE9PSBfcikpIHJldHVybjsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9IH1cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfVxuaW1wb3J0IHsgdXNlUmVkdWNlciB9IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBGb3JjZXMgYSBSZWFjdCB1cGRhdGUgdGhhdCB0cmlnZ2VycyBhIHJlcmVuZGVyLlxuICogQGxpbmsgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL2hvb2tzLWZhcS5odG1sI2lzLXRoZXJlLXNvbWV0aGluZy1saWtlLWZvcmNldXBkYXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VGb3JjZVVwZGF0ZSgpIHtcbiAgdmFyIF91c2VSZWR1Y2VyID0gdXNlUmVkdWNlcihmdW5jdGlvbiAoeCkge1xuICAgICAgcmV0dXJuIHggKyAxO1xuICAgIH0sIDApLFxuICAgIF91c2VSZWR1Y2VyMiA9IF9zbGljZWRUb0FycmF5KF91c2VSZWR1Y2VyLCAyKSxcbiAgICBmb3JjZVVwZGF0ZSA9IF91c2VSZWR1Y2VyMlsxXTtcbiAgcmV0dXJuIGZvcmNlVXBkYXRlO1xufSJdLCJuYW1lcyI6WyJfc2xpY2VkVG9BcnJheSIsImFyciIsImkiLCJfYXJyYXlXaXRoSG9sZXMiLCJfaXRlcmFibGVUb0FycmF5TGltaXQiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJfbm9uSXRlcmFibGVSZXN0IiwiVHlwZUVycm9yIiwibyIsIm1pbkxlbiIsIl9hcnJheUxpa2VUb0FycmF5IiwibiIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiY2FsbCIsInNsaWNlIiwiY29uc3RydWN0b3IiLCJuYW1lIiwiQXJyYXkiLCJmcm9tIiwidGVzdCIsImxlbiIsImxlbmd0aCIsImFycjIiLCJfaSIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiX3MiLCJfZSIsIl94IiwiX3IiLCJfYXJyIiwiX24iLCJfZCIsIm5leHQiLCJkb25lIiwicHVzaCIsInZhbHVlIiwiZXJyIiwicmV0dXJuIiwiaXNBcnJheSIsInVzZVJlZHVjZXIiLCJ1c2VGb3JjZVVwZGF0ZSIsIl91c2VSZWR1Y2VyIiwieCIsIl91c2VSZWR1Y2VyMiIsImZvcmNlVXBkYXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/useForceUpdate.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/useIndexContext.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/dist/es/lib/useIndexContext.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useIndexContext: () => (/* binding */ useIndexContext)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _invariant_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./invariant.js */ \"(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/invariant.js\");\n/* harmony import */ var _IndexContext_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./IndexContext.js */ \"(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/IndexContext.js\");\n\n\n\nfunction useIndexContext() {\n    var context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_IndexContext_js__WEBPACK_IMPORTED_MODULE_1__.IndexContext);\n    (0,_invariant_js__WEBPACK_IMPORTED_MODULE_2__.invariant)(context !== null, \"The <Index> component must be used within <InstantSearch>.\");\n    return context;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9kaXN0L2VzL2xpYi91c2VJbmRleENvbnRleHQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFtQztBQUNRO0FBQ007QUFDMUMsU0FBU0c7SUFDZCxJQUFJQyxVQUFVSixpREFBVUEsQ0FBQ0UsMERBQVlBO0lBQ3JDRCx3REFBU0EsQ0FBQ0csWUFBWSxNQUFNO0lBQzVCLE9BQU9BO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZWR1c2EtbmV4dC8uL25vZGVfbW9kdWxlcy9yZWFjdC1pbnN0YW50c2VhcmNoLWhvb2tzL2Rpc3QvZXMvbGliL3VzZUluZGV4Q29udGV4dC5qcz8zZjk5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBpbnZhcmlhbnQgfSBmcm9tIFwiLi9pbnZhcmlhbnQuanNcIjtcbmltcG9ydCB7IEluZGV4Q29udGV4dCB9IGZyb20gXCIuL0luZGV4Q29udGV4dC5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUluZGV4Q29udGV4dCgpIHtcbiAgdmFyIGNvbnRleHQgPSB1c2VDb250ZXh0KEluZGV4Q29udGV4dCk7XG4gIGludmFyaWFudChjb250ZXh0ICE9PSBudWxsLCAnVGhlIDxJbmRleD4gY29tcG9uZW50IG11c3QgYmUgdXNlZCB3aXRoaW4gPEluc3RhbnRTZWFyY2g+LicpO1xuICByZXR1cm4gY29udGV4dDtcbn0iXSwibmFtZXMiOlsidXNlQ29udGV4dCIsImludmFyaWFudCIsIkluZGV4Q29udGV4dCIsInVzZUluZGV4Q29udGV4dCIsImNvbnRleHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/useIndexContext.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/useInstantSearchApi.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/dist/es/lib/useInstantSearchApi.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useInstantSearchApi: () => (/* binding */ useInstantSearchApi)\n/* harmony export */ });\n/* harmony import */ var instantsearch_js_es_lib_InstantSearch_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! instantsearch.js/es/lib/InstantSearch.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/InstantSearch.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var use_sync_external_store_shim_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! use-sync-external-store/shim/index.js */ \"(ssr)/./node_modules/use-sync-external-store/shim/index.js\");\n/* harmony import */ var _useInstantSearchServerContext_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./useInstantSearchServerContext.js */ \"(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/useInstantSearchServerContext.js\");\n/* harmony import */ var _useInstantSearchSSRContext_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./useInstantSearchSSRContext.js */ \"(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/useInstantSearchSSRContext.js\");\n/* harmony import */ var _version_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../version.js */ \"(ssr)/./node_modules/react-instantsearch-hooks/dist/es/version.js\");\n/* harmony import */ var _useForceUpdate_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./useForceUpdate.js */ \"(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/useForceUpdate.js\");\n/* harmony import */ var _warn_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./warn.js */ \"(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/warn.js\");\n\n\n\n\n\n\n\n\nvar defaultUserAgents = [\n    \"react (\".concat(react__WEBPACK_IMPORTED_MODULE_0__.version, \")\"),\n    \"react-instantsearch (\".concat(_version_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"], \")\"),\n    \"react-instantsearch-hooks (\".concat(_version_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"], \")\")\n];\nvar serverUserAgent = \"react-instantsearch-server (\".concat(_version_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"], \")\");\nvar nextUserAgent = function nextUserAgent(nextVersion) {\n    return nextVersion ? \"next.js (\".concat(nextVersion, \")\") : null;\n};\nfunction useInstantSearchApi(props) {\n    var forceUpdate = (0,_useForceUpdate_js__WEBPACK_IMPORTED_MODULE_3__.useForceUpdate)();\n    var serverContext = (0,_useInstantSearchServerContext_js__WEBPACK_IMPORTED_MODULE_4__.useInstantSearchServerContext)();\n    var serverState = (0,_useInstantSearchSSRContext_js__WEBPACK_IMPORTED_MODULE_5__.useInstantSearchSSRContext)();\n    var initialResults = serverState === null || serverState === void 0 ? void 0 : serverState.initialResults;\n    var prevPropsRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(props);\n    var searchRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    // As we need to render on mount with SSR, using the local ref above in `StrictMode` will\n    // create and start two instances of InstantSearch. To avoid this, we instead discard it and use\n    // an upward ref from `InstantSearchSSRContext` as it has already been mounted a second time at this point.\n    if (serverState) {\n        searchRef = serverState.ssrSearchRef;\n    }\n    if (searchRef.current === null) {\n        // We don't use the `instantsearch()` function because it comes with other\n        // top-level APIs that we don't need.\n        // See https://github.com/algolia/instantsearch.js/blob/5b529f43d8acc680f85837eaaa41f7fd03a3f833/src/index.es.ts#L63-L86\n        var search = new instantsearch_js_es_lib_InstantSearch_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"](props);\n        search._schedule = function _schedule(cb) {\n            search._schedule.queue.push(cb);\n            clearTimeout(search._schedule.timer);\n            search._schedule.timer = setTimeout(function() {\n                search._schedule.queue.forEach(function(callback) {\n                    callback();\n                });\n                search._schedule.queue = [];\n            }, 0);\n        };\n        search._schedule.queue = [];\n        if (serverContext || initialResults) {\n            // InstantSearch.js has a private Initial Results API that lets us inject\n            // results on the search instance.\n            // On the server, we default the initial results to an empty object so that\n            // InstantSearch.js doesn't schedule a search that isn't used, leading to\n            // an additional network request. (This is equivalent to monkey-patching\n            // `scheduleSearch` to a noop.)\n            search._initialResults = initialResults || {};\n        }\n        addAlgoliaAgents(props.searchClient, [].concat(defaultUserAgents, [\n            serverContext && serverUserAgent,\n            nextUserAgent(getNextVersion())\n        ]));\n        // On the server, we start the search early to compute the search parameters.\n        // On SSR, we start the search early to directly catch up with the lifecycle\n        // and render.\n        if (serverContext || initialResults) {\n            search.start();\n        }\n        if (serverContext) {\n            // We notify `getServerState()` of the InstantSearch internals to retrieve\n            // the server state and pass it to the render on SSR.\n            serverContext.notifyServer({\n                search: search\n            });\n        }\n        warnNextRouter(props.routing);\n        searchRef.current = search;\n    }\n    {\n        var _search = searchRef.current;\n        var prevProps = prevPropsRef.current;\n        if (prevProps.indexName !== props.indexName) {\n            _search.helper.setIndex(props.indexName || \"\").search();\n            prevPropsRef.current = props;\n        }\n        if (prevProps.searchClient !== props.searchClient) {\n             true ? (0,_warn_js__WEBPACK_IMPORTED_MODULE_7__.warn)(false, \"The `searchClient` prop of `<InstantSearch>` changed between renders, which may cause more search requests than necessary. If this is an unwanted behavior, please provide a stable reference: https://www.algolia.com/doc/api-reference/widgets/instantsearch/react-hooks/#widget-param-searchclient\") : 0;\n            addAlgoliaAgents(props.searchClient, [].concat(defaultUserAgents, [\n                serverContext && serverUserAgent\n            ]));\n            _search.mainHelper.setClient(props.searchClient).search();\n            prevPropsRef.current = props;\n        }\n        if (prevProps.onStateChange !== props.onStateChange) {\n            _search.onStateChange = props.onStateChange;\n            prevPropsRef.current = props;\n        }\n        if (prevProps.searchFunction !== props.searchFunction) {\n            // Updating the `searchFunction` to `undefined` is not supported by\n            // InstantSearch.js, so it will throw an error.\n            // This is a fair behavior until we add an update API in InstantSearch.js.\n            _search._searchFunction = props.searchFunction;\n            prevPropsRef.current = props;\n        }\n        if (prevProps.stalledSearchDelay !== props.stalledSearchDelay) {\n            var _props$stalledSearchD;\n            // The default `stalledSearchDelay` in InstantSearch.js is 200ms.\n            // We need to reset it when it's undefined to get back to the original value.\n            _search._stalledSearchDelay = (_props$stalledSearchD = props.stalledSearchDelay) !== null && _props$stalledSearchD !== void 0 ? _props$stalledSearchD : 200;\n            prevPropsRef.current = props;\n        }\n    // Updating the `routing` prop is not supported because InstantSearch.js\n    // doesn't let us change it. This might not be a problem though, because `routing`\n    // shouldn't need to be dynamic.\n    // If we find scenarios where `routing` needs to change, we can always expose\n    // it privately on the InstantSearch instance. Another way would be to\n    // manually inject the routing middleware in this library, and not rely\n    // on the provided `routing` prop.\n    }\n    var cleanupTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    var store = (0,use_sync_external_store_shim_index_js__WEBPACK_IMPORTED_MODULE_1__.useSyncExternalStore)((0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function() {\n        var search = searchRef.current;\n        // Scenario 1: the component mounts.\n        if (cleanupTimerRef.current === null) {\n            // On SSR, the instance is already started so we don't start it again.\n            if (!search.started) {\n                search.start();\n                forceUpdate();\n            }\n        } else {\n            // We cancel the previous cleanup function because we don't want to\n            // dispose the search during an update.\n            clearTimeout(cleanupTimerRef.current);\n            search._preventWidgetCleanup = false;\n        }\n        return function() {\n            function cleanup() {\n                search.dispose();\n            }\n            clearTimeout(search._schedule.timer);\n            // We clean up only when the component that uses this subscription unmounts,\n            // but not when it updates, because it would dispose the instance, which\n            // would remove all the widgets and break routing.\n            // Executing the cleanup function in a `setTimeout()` lets us cancel it\n            // in the next effect.\n            // (There might be better ways to do this.)\n            cleanupTimerRef.current = setTimeout(cleanup);\n            // We need to prevent the `useWidget` cleanup function so that widgets\n            // are not removed before the instance is disposed, triggering\n            // an unwanted search request.\n            search._preventWidgetCleanup = true;\n        };\n    }, [\n        forceUpdate\n    ]), function() {\n        return searchRef.current;\n    }, function() {\n        return searchRef.current;\n    });\n    return store;\n}\nfunction addAlgoliaAgents(searchClient, userAgents) {\n    if (typeof searchClient.addAlgoliaAgent !== \"function\") {\n        return;\n    }\n    userAgents.filter(Boolean).forEach(function(userAgent) {\n        searchClient.addAlgoliaAgent(userAgent);\n    });\n}\nfunction warnNextRouter(routing) {\n    if (true) {\n        var _routing$router;\n        if (!routing || \"undefined\" === \"undefined\" || 0) {\n            return;\n        }\n        var isUsingNextRouter = // @ts-expect-error: _isNextRouter is only set on the Next.js router\n        routing !== true && (routing === null || routing === void 0 ? void 0 : (_routing$router = routing.router) === null || _routing$router === void 0 ? void 0 : _routing$router._isNextRouter);\n         true ? (0,_warn_js__WEBPACK_IMPORTED_MODULE_7__.warn)(isUsingNextRouter, '\\nYou are using Next.js with InstantSearch without the \"react-instantsearch-hooks-router-nextjs\" package.\\nThis package is recommended to make the routing work correctly with Next.js.\\nPlease check its usage instructions: https://github.com/algolia/instantsearch/tree/master/packages/react-instantsearch-hooks-router-nextjs\\n\\nYou can ignore this warning if you are using a custom router that suits your needs, it won\\'t be outputted in production builds.') : 0;\n    }\n}\n/**\n * Gets the version of Next.js if it is available in the `window` object,\n * otherwise it returns the NEXT_RUNTIME environment variable (in SSR),\n * which is either `nodejs` or `edge`.\n */ function getNextVersion() {\n    var _next, _process$env;\n    return  false || (typeof process !== \"undefined\" ? (_process$env = process.env) === null || _process$env === void 0 ? void 0 : \"nodejs\" : undefined);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9kaXN0L2VzL2xpYi91c2VJbnN0YW50U2VhcmNoQXBpLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFxRTtBQUNBO0FBQ1E7QUFDTTtBQUNOO0FBQ3pDO0FBQ2lCO0FBQ3BCO0FBQ2pDLElBQUlVLG9CQUFvQjtJQUFDLFVBQVVDLE1BQU0sQ0FBQ1AsMENBQVlBLEVBQUU7SUFBTSx3QkFBd0JPLE1BQU0sQ0FBQ1IsbURBQU9BLEVBQUU7SUFBTSw4QkFBOEJRLE1BQU0sQ0FBQ1IsbURBQU9BLEVBQUU7Q0FBSztBQUMvSixJQUFJUyxrQkFBa0IsK0JBQStCRCxNQUFNLENBQUNSLG1EQUFPQSxFQUFFO0FBQ3JFLElBQUlVLGdCQUFnQixTQUFTQSxjQUFjQyxXQUFXO0lBQ3BELE9BQU9BLGNBQWMsWUFBWUgsTUFBTSxDQUFDRyxhQUFhLE9BQU87QUFDOUQ7QUFDTyxTQUFTQyxvQkFBb0JDLEtBQUs7SUFDdkMsSUFBSUMsY0FBY1Qsa0VBQWNBO0lBQ2hDLElBQUlVLGdCQUFnQlosZ0dBQTZCQTtJQUNqRCxJQUFJYSxjQUFjWiwwRkFBMEJBO0lBQzVDLElBQUlhLGlCQUFpQkQsZ0JBQWdCLFFBQVFBLGdCQUFnQixLQUFLLElBQUksS0FBSyxJQUFJQSxZQUFZQyxjQUFjO0lBQ3pHLElBQUlDLGVBQWVuQiw2Q0FBTUEsQ0FBQ2M7SUFDMUIsSUFBSU0sWUFBWXBCLDZDQUFNQSxDQUFDO0lBQ3ZCLHlGQUF5RjtJQUN6RixnR0FBZ0c7SUFDaEcsMkdBQTJHO0lBQzNHLElBQUlpQixhQUFhO1FBQ2ZHLFlBQVlILFlBQVlJLFlBQVk7SUFDdEM7SUFDQSxJQUFJRCxVQUFVRSxPQUFPLEtBQUssTUFBTTtRQUM5QiwwRUFBMEU7UUFDMUUscUNBQXFDO1FBQ3JDLHdIQUF3SDtRQUN4SCxJQUFJQyxTQUFTLElBQUl6QixnRkFBYUEsQ0FBQ2dCO1FBQy9CUyxPQUFPQyxTQUFTLEdBQUcsU0FBU0Es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QUNHO0lBQy9CO0FBQ0Y7QUFDQSxTQUFTekIsZUFBZUMsT0FBTztJQUM3QixJQUFJeUIsSUFBeUIsRUFBZTtRQUMxQyxJQUFJQztRQUNKLElBQUksQ0FBQzFCLFdBQVcsZ0JBQWtCLGVBQWUsQ0FBMEIsRUFBSTtZQUM3RTtRQUNGO1FBQ0EsSUFBSTRCLG9CQUNKLG9FQUFvRTtRQUNwRTVCLFlBQVksUUFBU0EsQ0FBQUEsWUFBWSxRQUFRQSxZQUFZLEtBQUssSUFBSSxLQUFLLElBQUksQ0FBQzBCLGtCQUFrQjFCLFFBQVE2QixNQUFNLE1BQU0sUUFBUUgsb0JBQW9CLEtBQUssSUFBSSxLQUFLLElBQUlBLGdCQUFnQkksYUFBYTtRQTFLN0wsS0EySzZCLEdBQWdCL0QsOENBQUlBLENBQUM2RCxtQkFBbUIsNmNBQThjLENBQU07SUFDdmhCO0FBQ0Y7QUFFQTs7OztDQUlDLEdBQ0QsU0FBU2hDO0lBQ1AsSUFBSW1DLE9BQU9DO0lBQ1gsT0FBTyxNQUE4RyxJQUFLLFFBQU9QLFlBQVksY0FBYyxDQUFDTyxlQUFlUCxRQUFRUyxHQUFHLE1BQU0sUUFBUUYsaUJBQWlCLEtBQUssSUFBSSxLQUFLLElBQUlBLFFBQXlCLEdBQUdJLFNBQVE7QUFDN1EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZWR1c2EtbmV4dC8uL25vZGVfbW9kdWxlcy9yZWFjdC1pbnN0YW50c2VhcmNoLWhvb2tzL2Rpc3QvZXMvbGliL3VzZUluc3RhbnRTZWFyY2hBcGkuanM/NDhjNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSW5zdGFudFNlYXJjaCBmcm9tIFwiaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvSW5zdGFudFNlYXJjaC5qc1wiO1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZVJlZiwgdmVyc2lvbiBhcyBSZWFjdFZlcnNpb24gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VTeW5jRXh0ZXJuYWxTdG9yZSB9IGZyb20gXCJ1c2Utc3luYy1leHRlcm5hbC1zdG9yZS9zaGltL2luZGV4LmpzXCI7XG5pbXBvcnQgeyB1c2VJbnN0YW50U2VhcmNoU2VydmVyQ29udGV4dCB9IGZyb20gXCIuL3VzZUluc3RhbnRTZWFyY2hTZXJ2ZXJDb250ZXh0LmpzXCI7XG5pbXBvcnQgeyB1c2VJbnN0YW50U2VhcmNoU1NSQ29udGV4dCB9IGZyb20gXCIuL3VzZUluc3RhbnRTZWFyY2hTU1JDb250ZXh0LmpzXCI7XG5pbXBvcnQgdmVyc2lvbiBmcm9tIFwiLi4vdmVyc2lvbi5qc1wiO1xuaW1wb3J0IHsgdXNlRm9yY2VVcGRhdGUgfSBmcm9tIFwiLi91c2VGb3JjZVVwZGF0ZS5qc1wiO1xuaW1wb3J0IHsgd2FybiB9IGZyb20gXCIuL3dhcm4uanNcIjtcbnZhciBkZWZhdWx0VXNlckFnZW50cyA9IFtcInJlYWN0IChcIi5jb25jYXQoUmVhY3RWZXJzaW9uLCBcIilcIiksIFwicmVhY3QtaW5zdGFudHNlYXJjaCAoXCIuY29uY2F0KHZlcnNpb24sIFwiKVwiKSwgXCJyZWFjdC1pbnN0YW50c2VhcmNoLWhvb2tzIChcIi5jb25jYXQodmVyc2lvbiwgXCIpXCIpXTtcbnZhciBzZXJ2ZXJVc2VyQWdlbnQgPSBcInJlYWN0LWluc3RhbnRzZWFyY2gtc2VydmVyIChcIi5jb25jYXQodmVyc2lvbiwgXCIpXCIpO1xudmFyIG5leHRVc2VyQWdlbnQgPSBmdW5jdGlvbiBuZXh0VXNlckFnZW50KG5leHRWZXJzaW9uKSB7XG4gIHJldHVybiBuZXh0VmVyc2lvbiA/IFwibmV4dC5qcyAoXCIuY29uY2F0KG5leHRWZXJzaW9uLCBcIilcIikgOiBudWxsO1xufTtcbmV4cG9ydCBmdW5jdGlvbiB1c2VJbnN0YW50U2VhcmNoQXBpKHByb3BzKSB7XG4gIHZhciBmb3JjZVVwZGF0ZSA9IHVzZUZvcmNlVXBkYXRlKCk7XG4gIHZhciBzZXJ2ZXJDb250ZXh0ID0gdXNlSW5zdGFudFNlYXJjaFNlcnZlckNvbnRleHQoKTtcbiAgdmFyIHNlcnZlclN0YXRlID0gdXNlSW5zdGFudFNlYXJjaFNTUkNvbnRleHQoKTtcbiAgdmFyIGluaXRpYWxSZXN1bHRzID0gc2VydmVyU3RhdGUgPT09IG51bGwgfHwgc2VydmVyU3RhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlcnZlclN0YXRlLmluaXRpYWxSZXN1bHRzO1xuICB2YXIgcHJldlByb3BzUmVmID0gdXNlUmVmKHByb3BzKTtcbiAgdmFyIHNlYXJjaFJlZiA9IHVzZVJlZihudWxsKTtcbiAgLy8gQXMgd2UgbmVlZCB0byByZW5kZXIgb24gbW91bnQgd2l0aCBTU1IsIHVzaW5nIHRoZSBsb2NhbCByZWYgYWJvdmUgaW4gYFN0cmljdE1vZGVgIHdpbGxcbiAgLy8gY3JlYXRlIGFuZCBzdGFydCB0d28gaW5zdGFuY2VzIG9mIEluc3RhbnRTZWFyY2guIFRvIGF2b2lkIHRoaXMsIHdlIGluc3RlYWQgZGlzY2FyZCBpdCBhbmQgdXNlXG4gIC8vIGFuIHVwd2FyZCByZWYgZnJvbSBgSW5zdGFudFNlYXJjaFNTUkNvbnRleHRgIGFzIGl0IGhhcyBhbHJlYWR5IGJlZW4gbW91bnRlZCBhIHNlY29uZCB0aW1lIGF0IHRoaXMgcG9pbnQuXG4gIGlmIChzZXJ2ZXJTdGF0ZSkge1xuICAgIHNlYXJjaFJlZiA9IHNlcnZlclN0YXRlLnNzclNlYXJjaFJlZjtcbiAgfVxuICBpZiAoc2VhcmNoUmVmLmN1cnJlbnQgPT09IG51bGwpIHtcbiAgICAvLyBXZSBkb24ndCB1c2UgdGhlIGBpbnN0YW50c2VhcmNoKClgIGZ1bmN0aW9uIGJlY2F1c2UgaXQgY29tZXMgd2l0aCBvdGhlclxuICAgIC8vIHRvcC1sZXZlbCBBUElzIHRoYXQgd2UgZG9uJ3QgbmVlZC5cbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FsZ29saWEvaW5zdGFudHNlYXJjaC5qcy9ibG9iLzViNTI5ZjQzZDhhY2M2ODBmODU4MzdlYWFhNDFmN2ZkMDNhM2Y4MzMvc3JjL2luZGV4LmVzLnRzI0w2My1MODZcbiAgICB2YXIgc2VhcmNoID0gbmV3IEluc3RhbnRTZWFyY2gocHJvcHMpO1xuICAgIHNlYXJjaC5fc2NoZWR1bGUgPSBmdW5jdGlvbiBfc2NoZWR1bGUoY2IpIHtcbiAgICAgIHNlYXJjaC5fc2NoZWR1bGUucXVldWUucHVzaChjYik7XG4gICAgICBjbGVhclRpbWVvdXQoc2VhcmNoLl9zY2hlZHVsZS50aW1lcik7XG4gICAgICBzZWFyY2guX3NjaGVkdWxlLnRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlYXJjaC5fc2NoZWR1bGUucXVldWUuZm9yRWFjaChmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2VhcmNoLl9zY2hlZHVsZS5xdWV1ZSA9IFtdO1xuICAgICAgfSwgMCk7XG4gICAgfTtcbiAgICBzZWFyY2guX3NjaGVkdWxlLnF1ZXVlID0gW107XG4gICAgaWYgKHNlcnZlckNvbnRleHQgfHwgaW5pdGlhbFJlc3VsdHMpIHtcbiAgICAgIC8vIEluc3RhbnRTZWFyY2guanMgaGFzIGEgcHJpdmF0ZSBJbml0aWFsIFJlc3VsdHMgQVBJIHRoYXQgbGV0cyB1cyBpbmplY3RcbiAgICAgIC8vIHJlc3VsdHMgb24gdGhlIHNlYXJjaCBpbnN0YW5jZS5cbiAgICAgIC8vIE9uIHRoZSBzZXJ2ZXIsIHdlIGRlZmF1bHQgdGhlIGluaXRpYWwgcmVzdWx0cyB0byBhbiBlbXB0eSBvYmplY3Qgc28gdGhhdFxuICAgICAgLy8gSW5zdGFudFNlYXJjaC5qcyBkb2Vzbid0IHNjaGVkdWxlIGEgc2VhcmNoIHRoYXQgaXNuJ3QgdXNlZCwgbGVhZGluZyB0b1xuICAgICAgLy8gYW4gYWRkaXRpb25hbCBuZXR3b3JrIHJlcXVlc3QuIChUaGlzIGlzIGVxdWl2YWxlbnQgdG8gbW9ua2V5LXBhdGNoaW5nXG4gICAgICAvLyBgc2NoZWR1bGVTZWFyY2hgIHRvIGEgbm9vcC4pXG4gICAgICBzZWFyY2guX2luaXRpYWxSZXN1bHRzID0gaW5pdGlhbFJlc3VsdHMgfHwge307XG4gICAgfVxuICAgIGFkZEFsZ29saWFBZ2VudHMocHJvcHMuc2VhcmNoQ2xpZW50LCBbXS5jb25jYXQoZGVmYXVsdFVzZXJBZ2VudHMsIFtzZXJ2ZXJDb250ZXh0ICYmIHNlcnZlclVzZXJBZ2VudCwgbmV4dFVzZXJBZ2VudChnZXROZXh0VmVyc2lvbigpKV0pKTtcblxuICAgIC8vIE9uIHRoZSBzZXJ2ZXIsIHdlIHN0YXJ0IHRoZSBzZWFyY2ggZWFybHkgdG8gY29tcHV0ZSB0aGUgc2VhcmNoIHBhcmFtZXRlcnMuXG4gICAgLy8gT24gU1NSLCB3ZSBzdGFydCB0aGUgc2VhcmNoIGVhcmx5IHRvIGRpcmVjdGx5IGNhdGNoIHVwIHdpdGggdGhlIGxpZmVjeWNsZVxuICAgIC8vIGFuZCByZW5kZXIuXG4gICAgaWYgKHNlcnZlckNvbnRleHQgfHwgaW5pdGlhbFJlc3VsdHMpIHtcbiAgICAgIHNlYXJjaC5zdGFydCgpO1xuICAgIH1cbiAgICBpZiAoc2VydmVyQ29udGV4dCkge1xuICAgICAgLy8gV2Ugbm90aWZ5IGBnZXRTZXJ2ZXJTdGF0ZSgpYCBvZiB0aGUgSW5zdGFudFNlYXJjaCBpbnRlcm5hbHMgdG8gcmV0cmlldmVcbiAgICAgIC8vIHRoZSBzZXJ2ZXIgc3RhdGUgYW5kIHBhc3MgaXQgdG8gdGhlIHJlbmRlciBvbiBTU1IuXG4gICAgICBzZXJ2ZXJDb250ZXh0Lm5vdGlmeVNlcnZlcih7XG4gICAgICAgIHNlYXJjaDogc2VhcmNoXG4gICAgICB9KTtcbiAgICB9XG4gICAgd2Fybk5leHRSb3V0ZXIocHJvcHMucm91dGluZyk7XG4gICAgc2VhcmNoUmVmLmN1cnJlbnQgPSBzZWFyY2g7XG4gIH1cbiAge1xuICAgIHZhciBfc2VhcmNoID0gc2VhcmNoUmVmLmN1cnJlbnQ7XG4gICAgdmFyIHByZXZQcm9wcyA9IHByZXZQcm9wc1JlZi5jdXJyZW50O1xuICAgIGlmIChwcmV2UHJvcHMuaW5kZXhOYW1lICE9PSBwcm9wcy5pbmRleE5hbWUpIHtcbiAgICAgIF9zZWFyY2guaGVscGVyLnNldEluZGV4KHByb3BzLmluZGV4TmFtZSB8fCAnJykuc2VhcmNoKCk7XG4gICAgICBwcmV2UHJvcHNSZWYuY3VycmVudCA9IHByb3BzO1xuICAgIH1cbiAgICBpZiAocHJldlByb3BzLnNlYXJjaENsaWVudCAhPT0gcHJvcHMuc2VhcmNoQ2xpZW50KSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IHdhcm4oZmFsc2UsICdUaGUgYHNlYXJjaENsaWVudGAgcHJvcCBvZiBgPEluc3RhbnRTZWFyY2g+YCBjaGFuZ2VkIGJldHdlZW4gcmVuZGVycywgd2hpY2ggbWF5IGNhdXNlIG1vcmUgc2VhcmNoIHJlcXVlc3RzIHRoYW4gbmVjZXNzYXJ5LiBJZiB0aGlzIGlzIGFuIHVud2FudGVkIGJlaGF2aW9yLCBwbGVhc2UgcHJvdmlkZSBhIHN0YWJsZSByZWZlcmVuY2U6IGh0dHBzOi8vd3d3LmFsZ29saWEuY29tL2RvYy9hcGktcmVmZXJlbmNlL3dpZGdldHMvaW5zdGFudHNlYXJjaC9yZWFjdC1ob29rcy8jd2lkZ2V0LXBhcmFtLXNlYXJjaGNsaWVudCcpIDogdm9pZCAwO1xuICAgICAgYWRkQWxnb2xpYUFnZW50cyhwcm9wcy5zZWFyY2hDbGllbnQsIFtdLmNvbmNhdChkZWZhdWx0VXNlckFnZW50cywgW3NlcnZlckNvbnRleHQgJiYgc2VydmVyVXNlckFnZW50XSkpO1xuICAgICAgX3NlYXJjaC5tYWluSGVscGVyLnNldENsaWVudChwcm9wcy5zZWFyY2hDbGllbnQpLnNlYXJjaCgpO1xuICAgICAgcHJldlByb3BzUmVmLmN1cnJlbnQgPSBwcm9wcztcbiAgICB9XG4gICAgaWYgKHByZXZQcm9wcy5vblN0YXRlQ2hhbmdlICE9PSBwcm9wcy5vblN0YXRlQ2hhbmdlKSB7XG4gICAgICBfc2VhcmNoLm9uU3RhdGVDaGFuZ2UgPSBwcm9wcy5vblN0YXRlQ2hhbmdlO1xuICAgICAgcHJldlByb3BzUmVmLmN1cnJlbnQgPSBwcm9wcztcbiAgICB9XG4gICAgaWYgKHByZXZQcm9wcy5zZWFyY2hGdW5jdGlvbiAhPT0gcHJvcHMuc2VhcmNoRnVuY3Rpb24pIHtcbiAgICAgIC8vIFVwZGF0aW5nIHRoZSBgc2VhcmNoRnVuY3Rpb25gIHRvIGB1bmRlZmluZWRgIGlzIG5vdCBzdXBwb3J0ZWQgYnlcbiAgICAgIC8vIEluc3RhbnRTZWFyY2guanMsIHNvIGl0IHdpbGwgdGhyb3cgYW4gZXJyb3IuXG4gICAgICAvLyBUaGlzIGlzIGEgZmFpciBiZWhhdmlvciB1bnRpbCB3ZSBhZGQgYW4gdXBkYXRlIEFQSSBpbiBJbnN0YW50U2VhcmNoLmpzLlxuICAgICAgX3NlYXJjaC5fc2VhcmNoRnVuY3Rpb24gPSBwcm9wcy5zZWFyY2hGdW5jdGlvbjtcbiAgICAgIHByZXZQcm9wc1JlZi5jdXJyZW50ID0gcHJvcHM7XG4gICAgfVxuICAgIGlmIChwcmV2UHJvcHMuc3RhbGxlZFNlYXJjaERlbGF5ICE9PSBwcm9wcy5zdGFsbGVkU2VhcmNoRGVsYXkpIHtcbiAgICAgIHZhciBfcHJvcHMkc3RhbGxlZFNlYXJjaEQ7XG4gICAgICAvLyBUaGUgZGVmYXVsdCBgc3RhbGxlZFNlYXJjaERlbGF5YCBpbiBJbnN0YW50U2VhcmNoLmpzIGlzIDIwMG1zLlxuICAgICAgLy8gV2UgbmVlZCB0byByZXNldCBpdCB3aGVuIGl0J3MgdW5kZWZpbmVkIHRvIGdldCBiYWNrIHRvIHRoZSBvcmlnaW5hbCB2YWx1ZS5cbiAgICAgIF9zZWFyY2guX3N0YWxsZWRTZWFyY2hEZWxheSA9IChfcHJvcHMkc3RhbGxlZFNlYXJjaEQgPSBwcm9wcy5zdGFsbGVkU2VhcmNoRGVsYXkpICE9PSBudWxsICYmIF9wcm9wcyRzdGFsbGVkU2VhcmNoRCAhPT0gdm9pZCAwID8gX3Byb3BzJHN0YWxsZWRTZWFyY2hEIDogMjAwO1xuICAgICAgcHJldlByb3BzUmVmLmN1cnJlbnQgPSBwcm9wcztcbiAgICB9XG5cbiAgICAvLyBVcGRhdGluZyB0aGUgYHJvdXRpbmdgIHByb3AgaXMgbm90IHN1cHBvcnRlZCBiZWNhdXNlIEluc3RhbnRTZWFyY2guanNcbiAgICAvLyBkb2Vzbid0IGxldCB1cyBjaGFuZ2UgaXQuIFRoaXMgbWlnaHQgbm90IGJlIGEgcHJvYmxlbSB0aG91Z2gsIGJlY2F1c2UgYHJvdXRpbmdgXG4gICAgLy8gc2hvdWxkbid0IG5lZWQgdG8gYmUgZHluYW1pYy5cbiAgICAvLyBJZiB3ZSBmaW5kIHNjZW5hcmlvcyB3aGVyZSBgcm91dGluZ2AgbmVlZHMgdG8gY2hhbmdlLCB3ZSBjYW4gYWx3YXlzIGV4cG9zZVxuICAgIC8vIGl0IHByaXZhdGVseSBvbiB0aGUgSW5zdGFudFNlYXJjaCBpbnN0YW5jZS4gQW5vdGhlciB3YXkgd291bGQgYmUgdG9cbiAgICAvLyBtYW51YWxseSBpbmplY3QgdGhlIHJvdXRpbmcgbWlkZGxld2FyZSBpbiB0aGlzIGxpYnJhcnksIGFuZCBub3QgcmVseVxuICAgIC8vIG9uIHRoZSBwcm92aWRlZCBgcm91dGluZ2AgcHJvcC5cbiAgfVxuXG4gIHZhciBjbGVhbnVwVGltZXJSZWYgPSB1c2VSZWYobnVsbCk7XG4gIHZhciBzdG9yZSA9IHVzZVN5bmNFeHRlcm5hbFN0b3JlKHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VhcmNoID0gc2VhcmNoUmVmLmN1cnJlbnQ7XG5cbiAgICAvLyBTY2VuYXJpbyAxOiB0aGUgY29tcG9uZW50IG1vdW50cy5cbiAgICBpZiAoY2xlYW51cFRpbWVyUmVmLmN1cnJlbnQgPT09IG51bGwpIHtcbiAgICAgIC8vIE9uIFNTUiwgdGhlIGluc3RhbmNlIGlzIGFscmVhZHkgc3RhcnRlZCBzbyB3ZSBkb24ndCBzdGFydCBpdCBhZ2Fpbi5cbiAgICAgIGlmICghc2VhcmNoLnN0YXJ0ZWQpIHtcbiAgICAgICAgc2VhcmNoLnN0YXJ0KCk7XG4gICAgICAgIGZvcmNlVXBkYXRlKCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFNjZW5hcmlvIDI6IHRoZSBjb21wb25lbnQgdXBkYXRlcy5cbiAgICBlbHNlIHtcbiAgICAgIC8vIFdlIGNhbmNlbCB0aGUgcHJldmlvdXMgY2xlYW51cCBmdW5jdGlvbiBiZWNhdXNlIHdlIGRvbid0IHdhbnQgdG9cbiAgICAgIC8vIGRpc3Bvc2UgdGhlIHNlYXJjaCBkdXJpbmcgYW4gdXBkYXRlLlxuICAgICAgY2xlYXJUaW1lb3V0KGNsZWFudXBUaW1lclJlZi5jdXJyZW50KTtcbiAgICAgIHNlYXJjaC5fcHJldmVudFdpZGdldENsZWFudXAgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgICAgIHNlYXJjaC5kaXNwb3NlKCk7XG4gICAgICB9XG4gICAgICBjbGVhclRpbWVvdXQoc2VhcmNoLl9zY2hlZHVsZS50aW1lcik7XG4gICAgICAvLyBXZSBjbGVhbiB1cCBvbmx5IHdoZW4gdGhlIGNvbXBvbmVudCB0aGF0IHVzZXMgdGhpcyBzdWJzY3JpcHRpb24gdW5tb3VudHMsXG4gICAgICAvLyBidXQgbm90IHdoZW4gaXQgdXBkYXRlcywgYmVjYXVzZSBpdCB3b3VsZCBkaXNwb3NlIHRoZSBpbnN0YW5jZSwgd2hpY2hcbiAgICAgIC8vIHdvdWxkIHJlbW92ZSBhbGwgdGhlIHdpZGdldHMgYW5kIGJyZWFrIHJvdXRpbmcuXG4gICAgICAvLyBFeGVjdXRpbmcgdGhlIGNsZWFudXAgZnVuY3Rpb24gaW4gYSBgc2V0VGltZW91dCgpYCBsZXRzIHVzIGNhbmNlbCBpdFxuICAgICAgLy8gaW4gdGhlIG5leHQgZWZmZWN0LlxuICAgICAgLy8gKFRoZXJlIG1pZ2h0IGJlIGJldHRlciB3YXlzIHRvIGRvIHRoaXMuKVxuICAgICAgY2xlYW51cFRpbWVyUmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KGNsZWFudXApO1xuXG4gICAgICAvLyBXZSBuZWVkIHRvIHByZXZlbnQgdGhlIGB1c2VXaWRnZXRgIGNsZWFudXAgZnVuY3Rpb24gc28gdGhhdCB3aWRnZXRzXG4gICAgICAvLyBhcmUgbm90IHJlbW92ZWQgYmVmb3JlIHRoZSBpbnN0YW5jZSBpcyBkaXNwb3NlZCwgdHJpZ2dlcmluZ1xuICAgICAgLy8gYW4gdW53YW50ZWQgc2VhcmNoIHJlcXVlc3QuXG4gICAgICBzZWFyY2guX3ByZXZlbnRXaWRnZXRDbGVhbnVwID0gdHJ1ZTtcbiAgICB9O1xuICB9LCBbZm9yY2VVcGRhdGVdKSwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBzZWFyY2hSZWYuY3VycmVudDtcbiAgfSwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBzZWFyY2hSZWYuY3VycmVudDtcbiAgfSk7XG4gIHJldHVybiBzdG9yZTtcbn1cbmZ1bmN0aW9uIGFkZEFsZ29saWFBZ2VudHMoc2VhcmNoQ2xpZW50LCB1c2VyQWdlbnRzKSB7XG4gIGlmICh0eXBlb2Ygc2VhcmNoQ2xpZW50LmFkZEFsZ29saWFBZ2VudCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybjtcbiAgfVxuICB1c2VyQWdlbnRzLmZpbHRlcihCb29sZWFuKS5mb3JFYWNoKGZ1bmN0aW9uICh1c2VyQWdlbnQpIHtcbiAgICBzZWFyY2hDbGllbnQuYWRkQWxnb2xpYUFnZW50KHVzZXJBZ2VudCk7XG4gIH0pO1xufVxuZnVuY3Rpb24gd2Fybk5leHRSb3V0ZXIocm91dGluZykge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICB2YXIgX3JvdXRpbmckcm91dGVyO1xuICAgIGlmICghcm91dGluZyB8fCB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyB8fCAhKCdfX05FWFRfREFUQV9fJyBpbiB3aW5kb3cpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBpc1VzaW5nTmV4dFJvdXRlciA9XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogX2lzTmV4dFJvdXRlciBpcyBvbmx5IHNldCBvbiB0aGUgTmV4dC5qcyByb3V0ZXJcbiAgICByb3V0aW5nICE9PSB0cnVlICYmIChyb3V0aW5nID09PSBudWxsIHx8IHJvdXRpbmcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfcm91dGluZyRyb3V0ZXIgPSByb3V0aW5nLnJvdXRlcikgPT09IG51bGwgfHwgX3JvdXRpbmckcm91dGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcm91dGluZyRyb3V0ZXIuX2lzTmV4dFJvdXRlcik7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgPyB3YXJuKGlzVXNpbmdOZXh0Um91dGVyLCBcIlxcbllvdSBhcmUgdXNpbmcgTmV4dC5qcyB3aXRoIEluc3RhbnRTZWFyY2ggd2l0aG91dCB0aGUgXFxcInJlYWN0LWluc3RhbnRzZWFyY2gtaG9va3Mtcm91dGVyLW5leHRqc1xcXCIgcGFja2FnZS5cXG5UaGlzIHBhY2thZ2UgaXMgcmVjb21tZW5kZWQgdG8gbWFrZSB0aGUgcm91dGluZyB3b3JrIGNvcnJlY3RseSB3aXRoIE5leHQuanMuXFxuUGxlYXNlIGNoZWNrIGl0cyB1c2FnZSBpbnN0cnVjdGlvbnM6IGh0dHBzOi8vZ2l0aHViLmNvbS9hbGdvbGlhL2luc3RhbnRzZWFyY2gvdHJlZS9tYXN0ZXIvcGFja2FnZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy1yb3V0ZXItbmV4dGpzXFxuXFxuWW91IGNhbiBpZ25vcmUgdGhpcyB3YXJuaW5nIGlmIHlvdSBhcmUgdXNpbmcgYSBjdXN0b20gcm91dGVyIHRoYXQgc3VpdHMgeW91ciBuZWVkcywgaXQgd29uJ3QgYmUgb3V0cHV0dGVkIGluIHByb2R1Y3Rpb24gYnVpbGRzLlwiKSA6IHZvaWQgMDtcbiAgfVxufVxuXG4vKipcbiAqIEdldHMgdGhlIHZlcnNpb24gb2YgTmV4dC5qcyBpZiBpdCBpcyBhdmFpbGFibGUgaW4gdGhlIGB3aW5kb3dgIG9iamVjdCxcbiAqIG90aGVyd2lzZSBpdCByZXR1cm5zIHRoZSBORVhUX1JVTlRJTUUgZW52aXJvbm1lbnQgdmFyaWFibGUgKGluIFNTUiksXG4gKiB3aGljaCBpcyBlaXRoZXIgYG5vZGVqc2Agb3IgYGVkZ2VgLlxuICovXG5mdW5jdGlvbiBnZXROZXh0VmVyc2lvbigpIHtcbiAgdmFyIF9uZXh0LCBfcHJvY2VzcyRlbnY7XG4gIHJldHVybiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiAoKF9uZXh0ID0gd2luZG93Lm5leHQpID09PSBudWxsIHx8IF9uZXh0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbmV4dC52ZXJzaW9uKSB8fCAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnID8gKF9wcm9jZXNzJGVudiA9IHByb2Nlc3MuZW52KSA9PT0gbnVsbCB8fCBfcHJvY2VzcyRlbnYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wcm9jZXNzJGVudi5ORVhUX1JVTlRJTUUgOiB1bmRlZmluZWQpO1xufSJdLCJuYW1lcyI6WyJJbnN0YW50U2VhcmNoIiwidXNlQ2FsbGJhY2siLCJ1c2VSZWYiLCJ2ZXJzaW9uIiwiUmVhY3RWZXJzaW9uIiwidXNlU3luY0V4dGVybmFsU3RvcmUiLCJ1c2VJbnN0YW50U2VhcmNoU2VydmVyQ29udGV4dCIsInVzZUluc3RhbnRTZWFyY2hTU1JDb250ZXh0IiwidXNlRm9yY2VVcGRhdGUiLCJ3YXJuIiwiZGVmYXVsdFVzZXJBZ2VudHMiLCJjb25jYXQiLCJzZXJ2ZXJVc2VyQWdlbnQiLCJuZXh0VXNlckFnZW50IiwibmV4dFZlcnNpb24iLCJ1c2VJbnN0YW50U2VhcmNoQXBpIiwicHJvcHMiLCJmb3JjZVVwZGF0ZSIsInNlcnZlckNvbnRleHQiLCJzZXJ2ZXJTdGF0ZSIsImluaXRpYWxSZXN1bHRzIiwicHJldlByb3BzUmVmIiwic2VhcmNoUmVmIiwic3NyU2VhcmNoUmVmIiwiY3VycmVudCIsInNlYXJjaCIsIl9zY2hlZHVsZSIsImNiIiwicXVldWUiLCJwdXNoIiwiY2xlYXJUaW1lb3V0IiwidGltZXIiLCJzZXRUaW1lb3V0IiwiZm9yRWFjaCIsImNhbGxiYWNrIiwiX2luaXRpYWxSZXN1bHRzIiwiYWRkQWxnb2xpYUFnZW50cyIsInNlYXJjaENsaWVudCIsImdldE5leHRWZXJzaW9uIiwic3RhcnQiLCJub3RpZnlTZXJ2ZXIiLCJ3YXJuTmV4dFJvdXRlciIsInJvdXRpbmciLCJfc2VhcmNoIiwicHJldlByb3BzIiwiaW5kZXhOYW1lIiwiaGVscGVyIiwic2V0SW5kZXgiLCJtYWluSGVscGVyIiwic2V0Q2xpZW50Iiwib25TdGF0ZUNoYW5nZSIsInNlYXJjaEZ1bmN0aW9uIiwiX3NlYXJjaEZ1bmN0aW9uIiwic3RhbGxlZFNlYXJjaERlbGF5IiwiX3Byb3BzJHN0YWxsZWRTZWFyY2hEIiwiX3N0YWxsZWRTZWFyY2hEZWxheSIsImNsZWFudXBUaW1lclJlZiIsInN0b3JlIiwic3RhcnRlZCIsIl9wcmV2ZW50V2lkZ2V0Q2xlYW51cCIsImNsZWFudXAiLCJkaXNwb3NlIiwidXNlckFnZW50cyIsImFkZEFsZ29saWFBZ2VudCIsImZpbHRlciIsIkJvb2xlYW4iLCJ1c2VyQWdlbnQiLCJwcm9jZXNzIiwiX3JvdXRpbmckcm91dGVyIiwid2luZG93IiwiaXNVc2luZ05leHRSb3V0ZXIiLCJyb3V0ZXIiLCJfaXNOZXh0Um91dGVyIiwiX25leHQiLCJfcHJvY2VzcyRlbnYiLCJuZXh0IiwiZW52IiwiTkVYVF9SVU5USU1FIiwidW5kZWZpbmVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/useInstantSearchApi.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/useInstantSearchContext.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/dist/es/lib/useInstantSearchContext.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useInstantSearchContext: () => (/* binding */ useInstantSearchContext)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _invariant_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./invariant.js */ \"(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/invariant.js\");\n/* harmony import */ var _InstantSearchContext_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./InstantSearchContext.js */ \"(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/InstantSearchContext.js\");\n\n\n\nfunction useInstantSearchContext() {\n    var search = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_InstantSearchContext_js__WEBPACK_IMPORTED_MODULE_1__.InstantSearchContext);\n    (0,_invariant_js__WEBPACK_IMPORTED_MODULE_2__.invariant)(search !== null, \"Hooks must be used inside the <InstantSearch> component.\\n\\n\" + \"They are not compatible with the `react-instantsearch-core` and `react-instantsearch-dom` packages, so make sure to use the <InstantSearch> component from `react-instantsearch-hooks`.\");\n    return search;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9kaXN0L2VzL2xpYi91c2VJbnN0YW50U2VhcmNoQ29udGV4dC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQW1DO0FBQ1E7QUFDc0I7QUFDMUQsU0FBU0c7SUFDZCxJQUFJQyxTQUFTSixpREFBVUEsQ0FBQ0UsMEVBQW9CQTtJQUM1Q0Qsd0RBQVNBLENBQUNHLFdBQVcsTUFBTSxpRUFBaUU7SUFDNUYsT0FBT0E7QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL21lZHVzYS1uZXh0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LWluc3RhbnRzZWFyY2gtaG9va3MvZGlzdC9lcy9saWIvdXNlSW5zdGFudFNlYXJjaENvbnRleHQuanM/NmE0OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgaW52YXJpYW50IH0gZnJvbSBcIi4vaW52YXJpYW50LmpzXCI7XG5pbXBvcnQgeyBJbnN0YW50U2VhcmNoQ29udGV4dCB9IGZyb20gXCIuL0luc3RhbnRTZWFyY2hDb250ZXh0LmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gdXNlSW5zdGFudFNlYXJjaENvbnRleHQoKSB7XG4gIHZhciBzZWFyY2ggPSB1c2VDb250ZXh0KEluc3RhbnRTZWFyY2hDb250ZXh0KTtcbiAgaW52YXJpYW50KHNlYXJjaCAhPT0gbnVsbCwgJ0hvb2tzIG11c3QgYmUgdXNlZCBpbnNpZGUgdGhlIDxJbnN0YW50U2VhcmNoPiBjb21wb25lbnQuXFxuXFxuJyArICdUaGV5IGFyZSBub3QgY29tcGF0aWJsZSB3aXRoIHRoZSBgcmVhY3QtaW5zdGFudHNlYXJjaC1jb3JlYCBhbmQgYHJlYWN0LWluc3RhbnRzZWFyY2gtZG9tYCBwYWNrYWdlcywgc28gbWFrZSBzdXJlIHRvIHVzZSB0aGUgPEluc3RhbnRTZWFyY2g+IGNvbXBvbmVudCBmcm9tIGByZWFjdC1pbnN0YW50c2VhcmNoLWhvb2tzYC4nKTtcbiAgcmV0dXJuIHNlYXJjaDtcbn0iXSwibmFtZXMiOlsidXNlQ29udGV4dCIsImludmFyaWFudCIsIkluc3RhbnRTZWFyY2hDb250ZXh0IiwidXNlSW5zdGFudFNlYXJjaENvbnRleHQiLCJzZWFyY2giXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/useInstantSearchContext.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/useInstantSearchSSRContext.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/dist/es/lib/useInstantSearchSSRContext.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useInstantSearchSSRContext: () => (/* binding */ useInstantSearchSSRContext)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _InstantSearchSSRContext_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./InstantSearchSSRContext.js */ \"(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/InstantSearchSSRContext.js\");\n\n\nfunction useInstantSearchSSRContext() {\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_InstantSearchSSRContext_js__WEBPACK_IMPORTED_MODULE_1__.InstantSearchSSRContext);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9kaXN0L2VzL2xpYi91c2VJbnN0YW50U2VhcmNoU1NSQ29udGV4dC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBbUM7QUFDb0M7QUFDaEUsU0FBU0U7SUFDZCxPQUFPRixpREFBVUEsQ0FBQ0MsZ0ZBQXVCQTtBQUMzQyIsInNvdXJjZXMiOlsid2VicGFjazovL21lZHVzYS1uZXh0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LWluc3RhbnRzZWFyY2gtaG9va3MvZGlzdC9lcy9saWIvdXNlSW5zdGFudFNlYXJjaFNTUkNvbnRleHQuanM/Njk1MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgSW5zdGFudFNlYXJjaFNTUkNvbnRleHQgfSBmcm9tIFwiLi9JbnN0YW50U2VhcmNoU1NSQ29udGV4dC5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUluc3RhbnRTZWFyY2hTU1JDb250ZXh0KCkge1xuICByZXR1cm4gdXNlQ29udGV4dChJbnN0YW50U2VhcmNoU1NSQ29udGV4dCk7XG59Il0sIm5hbWVzIjpbInVzZUNvbnRleHQiLCJJbnN0YW50U2VhcmNoU1NSQ29udGV4dCIsInVzZUluc3RhbnRTZWFyY2hTU1JDb250ZXh0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/useInstantSearchSSRContext.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/useInstantSearchServerContext.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/dist/es/lib/useInstantSearchServerContext.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useInstantSearchServerContext: () => (/* binding */ useInstantSearchServerContext)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _components_InstantSearchServerContext_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/InstantSearchServerContext.js */ \"(ssr)/./node_modules/react-instantsearch-hooks/dist/es/components/InstantSearchServerContext.js\");\n\n\nfunction useInstantSearchServerContext() {\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_components_InstantSearchServerContext_js__WEBPACK_IMPORTED_MODULE_1__.InstantSearchServerContext);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9kaXN0L2VzL2xpYi91c2VJbnN0YW50U2VhcmNoU2VydmVyQ29udGV4dC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBbUM7QUFDc0Q7QUFDbEYsU0FBU0U7SUFDZCxPQUFPRixpREFBVUEsQ0FBQ0MsaUdBQTBCQTtBQUM5QyIsInNvdXJjZXMiOlsid2VicGFjazovL21lZHVzYS1uZXh0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LWluc3RhbnRzZWFyY2gtaG9va3MvZGlzdC9lcy9saWIvdXNlSW5zdGFudFNlYXJjaFNlcnZlckNvbnRleHQuanM/NjY4MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgSW5zdGFudFNlYXJjaFNlcnZlckNvbnRleHQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9JbnN0YW50U2VhcmNoU2VydmVyQ29udGV4dC5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUluc3RhbnRTZWFyY2hTZXJ2ZXJDb250ZXh0KCkge1xuICByZXR1cm4gdXNlQ29udGV4dChJbnN0YW50U2VhcmNoU2VydmVyQ29udGV4dCk7XG59Il0sIm5hbWVzIjpbInVzZUNvbnRleHQiLCJJbnN0YW50U2VhcmNoU2VydmVyQ29udGV4dCIsInVzZUluc3RhbnRTZWFyY2hTZXJ2ZXJDb250ZXh0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/useInstantSearchServerContext.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/useIsomorphicLayoutEffect.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/dist/es/lib/useIsomorphicLayoutEffect.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useIsomorphicLayoutEffect: () => (/* binding */ useIsomorphicLayoutEffect)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n\n/**\n * `useLayoutEffect` that doesn't show a warning when server-side rendering.\n *\n * It uses `useEffect` on the server (no-op), and `useLayoutEffect` on the browser.\n */ var useIsomorphicLayoutEffect =  false ? 0 : react__WEBPACK_IMPORTED_MODULE_0__.useEffect;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9kaXN0L2VzL2xpYi91c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQW1EO0FBRW5EOzs7O0NBSUMsR0FDTSxJQUFJRSw0QkFBNEIsTUFBa0IsR0FBY0QsQ0FBZUEsR0FBR0QsNENBQVNBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZWR1c2EtbmV4dC8uL25vZGVfbW9kdWxlcy9yZWFjdC1pbnN0YW50c2VhcmNoLWhvb2tzL2Rpc3QvZXMvbGliL3VzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QuanM/ZWMyMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZUxheW91dEVmZmVjdCB9IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBgdXNlTGF5b3V0RWZmZWN0YCB0aGF0IGRvZXNuJ3Qgc2hvdyBhIHdhcm5pbmcgd2hlbiBzZXJ2ZXItc2lkZSByZW5kZXJpbmcuXG4gKlxuICogSXQgdXNlcyBgdXNlRWZmZWN0YCBvbiB0aGUgc2VydmVyIChuby1vcCksIGFuZCBgdXNlTGF5b3V0RWZmZWN0YCBvbiB0aGUgYnJvd3Nlci5cbiAqL1xuZXhwb3J0IHZhciB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB1c2VMYXlvdXRFZmZlY3QgOiB1c2VFZmZlY3Q7Il0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZUxheW91dEVmZmVjdCIsInVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/useIsomorphicLayoutEffect.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/useStableValue.js":
/*!******************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/dist/es/lib/useStableValue.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useStableValue: () => (/* binding */ useStableValue)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _dequal_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dequal.js */ \"(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/dequal.js\");\nfunction _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\nfunction _iterableToArrayLimit(arr, i) {\n    var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n    if (null != _i) {\n        var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1;\n        try {\n            if (_x = (_i = _i.call(arr)).next, 0 === i) {\n                if (Object(_i) !== _i) return;\n                _n = !1;\n            } else for(; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n        } catch (err) {\n            _d = !0, _e = err;\n        } finally{\n            try {\n                if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r)) return;\n            } finally{\n                if (_d) throw _e;\n            }\n        }\n        return _arr;\n    }\n}\nfunction _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n}\n\n\nfunction useStableValue(value) {\n    var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(function() {\n        return value;\n    }), _useState2 = _slicedToArray(_useState, 2), stableValue = _useState2[0], setStableValue = _useState2[1];\n    if (!(0,_dequal_js__WEBPACK_IMPORTED_MODULE_1__.dequal)(stableValue, value)) {\n        setStableValue(value);\n    }\n    return stableValue;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9kaXN0L2VzL2xpYi91c2VTdGFibGVWYWx1ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxTQUFTQSxlQUFlQyxHQUFHLEVBQUVDLENBQUM7SUFBSSxPQUFPQyxnQkFBZ0JGLFFBQVFHLHNCQUFzQkgsS0FBS0MsTUFBTUcsNEJBQTRCSixLQUFLQyxNQUFNSTtBQUFvQjtBQUM3SixTQUFTQTtJQUFxQixNQUFNLElBQUlDLFVBQVU7QUFBOEk7QUFDaE0sU0FBU0YsNEJBQTRCRyxDQUFDLEVBQUVDLE1BQU07SUFBSSxJQUFJLENBQUNELEdBQUc7SUFBUSxJQUFJLE9BQU9BLE1BQU0sVUFBVSxPQUFPRSxrQkFBa0JGLEdBQUdDO0lBQVMsSUFBSUUsSUFBSUMsT0FBT0MsU0FBUyxDQUFDQyxRQUFRLENBQUNDLElBQUksQ0FBQ1AsR0FBR1EsS0FBSyxDQUFDLEdBQUcsQ0FBQztJQUFJLElBQUlMLE1BQU0sWUFBWUgsRUFBRVMsV0FBVyxFQUFFTixJQUFJSCxFQUFFUyxXQUFXLENBQUNDLElBQUk7SUFBRSxJQUFJUCxNQUFNLFNBQVNBLE1BQU0sT0FBTyxPQUFPUSxNQUFNQyxJQUFJLENBQUNaO0lBQUksSUFBSUcsTUFBTSxlQUFlLDJDQUEyQ1UsSUFBSSxDQUFDVixJQUFJLE9BQU9ELGtCQUFrQkYsR0FBR0M7QUFBUztBQUMvWixTQUFTQyxrQkFBa0JULEdBQUcsRUFBRXFCLEdBQUc7SUFBSSxJQUFJQSxPQUFPLFFBQVFBLE1BQU1yQixJQUFJc0IsTUFBTSxFQUFFRCxNQUFNckIsSUFBSXNCLE1BQU07SUFBRSxJQUFLLElBQUlyQixJQUFJLEdBQUdzQixPQUFPLElBQUlMLE1BQU1HLE1BQU1wQixJQUFJb0IsS0FBS3BCLElBQUtzQixJQUFJLENBQUN0QixFQUFFLEdBQUdELEdBQUcsQ0FBQ0MsRUFBRTtJQUFFLE9BQU9zQjtBQUFNO0FBQ2xMLFNBQVNwQixzQkFBc0JILEdBQUcsRUFBRUMsQ0FBQztJQUFJLElBQUl1QixLQUFLLFFBQVF4QixNQUFNLE9BQU8sZUFBZSxPQUFPeUIsVUFBVXpCLEdBQUcsQ0FBQ3lCLE9BQU9DLFFBQVEsQ0FBQyxJQUFJMUIsR0FBRyxDQUFDLGFBQWE7SUFBRSxJQUFJLFFBQVF3QixJQUFJO1FBQUUsSUFBSUcsSUFBSUMsSUFBSUMsSUFBSUMsSUFBSUMsT0FBTyxFQUFFLEVBQUVDLEtBQUssQ0FBQyxHQUFHQyxLQUFLLENBQUM7UUFBRyxJQUFJO1lBQUUsSUFBSUosS0FBSyxDQUFDTCxLQUFLQSxHQUFHVixJQUFJLENBQUNkLElBQUcsRUFBR2tDLElBQUksRUFBRSxNQUFNakMsR0FBRztnQkFBRSxJQUFJVSxPQUFPYSxRQUFRQSxJQUFJO2dCQUFRUSxLQUFLLENBQUM7WUFBRyxPQUFPLE1BQU8sQ0FBRUEsQ0FBQUEsS0FBSyxDQUFDTCxLQUFLRSxHQUFHZixJQUFJLENBQUNVLEdBQUUsRUFBR1csSUFBSSxLQUFNSixDQUFBQSxLQUFLSyxJQUFJLENBQUNULEdBQUdVLEtBQUssR0FBR04sS0FBS1QsTUFBTSxLQUFLckIsQ0FBQUEsR0FBSStCLEtBQUssQ0FBQztRQUFJLEVBQUUsT0FBT00sS0FBSztZQUFFTCxLQUFLLENBQUMsR0FBR0wsS0FBS1U7UUFBSyxTQUFVO1lBQUUsSUFBSTtnQkFBRSxJQUFJLENBQUNOLE1BQU0sUUFBUVIsR0FBR2UsTUFBTSxJQUFLVCxDQUFBQSxLQUFLTixHQUFHZSxNQUFNLElBQUk1QixPQUFPbUIsUUFBUUEsRUFBQyxHQUFJO1lBQVEsU0FBVTtnQkFBRSxJQUFJRyxJQUFJLE1BQU1MO1lBQUk7UUFBRTtRQUFFLE9BQU9HO0lBQU07QUFBRTtBQUMza0IsU0FBUzdCLGdCQUFnQkYsR0FBRztJQUFJLElBQUlrQixNQUFNc0IsT0FBTyxDQUFDeEMsTUFBTSxPQUFPQTtBQUFLO0FBQ25DO0FBQ0k7QUFDOUIsU0FBUzJDLGVBQWVOLEtBQUs7SUFDbEMsSUFBSU8sWUFBWUgsK0NBQVFBLENBQUM7UUFDckIsT0FBT0o7SUFDVCxJQUNBUSxhQUFhOUMsZUFBZTZDLFdBQVcsSUFDdkNFLGNBQWNELFVBQVUsQ0FBQyxFQUFFLEVBQzNCRSxpQkFBaUJGLFVBQVUsQ0FBQyxFQUFFO0lBQ2hDLElBQUksQ0FBQ0gsa0RBQU1BLENBQUNJLGFBQWFULFFBQVE7UUFDL0JVLGVBQWVWO0lBQ2pCO0lBQ0EsT0FBT1M7QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL21lZHVzYS1uZXh0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LWluc3RhbnRzZWFyY2gtaG9va3MvZGlzdC9lcy9saWIvdXNlU3RhYmxlVmFsdWUuanM/MGZkZSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldOyByZXR1cm4gYXJyMjsgfVxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyB2YXIgX2kgPSBudWxsID09IGFyciA/IG51bGwgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgYXJyW1N5bWJvbC5pdGVyYXRvcl0gfHwgYXJyW1wiQEBpdGVyYXRvclwiXTsgaWYgKG51bGwgIT0gX2kpIHsgdmFyIF9zLCBfZSwgX3gsIF9yLCBfYXJyID0gW10sIF9uID0gITAsIF9kID0gITE7IHRyeSB7IGlmIChfeCA9IChfaSA9IF9pLmNhbGwoYXJyKSkubmV4dCwgMCA9PT0gaSkgeyBpZiAoT2JqZWN0KF9pKSAhPT0gX2kpIHJldHVybjsgX24gPSAhMTsgfSBlbHNlIGZvciAoOyAhKF9uID0gKF9zID0gX3guY2FsbChfaSkpLmRvbmUpICYmIChfYXJyLnB1c2goX3MudmFsdWUpLCBfYXJyLmxlbmd0aCAhPT0gaSk7IF9uID0gITApOyB9IGNhdGNoIChlcnIpIHsgX2QgPSAhMCwgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgbnVsbCAhPSBfaS5yZXR1cm4gJiYgKF9yID0gX2kucmV0dXJuKCksIE9iamVjdChfcikgIT09IF9yKSkgcmV0dXJuOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0gfVxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGRlcXVhbCB9IGZyb20gXCIuL2RlcXVhbC5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVN0YWJsZVZhbHVlKHZhbHVlKSB7XG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSksXG4gICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksXG4gICAgc3RhYmxlVmFsdWUgPSBfdXNlU3RhdGUyWzBdLFxuICAgIHNldFN0YWJsZVZhbHVlID0gX3VzZVN0YXRlMlsxXTtcbiAgaWYgKCFkZXF1YWwoc3RhYmxlVmFsdWUsIHZhbHVlKSkge1xuICAgIHNldFN0YWJsZVZhbHVlKHZhbHVlKTtcbiAgfVxuICByZXR1cm4gc3RhYmxlVmFsdWU7XG59Il0sIm5hbWVzIjpbIl9zbGljZWRUb0FycmF5IiwiYXJyIiwiaSIsIl9hcnJheVdpdGhIb2xlcyIsIl9pdGVyYWJsZVRvQXJyYXlMaW1pdCIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIl9ub25JdGVyYWJsZVJlc3QiLCJUeXBlRXJyb3IiLCJvIiwibWluTGVuIiwiX2FycmF5TGlrZVRvQXJyYXkiLCJuIiwiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJjYWxsIiwic2xpY2UiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJBcnJheSIsImZyb20iLCJ0ZXN0IiwibGVuIiwibGVuZ3RoIiwiYXJyMiIsIl9pIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJfcyIsIl9lIiwiX3giLCJfciIsIl9hcnIiLCJfbiIsIl9kIiwibmV4dCIsImRvbmUiLCJwdXNoIiwidmFsdWUiLCJlcnIiLCJyZXR1cm4iLCJpc0FycmF5IiwidXNlU3RhdGUiLCJkZXF1YWwiLCJ1c2VTdGFibGVWYWx1ZSIsIl91c2VTdGF0ZSIsIl91c2VTdGF0ZTIiLCJzdGFibGVWYWx1ZSIsInNldFN0YWJsZVZhbHVlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/useStableValue.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/useWidget.js":
/*!*************************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/dist/es/lib/useWidget.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useWidget: () => (/* binding */ useWidget)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _dequal_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./dequal.js */ \"(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/dequal.js\");\n/* harmony import */ var _useInstantSearchContext_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useInstantSearchContext.js */ \"(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/useInstantSearchContext.js\");\n/* harmony import */ var _useIsomorphicLayoutEffect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useIsomorphicLayoutEffect.js */ \"(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/useIsomorphicLayoutEffect.js\");\n\n\n\n\nfunction useWidget(_ref) {\n    var widget = _ref.widget, parentIndex = _ref.parentIndex, props = _ref.props, shouldSsr = _ref.shouldSsr;\n    var prevPropsRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(props);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function() {\n        prevPropsRef.current = props;\n    }, [\n        props\n    ]);\n    var prevWidgetRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(widget);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function() {\n        prevWidgetRef.current = widget;\n    }, [\n        widget\n    ]);\n    var cleanupTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    var shouldAddWidgetEarly = shouldSsr && !parentIndex.getWidgets().includes(widget);\n    var search = (0,_useInstantSearchContext_js__WEBPACK_IMPORTED_MODULE_1__.useInstantSearchContext)();\n    // This effect is responsible for adding, removing, and updating the widget.\n    // We need to support scenarios where the widget is remounted quickly, like in\n    // Strict Mode, so that we don't lose its state, and therefore that we don't\n    // break routing.\n    (0,_useIsomorphicLayoutEffect_js__WEBPACK_IMPORTED_MODULE_2__.useIsomorphicLayoutEffect)(function() {\n        var previousWidget = prevWidgetRef.current;\n        // Scenario 1: the widget is added for the first time.\n        if (!cleanupTimerRef.current) {\n            if (!shouldAddWidgetEarly) {\n                parentIndex.addWidgets([\n                    widget\n                ]);\n            }\n        } else {\n            // We cancel the original effect cleanup because it may not be necessary if\n            // props haven't changed. (We manually call it if it is below.)\n            clearTimeout(cleanupTimerRef.current);\n            // Warning: if an unstable function prop is provided, `dequal` is not able\n            // to keep its reference and therefore will consider that props did change.\n            // This could unsollicitely remove/add the widget, therefore forget its state,\n            // and could be a source of confusion.\n            // If users face this issue, we should advise them to provide stable function\n            // references.\n            var arePropsEqual = (0,_dequal_js__WEBPACK_IMPORTED_MODULE_3__.dequal)(props, prevPropsRef.current);\n            // If props did change, then we execute the cleanup function instantly\n            // and then add the widget back. This lets us add the widget without\n            // waiting for the scheduled cleanup function to finish (that we canceled\n            // above).\n            if (!arePropsEqual) {\n                parentIndex.removeWidgets([\n                    previousWidget\n                ]);\n                parentIndex.addWidgets([\n                    widget\n                ]);\n            }\n        }\n        return function() {\n            // We don't remove the widget right away, but rather schedule it so that\n            // we're able to cancel it in the next effect.\n            cleanupTimerRef.current = setTimeout(function() {\n                search._schedule(function() {\n                    if (search._preventWidgetCleanup) return;\n                    parentIndex.removeWidgets([\n                        previousWidget\n                    ]);\n                });\n            });\n        };\n    }, [\n        parentIndex,\n        widget,\n        shouldAddWidgetEarly,\n        search,\n        props\n    ]);\n    if (shouldAddWidgetEarly) {\n        parentIndex.addWidgets([\n            widget\n        ]);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9kaXN0L2VzL2xpYi91c2VXaWRnZXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBMEM7QUFDTDtBQUNrQztBQUNJO0FBQ3BFLFNBQVNLLFVBQVVDLElBQUk7SUFDNUIsSUFBSUMsU0FBU0QsS0FBS0MsTUFBTSxFQUN0QkMsY0FBY0YsS0FBS0UsV0FBVyxFQUM5QkMsUUFBUUgsS0FBS0csS0FBSyxFQUNsQkMsWUFBWUosS0FBS0ksU0FBUztJQUM1QixJQUFJQyxlQUFlViw2Q0FBTUEsQ0FBQ1E7SUFDMUJULGdEQUFTQSxDQUFDO1FBQ1JXLGFBQWFDLE9BQU8sR0FBR0g7SUFDekIsR0FBRztRQUFDQTtLQUFNO0lBQ1YsSUFBSUksZ0JBQWdCWiw2Q0FBTUEsQ0FBQ007SUFDM0JQLGdEQUFTQSxDQUFDO1FBQ1JhLGNBQWNELE9BQU8sR0FBR0w7SUFDMUIsR0FBRztRQUFDQTtLQUFPO0lBQ1gsSUFBSU8sa0JBQWtCYiw2Q0FBTUEsQ0FBQztJQUM3QixJQUFJYyx1QkFBdUJMLGFBQWEsQ0FBQ0YsWUFBWVEsVUFBVSxHQUFHQyxRQUFRLENBQUNWO0lBQzNFLElBQUlXLFNBQVNmLG9GQUF1QkE7SUFFcEMsNEVBQTRFO0lBQzVFLDhFQUE4RTtJQUM5RSw0RUFBNEU7SUFDNUUsaUJBQWlCO0lBQ2pCQyx3RkFBeUJBLENBQUM7UUFDeEIsSUFBSWUsaUJBQWlCTixjQUFjRCxPQUFPO1FBRTFDLHNEQUFzRDtRQUN0RCxJQUFJLENBQUNFLGdCQUFnQkYsT0FBTyxFQUFFO1lBQzVCLElBQUksQ0FBQ0csc0JBQXNCO2dCQUN6QlAsWUFBWVksVUFBVSxDQUFDO29CQUFDYjtpQkFBTztZQUNqQztRQUNGLE9BRUs7WUFDSCwyRUFBMkU7WUFDM0UsK0RBQStEO1lBQy9EYyxhQUFhUCxnQkFBZ0JGLE9BQU87WUFFcEMsMEVBQTBFO1lBQzFFLDJFQUEyRTtZQUMzRSw4RUFBOEU7WUFDOUUsc0NBQXNDO1lBQ3RDLDZFQUE2RTtZQUM3RSxjQUFjO1lBQ2QsSUFBSVUsZ0JBQWdCcEIsa0RBQU1BLENBQUNPLE9BQU9FLGFBQWFDLE9BQU87WUFFdEQsc0VBQXNFO1lBQ3RFLG9FQUFvRTtZQUNwRSx5RUFBeUU7WUFDekUsVUFBVTtZQUNWLElBQUksQ0FBQ1UsZUFBZTtnQkFDbEJkLFlBQVllLGFBQWEsQ0FBQztvQkFBQ0o7aUJBQWU7Z0JBQzFDWCxZQUFZWSxVQUFVLENBQUM7b0JBQUNiO2lCQUFPO1lBQ2pDO1FBQ0Y7UUFDQSxPQUFPO1lBQ0wsd0VBQXdFO1lBQ3hFLDhDQUE4QztZQUM5Q08sZ0JBQWdCRixPQUFPLEdBQUdZLFdBQVc7Z0JBQ25DTixPQUFPTyxTQUFTLENBQUM7b0JBQ2YsSUFBSVAsT0FBT1EscUJBQXFCLEVBQUU7b0JBQ2xDbEIsWUFBWWUsYUFBYSxDQUFDO3dCQUFDSjtxQkFBZTtnQkFDNUM7WUFDRjtRQUNGO0lBQ0YsR0FBRztRQUFDWDtRQUFhRDtRQUFRUTtRQUFzQkc7UUFBUVQ7S0FBTTtJQUM3RCxJQUFJTSxzQkFBc0I7UUFDeEJQLFlBQVlZLFVBQVUsQ0FBQztZQUFDYjtTQUFPO0lBQ2pDO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZWR1c2EtbmV4dC8uL25vZGVfbW9kdWxlcy9yZWFjdC1pbnN0YW50c2VhcmNoLWhvb2tzL2Rpc3QvZXMvbGliL3VzZVdpZGdldC5qcz9jMWNlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgZGVxdWFsIH0gZnJvbSBcIi4vZGVxdWFsLmpzXCI7XG5pbXBvcnQgeyB1c2VJbnN0YW50U2VhcmNoQ29udGV4dCB9IGZyb20gXCIuL3VzZUluc3RhbnRTZWFyY2hDb250ZXh0LmpzXCI7XG5pbXBvcnQgeyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IH0gZnJvbSBcIi4vdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdC5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVdpZGdldChfcmVmKSB7XG4gIHZhciB3aWRnZXQgPSBfcmVmLndpZGdldCxcbiAgICBwYXJlbnRJbmRleCA9IF9yZWYucGFyZW50SW5kZXgsXG4gICAgcHJvcHMgPSBfcmVmLnByb3BzLFxuICAgIHNob3VsZFNzciA9IF9yZWYuc2hvdWxkU3NyO1xuICB2YXIgcHJldlByb3BzUmVmID0gdXNlUmVmKHByb3BzKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBwcmV2UHJvcHNSZWYuY3VycmVudCA9IHByb3BzO1xuICB9LCBbcHJvcHNdKTtcbiAgdmFyIHByZXZXaWRnZXRSZWYgPSB1c2VSZWYod2lkZ2V0KTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBwcmV2V2lkZ2V0UmVmLmN1cnJlbnQgPSB3aWRnZXQ7XG4gIH0sIFt3aWRnZXRdKTtcbiAgdmFyIGNsZWFudXBUaW1lclJlZiA9IHVzZVJlZihudWxsKTtcbiAgdmFyIHNob3VsZEFkZFdpZGdldEVhcmx5ID0gc2hvdWxkU3NyICYmICFwYXJlbnRJbmRleC5nZXRXaWRnZXRzKCkuaW5jbHVkZXMod2lkZ2V0KTtcbiAgdmFyIHNlYXJjaCA9IHVzZUluc3RhbnRTZWFyY2hDb250ZXh0KCk7XG5cbiAgLy8gVGhpcyBlZmZlY3QgaXMgcmVzcG9uc2libGUgZm9yIGFkZGluZywgcmVtb3ZpbmcsIGFuZCB1cGRhdGluZyB0aGUgd2lkZ2V0LlxuICAvLyBXZSBuZWVkIHRvIHN1cHBvcnQgc2NlbmFyaW9zIHdoZXJlIHRoZSB3aWRnZXQgaXMgcmVtb3VudGVkIHF1aWNrbHksIGxpa2UgaW5cbiAgLy8gU3RyaWN0IE1vZGUsIHNvIHRoYXQgd2UgZG9uJ3QgbG9zZSBpdHMgc3RhdGUsIGFuZCB0aGVyZWZvcmUgdGhhdCB3ZSBkb24ndFxuICAvLyBicmVhayByb3V0aW5nLlxuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcHJldmlvdXNXaWRnZXQgPSBwcmV2V2lkZ2V0UmVmLmN1cnJlbnQ7XG5cbiAgICAvLyBTY2VuYXJpbyAxOiB0aGUgd2lkZ2V0IGlzIGFkZGVkIGZvciB0aGUgZmlyc3QgdGltZS5cbiAgICBpZiAoIWNsZWFudXBUaW1lclJlZi5jdXJyZW50KSB7XG4gICAgICBpZiAoIXNob3VsZEFkZFdpZGdldEVhcmx5KSB7XG4gICAgICAgIHBhcmVudEluZGV4LmFkZFdpZGdldHMoW3dpZGdldF0pO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBTY2VuYXJpbyAyOiB0aGUgd2lkZ2V0IGlzIHJlcmVuZGVyZWQgb3IgdXBkYXRlZC5cbiAgICBlbHNlIHtcbiAgICAgIC8vIFdlIGNhbmNlbCB0aGUgb3JpZ2luYWwgZWZmZWN0IGNsZWFudXAgYmVjYXVzZSBpdCBtYXkgbm90IGJlIG5lY2Vzc2FyeSBpZlxuICAgICAgLy8gcHJvcHMgaGF2ZW4ndCBjaGFuZ2VkLiAoV2UgbWFudWFsbHkgY2FsbCBpdCBpZiBpdCBpcyBiZWxvdy4pXG4gICAgICBjbGVhclRpbWVvdXQoY2xlYW51cFRpbWVyUmVmLmN1cnJlbnQpO1xuXG4gICAgICAvLyBXYXJuaW5nOiBpZiBhbiB1bnN0YWJsZSBmdW5jdGlvbiBwcm9wIGlzIHByb3ZpZGVkLCBgZGVxdWFsYCBpcyBub3QgYWJsZVxuICAgICAgLy8gdG8ga2VlcCBpdHMgcmVmZXJlbmNlIGFuZCB0aGVyZWZvcmUgd2lsbCBjb25zaWRlciB0aGF0IHByb3BzIGRpZCBjaGFuZ2UuXG4gICAgICAvLyBUaGlzIGNvdWxkIHVuc29sbGljaXRlbHkgcmVtb3ZlL2FkZCB0aGUgd2lkZ2V0LCB0aGVyZWZvcmUgZm9yZ2V0IGl0cyBzdGF0ZSxcbiAgICAgIC8vIGFuZCBjb3VsZCBiZSBhIHNvdXJjZSBvZiBjb25mdXNpb24uXG4gICAgICAvLyBJZiB1c2VycyBmYWNlIHRoaXMgaXNzdWUsIHdlIHNob3VsZCBhZHZpc2UgdGhlbSB0byBwcm92aWRlIHN0YWJsZSBmdW5jdGlvblxuICAgICAgLy8gcmVmZXJlbmNlcy5cbiAgICAgIHZhciBhcmVQcm9wc0VxdWFsID0gZGVxdWFsKHByb3BzLCBwcmV2UHJvcHNSZWYuY3VycmVudCk7XG5cbiAgICAgIC8vIElmIHByb3BzIGRpZCBjaGFuZ2UsIHRoZW4gd2UgZXhlY3V0ZSB0aGUgY2xlYW51cCBmdW5jdGlvbiBpbnN0YW50bHlcbiAgICAgIC8vIGFuZCB0aGVuIGFkZCB0aGUgd2lkZ2V0IGJhY2suIFRoaXMgbGV0cyB1cyBhZGQgdGhlIHdpZGdldCB3aXRob3V0XG4gICAgICAvLyB3YWl0aW5nIGZvciB0aGUgc2NoZWR1bGVkIGNsZWFudXAgZnVuY3Rpb24gdG8gZmluaXNoICh0aGF0IHdlIGNhbmNlbGVkXG4gICAgICAvLyBhYm92ZSkuXG4gICAgICBpZiAoIWFyZVByb3BzRXF1YWwpIHtcbiAgICAgICAgcGFyZW50SW5kZXgucmVtb3ZlV2lkZ2V0cyhbcHJldmlvdXNXaWRnZXRdKTtcbiAgICAgICAgcGFyZW50SW5kZXguYWRkV2lkZ2V0cyhbd2lkZ2V0XSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBXZSBkb24ndCByZW1vdmUgdGhlIHdpZGdldCByaWdodCBhd2F5LCBidXQgcmF0aGVyIHNjaGVkdWxlIGl0IHNvIHRoYXRcbiAgICAgIC8vIHdlJ3JlIGFibGUgdG8gY2FuY2VsIGl0IGluIHRoZSBuZXh0IGVmZmVjdC5cbiAgICAgIGNsZWFudXBUaW1lclJlZi5jdXJyZW50ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlYXJjaC5fc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChzZWFyY2guX3ByZXZlbnRXaWRnZXRDbGVhbnVwKSByZXR1cm47XG4gICAgICAgICAgcGFyZW50SW5kZXgucmVtb3ZlV2lkZ2V0cyhbcHJldmlvdXNXaWRnZXRdKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9LCBbcGFyZW50SW5kZXgsIHdpZGdldCwgc2hvdWxkQWRkV2lkZ2V0RWFybHksIHNlYXJjaCwgcHJvcHNdKTtcbiAgaWYgKHNob3VsZEFkZFdpZGdldEVhcmx5KSB7XG4gICAgcGFyZW50SW5kZXguYWRkV2lkZ2V0cyhbd2lkZ2V0XSk7XG4gIH1cbn0iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlUmVmIiwiZGVxdWFsIiwidXNlSW5zdGFudFNlYXJjaENvbnRleHQiLCJ1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IiwidXNlV2lkZ2V0IiwiX3JlZiIsIndpZGdldCIsInBhcmVudEluZGV4IiwicHJvcHMiLCJzaG91bGRTc3IiLCJwcmV2UHJvcHNSZWYiLCJjdXJyZW50IiwicHJldldpZGdldFJlZiIsImNsZWFudXBUaW1lclJlZiIsInNob3VsZEFkZFdpZGdldEVhcmx5IiwiZ2V0V2lkZ2V0cyIsImluY2x1ZGVzIiwic2VhcmNoIiwicHJldmlvdXNXaWRnZXQiLCJhZGRXaWRnZXRzIiwiY2xlYXJUaW1lb3V0IiwiYXJlUHJvcHNFcXVhbCIsInJlbW92ZVdpZGdldHMiLCJzZXRUaW1lb3V0IiwiX3NjaGVkdWxlIiwiX3ByZXZlbnRXaWRnZXRDbGVhbnVwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/useWidget.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/warn.js":
/*!********************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/dist/es/lib/warn.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   warn: () => (/* binding */ warn),\n/* harmony export */   warnCache: () => (/* binding */ warnCache)\n/* harmony export */ });\n/* eslint-disable no-console, no-empty */ var warnCache = {\n    current: {}\n};\n/**\n * Logs a warning if the condition is not met.\n * This is used to log issues in development environment only.\n */ function warn(condition, message) {\n    if (false) {}\n    if (condition) {\n        return;\n    }\n    var sanitizedMessage = message.trim();\n    var hasAlreadyPrinted = warnCache.current[sanitizedMessage];\n    if (!hasAlreadyPrinted) {\n        warnCache.current[sanitizedMessage] = true;\n        var warning = \"[InstantSearch] \".concat(sanitizedMessage);\n        console.warn(warning);\n        try {\n            // Welcome to debugging InstantSearch.\n            //\n            // This error was thrown as a convenience so that you can find the source\n            // of the warning that appears in the console by enabling \"Pause on exceptions\"\n            // in your debugger.\n            throw new Error(warning);\n        } catch (error) {}\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9kaXN0L2VzL2xpYi93YXJuLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsdUNBQXVDLEdBRWhDLElBQUlBLFlBQVk7SUFDckJDLFNBQVMsQ0FBQztBQUNaLEVBQUU7QUFFRjs7O0NBR0MsR0FDTSxTQUFTQyxLQUFLQyxTQUFTLEVBQUVDLE9BQU87SUFDckMsSUFBSSxLQUF1QyxFQUFJLEVBRTlDO0lBQ0QsSUFBSUQsV0FBVztRQUNiO0lBQ0Y7SUFDQSxJQUFJRyxtQkFBbUJGLFFBQVFHLElBQUk7SUFDbkMsSUFBSUMsb0JBQW9CUixVQUFVQyxPQUFPLENBQUNLLGlCQUFpQjtJQUMzRCxJQUFJLENBQUNFLG1CQUFtQjtRQUN0QlIsVUFBVUMsT0FBTyxDQUFDSyxpQkFBaUIsR0FBRztRQUN0QyxJQUFJRyxVQUFVLG1CQUFtQkMsTUFBTSxDQUFDSjtRQUN4Q0ssUUFBUVQsSUFBSSxDQUFDTztRQUNiLElBQUk7WUFDRixzQ0FBc0M7WUFDdEMsRUFBRTtZQUNGLHlFQUF5RTtZQUN6RSwrRUFBK0U7WUFDL0Usb0JBQW9CO1lBQ3BCLE1BQU0sSUFBSUcsTUFBTUg7UUFDbEIsRUFBRSxPQUFPSSxPQUFPLENBQUM7SUFDbkI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL21lZHVzYS1uZXh0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LWluc3RhbnRzZWFyY2gtaG9va3MvZGlzdC9lcy9saWIvd2Fybi5qcz9kMGYxIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUsIG5vLWVtcHR5ICovXG5cbmV4cG9ydCB2YXIgd2FybkNhY2hlID0ge1xuICBjdXJyZW50OiB7fVxufTtcblxuLyoqXG4gKiBMb2dzIGEgd2FybmluZyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXQuXG4gKiBUaGlzIGlzIHVzZWQgdG8gbG9nIGlzc3VlcyBpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudCBvbmx5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gd2Fybihjb25kaXRpb24sIG1lc3NhZ2UpIHtcbiAgaWYgKCEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChjb25kaXRpb24pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIHNhbml0aXplZE1lc3NhZ2UgPSBtZXNzYWdlLnRyaW0oKTtcbiAgdmFyIGhhc0FscmVhZHlQcmludGVkID0gd2FybkNhY2hlLmN1cnJlbnRbc2FuaXRpemVkTWVzc2FnZV07XG4gIGlmICghaGFzQWxyZWFkeVByaW50ZWQpIHtcbiAgICB3YXJuQ2FjaGUuY3VycmVudFtzYW5pdGl6ZWRNZXNzYWdlXSA9IHRydWU7XG4gICAgdmFyIHdhcm5pbmcgPSBcIltJbnN0YW50U2VhcmNoXSBcIi5jb25jYXQoc2FuaXRpemVkTWVzc2FnZSk7XG4gICAgY29uc29sZS53YXJuKHdhcm5pbmcpO1xuICAgIHRyeSB7XG4gICAgICAvLyBXZWxjb21lIHRvIGRlYnVnZ2luZyBJbnN0YW50U2VhcmNoLlxuICAgICAgLy9cbiAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiBmaW5kIHRoZSBzb3VyY2VcbiAgICAgIC8vIG9mIHRoZSB3YXJuaW5nIHRoYXQgYXBwZWFycyBpbiB0aGUgY29uc29sZSBieSBlbmFibGluZyBcIlBhdXNlIG9uIGV4Y2VwdGlvbnNcIlxuICAgICAgLy8gaW4geW91ciBkZWJ1Z2dlci5cbiAgICAgIHRocm93IG5ldyBFcnJvcih3YXJuaW5nKTtcbiAgICB9IGNhdGNoIChlcnJvcikge31cbiAgfVxufSJdLCJuYW1lcyI6WyJ3YXJuQ2FjaGUiLCJjdXJyZW50Iiwid2FybiIsImNvbmRpdGlvbiIsIm1lc3NhZ2UiLCJwcm9jZXNzIiwic2FuaXRpemVkTWVzc2FnZSIsInRyaW0iLCJoYXNBbHJlYWR5UHJpbnRlZCIsIndhcm5pbmciLCJjb25jYXQiLCJjb25zb2xlIiwiRXJyb3IiLCJlcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/dist/es/lib/warn.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-instantsearch-hooks/dist/es/version.js":
/*!*******************************************************************!*\
  !*** ./node_modules/react-instantsearch-hooks/dist/es/version.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"6.47.3\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaW5zdGFudHNlYXJjaC1ob29rcy9kaXN0L2VzL3ZlcnNpb24uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLFVBQVMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZWR1c2EtbmV4dC8uL25vZGVfbW9kdWxlcy9yZWFjdC1pbnN0YW50c2VhcmNoLWhvb2tzL2Rpc3QvZXMvdmVyc2lvbi5qcz82ODNhIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0ICc2LjQ3LjMnOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-instantsearch-hooks/dist/es/version.js\n");

/***/ })

};
;